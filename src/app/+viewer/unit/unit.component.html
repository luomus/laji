<hr>
<div class="unit">
  <div [ngClass]="{'highlight': highlight === unit.unitId}">
    <laji-row [title]="'MY.recordBasis'" [value]="unit.recordBasis | label: true"></laji-row>
    <laji-row [title]="'MY.taxon'" *ngIf="unit && unit.linkings && unit.linkings.taxon">
      <span class="vernacularName" *ngIf="unit.linkings.taxon.vernacularName">
        {{unit.linkings.taxon.vernacularName | multiLang}}
      </span>
      <span class="scientificName">
        (<i *ngIf="unit.linkings.taxon.cursiveName">{{unit.linkings.taxon.scientificName}}</i><span *ngIf="!unit.linkings.taxon.cursiveName">{{unit.linkings.taxon.scientificName}}</span>)
        <a [routerLink]="['/taxon/' + unit.linkings.taxonId]"><i class="glyphicon glyphicon-modal-window"></i></a>
      </span>
    </laji-row>
    <div *ngIf="unit && (!unit.linkings || !unit.linkings.taxon)">
      <laji-row [title]="'taxonVerbatim'" [value]="unit.taxonVerbatim"></laji-row>
    </div>
    <laji-row [title]="'MY.count'" [value]="unit.abundanceString"></laji-row>
    <laji-row [title]="'lifeStage'" [value]="unit.lifeStage | label: true"></laji-row>
    <laji-row [title]="'sex'" [value]="unit.sex | label: true"></laji-row>
    <laji-row [title]="'MY.notes'" [value]="unit.notes"></laji-row>
    <div class="facts" *ngIf="showFacts">
      <laji-row [title]="item.fact | lcFirst" [value]="item.value | toQName | label: true" *ngFor="let item of unit.facts"></laji-row>
    </div>

    <div class="row">
      <div class="col-xs-12 col-md-8 col-md-offset-4">
        <div class="image-holder">
          <laji-image-gallery *ngIf="unit.media" [modalImages]="unit.media"></laji-image-gallery>
        </div>
      </div>
    </div>
  </div>
  <div class="annotation-btn">
    <button type="button"
            [tooltip]="'annotation.title' | translate"
            class="btn btn-xs {{annotationClass$ | async}}"
            (click)="toggleAnnotations()">
      <i class="fa {{annotationIcon}}"></i>
    </button>
  </div>
  <div *ngIf="annotationVisible">
    <div class="row">
      <div class="col-xs-12 col-md-10 col-md-offset-2">
        <laji-annotations
          [editors]="editors"
          [personID]="personID"
          [rootID]="documentID"
          [targetID]="unitID"
          (close)="hideAnnotations()"
          (onChange)="initAnnotationStatus()"
        ></laji-annotations>
      </div>
    </div>
  </div>
</div>
