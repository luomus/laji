<div *ngIf="hasDoc && document">
  <div class="row {{document.secureLevel | label}}">
    <div class="col-sm-7">
      <div class="page-header" *ngIf="showTitle">
        <h2>{{'viewer.document' | translate }} <small>{{document.documentId}}</small></h2>
      </div>
      <laji-row [title]="'MY.collectionID'" [value]="document.collectionId | toQName | collectionName"></laji-row>
      <laji-row [title]="'namedPlaceId'" [value]="document.namedPlaceId | toQName"></laji-row>
      <laji-row [title]="'secureLevel'" [value]="document.secureLevel | label"></laji-row>
      <laji-row [title]="'createdDate'" [value]="document.createdDate | date:'dd.MM.yyyy'"></laji-row>
      <laji-row [title]="'modifiedDate'" [value]="document.modifiedDate | date:'dd.MM.yyyy'"></laji-row>
      <laji-row [title]="'loadDate'" [value]="document.loadDate | date:'dd.MM.yyyy'"></laji-row>
      <laji-row [title]="'MZ.editor'" *ngIf="document.linkings && document.linkings.editors">
        {{document.linkings.editors | values:', ':'fullName' }}
      </laji-row>
      <laji-row [title]="item.fact | lcFirst" [value]="item.value | toQName | label" *ngFor="let item of document.facts"></laji-row>
    </div>
    <div class="col-sm-5" style="padding-top: 20px;" *ngIf="document.media">
      <laji-image-gallery [modalImages]="document.media"></laji-image-gallery>
    </div>
  </div>
  <div *ngIf="document.gatherings.length > 1" class="gatherings">
    <ul class="nav nav-tabs link">
      <li *ngFor="let gathering of document.gatherings; let i=index" [ngClass]="{active: active === i}">
        <a (click)="setActive(i)">
         {{ 'viewer.gathering' | translate }} {{i + 1}}
        </a>
      </li>
    </ul>
  </div>
  <div class="row">
    <div class="col-sm-7">
      <div *ngFor="let gathering of document.gatherings; let i=index">
        <laji-gathering [gathering]="gathering" [highlight]="highlight" [visible]="active === i"></laji-gathering>
      </div>
    </div>
    <div class="col-sm-5">
      <laji-viewer-map *ngIf="mapData.length > 0" [data]="mapData"></laji-viewer-map>
      <laji-image-gallery *ngIf="activeGathering && activeGathering.media" [modalImages]="activeGathering.media"></laji-image-gallery>
    </div>
  </div>
</div>
<div *ngIf="hasDoc === false">
  <div class="page-header">
    <h2>{{'viewer.notFound' | translate}}</h2>
  </div>
</div>
<!--<pre>{{document | json}}</pre>-->