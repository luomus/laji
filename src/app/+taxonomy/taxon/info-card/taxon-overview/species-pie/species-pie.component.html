<div *ngIf="lineChartData && lineChartData.length > 0" style="margin-top: 20px">
  <div class="info-card-chart">
    <!--<ngx-charts-tree-map
      [results]="data"
      [labelFormatting]="labelFormatting"
      [valueFormatting]="valueFormatting"
      (select)="taxonSelect.emit($event.name)"
    >
      <ng-template #tooltipTemplate let-model="model">
        <span *ngIf="dataById[model.name].vernacularName" class="tooltip-label">
          {{ dataById[model.name].vernacularName }}
        </span>
        <span *ngIf="!dataById[model.name].vernacularName" class="tooltip-label" [class.cursive]="dataById[model.name].cursiveName">
          {{ dataById[model.name].scientificName }}
        </span>
        <span class="tooltip-val">
          {{ model.value }}
          <ng-container *ngIf="model.value === 1"> {{ 'taxonomy.species.singular' | translate }}</ng-container>
          <ng-container *ngIf="model.value !== 1"> {{ 'taxonomy.species' | translate }}</ng-container>
        </span>
      </ng-template>
    </ngx-charts-tree-map>-->
    <laji-chart #lineChart
    [datasets]="lineChartData[0]['data']"
    [labels]="lineChartLabels"
    [options]="lineChartOptions"
    [legend]="false"
    [colors]="lineChartColors"
    [plugins]=""
    chartType="treemap"
    (chartClick)="taxonSelect.emit(lineChartData[0]['data'][0]['tree'][$event['active'][0]['_index']].id)"
  ></laji-chart>
  </div>
  <span>
    {{ 'taxonomy.total' | translate }} {{ total }}
    {{ (total === 1 ? 'taxonomy.species.singular' : 'taxonomy.species') | translate }}
  </span>
</div>
