<ng-container *ngIf="taxon">
  <laji-info-card-header
    [taxon]="taxon"
    [activeTab]="activeTab"
    (taxonSelect)="updateRoute($event)"
  ></laji-info-card-header>

  <lu-tabs class="d-block mx-5" [selectedIndex]="getVisibleTabIndexFromTabName(selectedTab)" (selectedChange)="onSelect($event)">
    <lu-tab [heading]="'taxonomy.overview' | translate">
      <laji-taxon-overview
        *ngIf="loadedTabs.isLoaded('overview')"
        [taxon]="taxon"
        [isFromMasterChecklist]="isFromMasterChecklist"
        [taxonDescription]="taxonDescription"
        [images]="images"
        (taxonSelect)="updateRoute($event)"
      ></laji-taxon-overview>
    </lu-tab>
    <lu-tab [heading]="'Identification'" *lajiForTypes="['dev']">
      <laji-taxon-identification
        *ngIf="loadedTabs.isLoaded('identification')"
        [taxon]="taxon"
      ></laji-taxon-identification>
    </lu-tab>
    <lu-tab [heading]="'species.images' | translate" *ngIf="hasImageData">
      <laji-taxon-images
        *ngIf="loadedTabs.isLoaded('images')"
        [taxon]="taxon"
        [taxonImages]="taxonImages"
        [isFromMasterChecklist]="isFromMasterChecklist"
      ></laji-taxon-images>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.biology' | translate" *ngIf="hasBiologyData">
      <laji-taxon-biology
        *ngIf="loadedTabs.isLoaded('biology')"
        [taxon]="taxon"
        [taxonDescription]="taxonDescription"
        [context]="context"
        (contextChange)="updateRoute(taxon.id, activeTab, $event)"
      ></laji-taxon-biology>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.taxonomy' | translate">
      <laji-taxon-taxonomy
        *ngIf="loadedTabs.isLoaded('taxonomy')"
        [taxon]="taxon"
        [taxonDescription]="taxonDescription"
        (taxonSelect)="updateRoute($event)"
      ></laji-taxon-taxonomy>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.occurrence' | translate">
      <laji-taxon-occurrence
        *ngIf="loadedTabs.isLoaded('occurrence')"
        [taxon]="taxon"
        [taxonDescription]="taxonDescription"
        [isFromMasterChecklist]="isFromMasterChecklist"
      ></laji-taxon-occurrence>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.specimens' | translate" *ngIf="isFromMasterChecklist">
      <laji-taxon-specimens
        *ngIf="loadedTabs.isLoaded('specimens')"
        [taxon]="taxon"
      ></laji-taxon-specimens>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.endangerment' | translate" *ngIf="isEndangered">
      <laji-taxon-endangerment
        *ngIf="loadedTabs.isLoaded('endangerment')"
        [taxon]="taxon"
      ></laji-taxon-endangerment>
    </lu-tab>
    <lu-tab [heading]="'taxonomy.invasive' | translate" *ngIf="taxon.invasiveSpecies">
      <laji-taxon-invasive
        *ngIf="loadedTabs.isLoaded('invasive')"
        [taxon]="taxon"
        [taxonDescription]="taxonDescription"
      ></laji-taxon-invasive>
    </lu-tab>
  </lu-tabs>
</ng-container>

