<ngx-datatable
  [style.height]="'calc(70vh - 30px)'"
  class='material striped laji-datatable'
  [messages]="{ emptyMessage: '', totalMessage: '' }"
  [scrollbarH]="true"
  [scrollbarV]="true"
  [rows]="rows"
  [columns]="_columns"
  [headerHeight]="38"
  [rowClass]="rowClass"
  (activate)="onRowSelect($event)">
</ngx-datatable>

<ng-template let-value="value" #expander>
  <span [ngStyle]="{'padding-left': (10 * value.state.level) + 'px'}">
    <span *ngIf="value.state.level !== 0"
          class="tree-side-line"
          [ngClass]="{'first-child': value.state.isFirstChild}"
          [ngStyle]="{'left': (10 * value.state.level + 7) + 'px'}"></span>
    <i class="glyphicon glyphicon-triangle-right"
       [ngStyle]="{visibility: value.data.hasChildren ? 'visible' : 'hidden'}"
       *ngIf="!value.state.isExpanded"></i>
    <laji-spinner *ngIf="value.state.isExpanded && value.state.isLoading"></laji-spinner>
    <i class="glyphicon glyphicon-triangle-bottom" *ngIf="value.state.isExpanded && !value.state.isLoading"></i>
    <span class="inline">
      <ng-container *ngTemplateOutlet="expanderLabel; context: {'value': value.data}"></ng-container>
    </span>
  </span>
</ng-template>

<laji-datatable-templates #datatableTemplates></laji-datatable-templates>
