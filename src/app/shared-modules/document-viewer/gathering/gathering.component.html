<div [hidden]="!visible" class="gathering">
  <ng-container *ngIf="!showAnnotation"> 
      <laji-issues [data]="gathering"></laji-issues>
      <laji-gathering-rows [gathering]="gathering"></laji-gathering-rows>
      <laji-facts [show]="showFacts" [facts]="gathering.facts | factNotIn:['http://tun.fi/MY.namedPlaceID']"></laji-facts>
  </ng-container>
  <ng-container *ngFor="let unit of gathering?.units">
    <ng-container *ngIf="(unit.unitId === highlight && showOnlyHighlightedUnit) || !showOnlyHighlightedUnit">
      <laji-unit [identifying]="identifying" [openAnnotation]="openAnnotation" [showFacts]="showFacts" [editors]="editors" [personID]="personID" [documentID]="documentID" [unit]="unit" [highlight]="highlight" [showAnnotation]="showAnnotation"></laji-unit>
    </ng-container>
  </ng-container>
  <!--<ng-container *ngIf="!showAnnotation">
    <laji-row [showWithoutValue]="true" *ngIf="showOnlyHighlightedUnit && unitCnt > 1">
      <button type="button" (click)="showAllUnits.emit()" class="btn btn-default btn-sm all-units-btn">
        {{ 'viewer.otherUnits' | translate:{cnt: unitCnt - 1} }}
      </button>
    </laji-row>
  </ng-container>-->
  <div class="observations" *ngIf="!showAnnotation">
    <div class="number-observations" *ngIf="unitCnt > 0 else nobservations">
       {{ unitCnt }} <span *ngIf="unitCnt == 1">{{ 'haseka.users.latest.gathered.singular' | translate }}</span> <span *ngIf="unitCnt > 1">{{ 'haseka.users.latest.gathered' | translate }}</span> 
    </div>
    <ng-template #nobservations>
      <span>{{ 'observations.list.empty' | translate }}</span>
    </ng-template>
  </div>
</div>
