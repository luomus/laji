<div [hidden]="!visible" class="gathering">
        <ng-container *ngIf="!showAnnotation">
            <laji-issues [data]="gathering"></laji-issues>
            <laji-gathering-annotations-rows [gathering]="gathering"></laji-gathering-annotations-rows>
            <laji-facts [show]="showFacts" [facts]="gathering.facts | factNotIn:['http://tun.fi/MY.namedPlaceID']"></laji-facts>
        </ng-container>
            <ng-container *ngFor="let unit of gathering?.units">
                <ng-container *ngIf="!showAnnotation; else annotation">
                    <ng-container *ngIf="(unit.unitId === highlight && showOnlyHighlightedUnit) || !showOnlyHighlightedUnit">
                                <laji-unit-annotation [identifying]="identifying" [openAnnotation]="openAnnotation" [showFacts]="showFacts" [editors]="editors" [personID]="personID" [documentID]="documentID" [unit]="unit" [highlight]="highlight"></laji-unit-annotation>
                    </ng-container>
                </ng-container>
                <ng-template #annotation>
                    <ng-container *ngIf="(unit.unitId === highlight && showOnlyHighlightedUnit) || !showOnlyHighlightedUnit">
                        <laji-unit-annotation-list [identifying]="identifying" [openAnnotation]="openAnnotation" [showFacts]="showFacts" [editors]="editors" [personID]="personID" [personRoleAnnotation]="personRoleAnnotation" [documentID]="documentID" [unit]="unit" [highlight]="highlight"></laji-unit-annotation-list>
                    </ng-container>    
                </ng-template>
            </ng-container>


        <div class="observations" *ngIf="!showAnnotation">
            <div class="number-observations" *ngIf="unitCnt > 0 else nobservations">
                {{ unitCnt }} <span *ngIf="unitCnt == 1">{{ 'haseka.users.latest.gathered.singular' | translate }}</span> <span *ngIf="unitCnt > 1">{{ 'haseka.users.latest.gathered' | translate }}</span> 
            </div>
            <ng-template #nobservations>
            <span>{{ 'observations.list.empty' | translate }}</span>
        </ng-template>
      </div>
      
