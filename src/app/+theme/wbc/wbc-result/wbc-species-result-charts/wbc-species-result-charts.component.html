<laji-spinner [spinning]="loading">
  <ng-container *ngIf="!loading">
    <h3>{{taxon.vernacularName | titlecase}} - {{taxon.scientificName}}</h3>
    <laji-wbc-result-filters [showSeasonFilter]="compareMode === 'year'"
                             [yearRequired]="true"
                             (yearChange)="activeYear = $event"
                             (seasonChange)="activeSeason = $event"
                             (areaChange)="activeBirdAssociationArea = $event"
    ></laji-wbc-result-filters>
    <h4>Kausivertailu</h4>
    <laji-wbc-species-result-maps [taxonId]="taxon.id"
                                  [taxonCensus]="isMammal ? mammals : undefined"
                                  [year]="activeYear"
                                  [season]="activeSeason"
                                  [birdAssociationArea]="activeBirdAssociationArea"
    ></laji-wbc-species-result-maps>
    <hr>
    <h4>Runsauden kehitys vuosittain</h4>
    <laji-wbc-species-result-linecharts [taxonId]="taxon.id"
                                        [taxonCensus]="isMammal ? mammals : undefined"
                                        [birdAssociationArea]="activeBirdAssociationArea"
    ></laji-wbc-species-result-linecharts>
  </ng-container>
</laji-spinner>
