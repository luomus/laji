<h3>{{ 'wbc.stats.censuses' | translate }}</h3>

<laji-wbc-result-filters (yearChange)="activeYear = $event; onFilterChange()"
                         (seasonChange)="activeSeason = $event; onFilterChange()"
                         [yearRequired]="true"
                         [showAreaFilter]="false"
></laji-wbc-result-filters>

<div id="navbar">
  <ul class="nav nav-tabs nav-justified">
    <li role="presentation" [ngClass]="{active: active === 'list'}">
      <a (click)="setActive('list')">{{ 'np.list' | translate }}</a>
    </li>
    <li role="presentation" [ngClass]="{active: active === 'map'}">
      <a (click)="setActive('map')">{{ 'np.map' | translate }}</a>
    </li>
  </ul>
</div>

<laji-wbc-routes-list
  *ngIf="active === 'list'"
  [rows]="rows"
  [selected]="selected"
  [sorts]="sorts"
  [showNameAsLink]="false"
  [loading]="loading"
  [countLabel]="'wbc.stats.route.count'"
  (rowSelect)="openViewer($event['document.documentId'])"
></laji-wbc-routes-list>
<laji-wbc-routes-map
  *ngIf="active === 'map'"
  [data]="rows"
  [showNameAsLink]="false"
  [loading]="loading"
  [countLabel]="'wbc.stats.censusCount'"
  (rowSelect)="openViewer($event['document.documentId'])"
></laji-wbc-routes-map>
