<laji-spinner [spinning]="!buffer" [overlay]="true">
  <div id="spectrogramContainer" [ngClass]="{'visibility-hidden': !buffer}">
    <laji-audio-spectrogram
      [buffer]="buffer"
      [currentTime]="currentTime"
      [nperseg]="nperseg"
      [noverlap]="noverlap"
      [xRange]="xRange && xRange.length > 0 ? [xRange[0] - start, xRange[1] - start] : undefined"
      [yRange]="yRange"
      [zoomed]="zoomed"
      (spectrogramReady)="setAudioLoading(false)"
      (startDrag)="onSpectrogramDragStart()"
      (endDrag)="onSpectrogramDragEnd($event)"
    ></laji-audio-spectrogram>
  </div>

  <div id="audioControls" [ngClass]="{'visibility-hidden': !buffer}">
    <button class="btn btn-default" (click)="toggleAudio()" [disabled]="loading">
      <span
        class="fa"
        [ngClass]="{'fa-play': !isPlaying, 'fa-pause': isPlaying}"
      >
      </span>
    </button>
  </div>
</laji-spinner>
