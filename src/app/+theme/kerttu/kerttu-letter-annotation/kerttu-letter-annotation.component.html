<alert type="danger" [dismissible]="false" *ngIf="hasError">{{ "haseka.form.genericError" | translate }}</alert>

<h1>{{ 'theme.kerttu.letterAnnotation' | translate }}</h1>

<div class="lu-section" *lajiRequiresAudioSupport>
  <laji-spinner [spinning]="!(allLettersAnnotated || taxonExpertiseMissing) && loadingLetters" [overlay]="true">
    <laji-letter-annotation
      *ngIf="!(allLettersAnnotated || taxonExpertiseMissing) && firstTemplateLoaded"
      [ngClass]="{'visibility-hidden': loadingLetters}"
      [template]="letterTemplate"
      [candidate]="letterCandidate"
      [statusInfo]="statusInfo"
      (annotationChange)="onLetterAnnotationChange($event)"
      (skipLetterClick)="skipLetter()"
      (backToPreviousCandidateClick)="goBackToPreviousCandidate()"
    ></laji-letter-annotation>
  </laji-spinner>
  <div *ngIf="taxonExpertiseMissing" [innerHTML]="'theme.kerttu.taxonExpertiseMissing' | translate">
  </div>
  <div *ngIf="allLettersAnnotated" [innerHTML]="'theme.kerttu.allLettersAnnotated' | translate">
  </div>
</div>

