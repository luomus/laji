<laji-spinner [spinning]="loading" [overlay]="true">
  <div class="row" *ngIf="!loading">
    <div *ngFor="let table of tables" class="col-xs-12 col-sm-4 most-active-table">
      <div class="datatable-top-header-wrapper ngx-datatable material">
        <div class="datatable-top-header datatable-header">
          <div class="datatable-header-cell">
            <span class="datatable-header-cell-wrapper" title="{{'quality.mostActive.' + table.prop | translate}}">
              <span class="datatable-header-cell-label">
                {{'quality.mostActive.' + table.prop | translate}}
              </span>
            </span>
          </div>
        </div>
      </div>

      <ngx-datatable
        class="material striped"
        [rows]="table.data"
        [columnMode]="'force'"
        [headerHeight]="0"
        [rowHeight]="'auto'"
        [messages]="{ emptyMessage: '', totalMessage: '' }">

        <ngx-datatable-column [prop]="'userId'"
                              [sortable]="false"
                              [resizeable]="false"
                              [draggable]="false"
                              [flexGrow]="1">

          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
            {{value | users}}
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column [prop]="'count'"
                              [sortable]="false"
                              [resizeable]="false"
                              [draggable]="false"
                              [flexGrow]="1">
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
</laji-spinner>
