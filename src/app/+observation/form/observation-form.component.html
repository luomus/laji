<div class="taxon-panel">
  <div class="row">
    <label class="col-lg-12">
      {{'observation.active.informalTaxonGroupId' | translate}}:<laji-info>
      {{'observation.info.informalTaxonGroup' | translate}}
    </laji-info>
    </label>
  </div>
  <div class="row">
    <div class="lj-input-wrap">
      <observation-group-select
        [(ngModel)]="formQuery.informalTaxonGroupId"
        name="informalTaxonGroupId"
        [lang]="lang"
        (onSelect)="onFormQueryChange()">
        {{'observation.active.informalTaxonGroupAll'|translate}}
      </observation-group-select>
    </div>
  </div>
  <div class="form-group">
    <label class="col-lg-12">
      {{'observation.form.target' | translate}}:<laji-info>
      <span [innerHtml]="'observation.info.target' | translate"></span>
    </laji-info>
    </label>
    <div class="col-lg-12">
      <input
        [ngClass]="{loading: typeaheadLoading}"
        type="text"
        class="form-control input-sm"
        name="target"
        [(ngModel)]="formQuery.taxon"
        [typeahead]="dataSource"
        [typeaheadOptionsLimit]="autocompleteLimit"
        [typeaheadWaitMs]="200"
        [typeaheadMinLength]="3"
        [typeaheadFocusFirst]="false"
        [typeaheadOptionField]="'value'"
        [typeaheadItemTemplate]="taxonItem"
        (typeaheadLoading)="changeTypeaheadLoading($event)"
        (typeaheadOnSelect)="onTaxonSelect($event)"
        (keyup)="onTaxonSelect($event)"
        autocomplete="off"
        autocorrect="off"
      >
      <ng-template #taxonItem let-model="item">
        <h5 class="autosuggest-value {{model.groups}} informal-group-image">
          {{model.value}}
        </h5>
      </ng-template>
      <laji-pill-list
        [list]="searchQuery.target || []"
        (updateList)="updateSearchQuery('target', $event)"
      ></laji-pill-list>
      <laji-pill-list
        [list]="searchQuery.originalTarget || []"
        (updateList)="updateSearchQuery('originalTarget', $event)"
      ></laji-pill-list>
      <laji-pill-list
        [list]="searchQuery.exactTarget || []"
        (updateList)="updateSearchQuery('exactTarget', $event)"
      ></laji-pill-list>
      <laji-pill-list
        [list]="searchQuery.originalExactTarget || []"
        (updateList)="updateSearchQuery('originalExactTarget', $event)"
      ></laji-pill-list>
    </div>
  </div>
  <div style="margin-bottom: 15px" laji-panel [title]="'observation.extra' | translate" [autoToggle]="true">
    <div class="row">
      <div class="row">
        <div class="col-lg-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.taxonIncludeLower"
                   (change)="onTaxonTargetChange()"
                   name="taxonIncludeLower">
            {{'observation.keepSsp' | translate}}
          </label>
          <laji-info>
            {{'observation.info.keepSsp' | translate}}
          </laji-info>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.taxonUseAnnotated"
                   (change)="onTaxonTargetChange()"
                   name="taxonIncludeLower">
            {{'observation.changedNames' | translate}}
          </label>
          <laji-info>
            {{'observation.info.changedNames' | translate}}
          </laji-info>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div *lajiLoggedIn="true">
    <div laji-panel [title]="'observation.form.own' | translate" [autoToggle]="true">
      <div class="row">
        <div class="col-sm-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.asObserver"
                   (ngModelChange)="ownItemSelected()"
                   name="asObserver">
            {{'observation.form.asObserver' | translate}}
          </label>
          <laji-info>
            {{'observation.info.asObserver' | translate}}
          </laji-info>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.asEditor"
                   (ngModelChange)="ownItemSelected()"
                   name="asEditor">
            {{'observation.form.asEditor' | translate}}
          </label>
          <laji-info>
            {{'observation.info.asEditor' | translate}}
          </laji-info>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <laji-select
            [selected]="[searchQuery.qualityIssues]"
            (selectedChanged)="indirectQueryChange('qualityIssues', $event[0])"
            [multiple]="false"
            [title]="'observation.form.qualityIssues' | translate"
            [info]="'observation.info.qualityIssues' | translate"
            [options]="[
            {id: 'BOTH', value: ('observation.form.qualityIssuesBOTH' | translate)},
            {id: 'NO_ISSUES', value: ('observation.form.qualityIssuesNO_ISSUES' | translate)},
            {id: 'ONLY_ISSUES', value: ('observation.form.qualityIssuesONLY_ISSUES' | translate)}
          ]"
            [lang]="lang"></laji-select>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.date' | translate" [autoToggle]="true">
    <div class="row">
      <div class="lj-input-wrap">
        <label>
          {{'observation.form.time' | translate}}:<laji-info>
          {{'observation.info.time' | translate}}
        </laji-info>
        </label>
        <laji-datepicker
          [(ngModel)]="formQuery.timeStart"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeStart"></laji-datepicker>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <laji-datepicker
          [(ngModel)]="formQuery.timeEnd"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [toLastOfYear]="true"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeEnd"></laji-datepicker>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <div class="btn-group">
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(1)">{{'observations.form.1d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(7)">{{'observations.form.7d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(365)">
            {{'observation.form.thisYear' | translate}}
          </button>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <label>
          {{'observation.form.season' | translate}}:<laji-info>{{'observation.info.season' | translate}}</laji-info>
        </label>
        <laji-season [season]="searchQuery.season" (seasonChange)="updateSearchQuery('season', $event)"></laji-season>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <label>
          {{'observation.form.loaded' | translate}}:<laji-info>
          {{'observation.info.loaded' | translate}}
        </laji-info>
        </label>
        <laji-datepicker
          [(ngModel)]="searchQuery.firstLoadedLaterThan"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeStart"></laji-datepicker>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <laji-datepicker
          [(ngModel)]="searchQuery.firstLoadedBefore"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [toLastOfYear]="true"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeEnd"></laji-datepicker>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <div class="btn-group">
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(1, 'loaded')">{{'observations.form.1d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(7, 'loaded')">{{'observations.form.7d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(365, 'loaded')">
            {{'observation.form.thisYear' | translate}}
          </button>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel
       [open]="showPlace"
       (activate)="togglePlace($event)"
       [title]="'observation.form.place' | translate">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.country' | translate"
          [(ngModel)]="searchQuery.countryId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [firstOptions]="['ML.206']"
          [placeholder]="'result.gathering.country'"
          name="countryId"
          [field]="areaType.Country"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.biogeographicalProvince' | translate"
          [(ngModel)]="searchQuery.biogeographicalProvinceId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [placeholder]="'result.gathering.biogeographicalProvince'"
          name="biogeographicalProvinceId"
          [field]="areaType.Biogeographical"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.municipality' | translate"
          [(ngModel)]="searchQuery.finnishMunicipalityId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [placeholder]="'observation.form.municipality'"
          name="finnishMunicipalityId"
          [field]="areaType.Municipality"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.area' | translate}}:
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.area">
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        {{'observation.form.map.intro'|translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <button type="button" class="lji-btn-sm btn btn-sm btn-default" (click)="mapDraw.emit('Rectangle')">
          <i class="lji-icon lji-crop"></i>
        </button>
        {{ (drawing && drawingShape === 'Rectangle' ?  'observation.form.map.rectangle.active' : 'observation.form.map.rectangle') | translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <button type="button" class="lji-btn-sm btn btn-sm btn-default" (click)="mapDraw.emit('Coordinates')">
          YKJ
        </button>
        {{'observation.form.map.coordinates'|translate}}
      </div>
    </div>
    <div laji-panel [title]="'observation.extra' | translate" [autoToggle]="true">
      <div class="row">
        <div class="form-group">
          <label class="col-lg-12">
            <input type="checkbox"
                   [(ngModel)]="formQuery.coordinateIntersection"
                   (change)="onFormQueryChange()"
                   name="coordinateIntersection">
            {{'observation.form.coordinateIntersection' | translate}}
          </label>
        </div>
        <div class="row">
          <label class="col-sm-12">
            {{'observation.form.coordinateAccuracyMax' | translate}}:
            <div class="input-group" style="max-width: 110px;">
              <input type="number" name="coordinateAccuracyMax"
                     style="padding: 3px 7px;"
                     class="form-control input-sm"
                     (change)="onAccuracyValueChange()"
                     [(ngModel)]="searchQuery.coordinateAccuracyMax">
              <span class="input-group-addon">m</span>
            </div>
          </label>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <input id="logCoordinateAccuracyMax"
                   [ngClass]="{faded: !searchQuery.coordinateAccuracyMax}"
                   type="range" name="logCoordinateAccuracyMax"
                   class="form-control input-sm"
                   step="1"
                   min="0"
                   max="5"
                   list="accuracyPowers"
                   (click)="enableAccuracySlider()"
                   (change)="onAccuracySliderChange()"
                   [(ngModel)]="logCoordinateAccuracyMax">
            <datalist id="accuracyPowers">
              <option value="0">
              <option value="1">
              <option value="2">
              <option value="3">
              <option value="4">
              <option value="5">
            </datalist>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.observer' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.team' | translate}}:<laji-info>
        {{'observation.info.team' | translate}}
      </laji-info>
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.teamMember">
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.unit' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.count' | translate}}:<laji-info>
        {{'observation.info.count' | translate}}
      </laji-info>
      </label>
      <div class="col-lg-12">
        <div class="row">
          <div class="col-sm-6">
            <input type="number" name="individualCountMin"
                   class="form-control input-sm"
                   placeholder="{{'observation.form.countMin' | translate}}"
                   (ngModelChange)="onCountChange()"
                   [(ngModel)]="searchQuery.individualCountMin">
          </div>
          <div class="col-sm-6">
            <input type="number" name="individualCountMax"
                   class="form-control input-sm"
                   placeholder="{{'observation.form.countMax' | translate}}"
                   (ngModelChange)="onCountChange()"
                   [(ngModel)]="searchQuery.individualCountMax">
          </div>
        </div>
        <div class="row" style="margin-top: 5px; margin-bottom: 5px;">
          <div class="col-sm-12">
            <button type="button" class="btn btn-default btn-xs" (click)="zeroObservations()">
              {{'observation.form.onlyZeroObservations' | translate}}
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <button type="button" class="btn btn-default btn-xs" (click)="zeroObservations(false)">
              {{'observation.form.zeroObservations' | translate}}
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.sex"
          [alt]="'MY.sexes'"
          [multiple]="true"
          [placeholder]="'observation.form.sex'"
          (ngModelChange)="onQueryChange()"
          [mapToWarehouse]="true"
          [useFilter]="false"
          name="sex"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.lifeStage"
          (ngModelChange)="onQueryChange()"
          [alt]="'MY.lifeStages'"
          [multiple]="true"
          [useFilter]="false"
          [placeholder]="'MY.lifeStage' | label"
          [mapToWarehouse]="true"
          name="lifeStage"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.recordBasis"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          name="recordBasis"
          [mapToWarehouse]="true"
          [placeholder]="'MY.recordBasis' | label"
          [alt]="'MY.recordBases'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-select
          [selected]="[searchQuery.nativeOccurrence]"
          (selectedChanged)="indirectQueryChange('nativeOccurrence', $event[0])"
          [multiple]="false"
          [title]="'observation.form.nativeOccurrence' | translate"
          [info]="'observation.info.nativeOccurrence' | translate"
          [options]="[
            {id: true, value: ('observation.form.nativeOccurrenceTrue' | translate)},
            {id: false, value: ('observation.form.nativeOccurrenceFalse' | translate)}
          ]"
          [lang]="lang"></laji-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-select
          [selected]="[searchQuery.breedingSite]"
          (selectedChanged)="indirectQueryChange('breedingSite', $event[0])"
          [multiple]="false"
          [title]="'observation.form.breedingSite' | translate"
          [info]="'observation.info.breedingSite' | translate"
          [options]="[
            {id: true, value: ('observation.form.breedingSiteTrue' | translate)},
            {id: false, value: ('observation.form.breedingSiteFalse' | translate)}
          ]"
          [lang]="lang"></laji-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.datasetTitle' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.taxonReliability"
          [info]="'observation.info.reliability' | translate"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          name="taxonReliability"
          [mapToWarehouse]="true"
          [placeholder]="'reliability' | translate"
          [alt]="'MAN.annotationClassEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.collectionId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [field]="'MY.collectionID'"
          [placeholder]="'observation.form.dataset' | translate"
          [info]="'observation.info.dataset' | translate"
          [mapToWarehouse]="false"
          name="collectionID"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-select
          [selected]="searchQuery.reliabilityOfCollection"
          (selectedChanged)="indirectQueryChange('reliabilityOfCollection', $event)"
          [multiple]="true"
          [title]="'observation.form.reliabilityOfCollection' | translate"
          [info]="'observation.info.reliabilityOfCollection' | translate"
          [options]="[
            {id: '1', value: '★'},
            {id: '2', value: '★★'},
            {id: '3', value: '★★★'},
            {id: '4', value: '★★★★'},
            {id: '5', value: '★★★★★'}
          ]"
          [lang]="lang"></laji-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-select
          [selected]="[searchQuery.annotated]"
          (selectedChanged)="indirectQueryChange('annotated', $event[0])"
          [multiple]="false"
          [title]="'observation.form.annotated' | translate"
          [options]="[
            {id: true, value: ('observation.form.annotatedTrue' | translate)},
            {id: false, value: ('observation.form.annotatedFalse' | translate)}
          ]"
          [lang]="lang"></laji-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-select
          [selected]="[searchQuery.qualityIssues]"
          (selectedChanged)="indirectQueryChange('qualityIssues', $event[0])"
          [multiple]="false"
          [title]="'observation.form.qualityIssues' | translate"
          [info]="'observation.info.qualityIssues' | translate"
          [options]="[
            {id: 'BOTH', value: ('observation.form.qualityIssuesBOTH' | translate)},
            {id: 'NO_ISSUES', value: ('observation.form.qualityIssuesNO_ISSUES' | translate)},
            {id: 'ONLY_ISSUES', value: ('observation.form.qualityIssuesONLY_ISSUES' | translate)}
          ]"
          [lang]="lang"></laji-select>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.sourceId"
          [info]="'observation.info.system' | translate"
          (ngModelChange)="onSystemIDChange()"
          [placeholder]="'observation.form.system'"
          [multiple]="true"
          name="sourceId"
          [field]="'KE.informationSystem'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.collectionTitle' | translate" [autoToggle]="true">
    <div class="row">
      <div class="col-lg-12">
        <label>
          <input type="checkbox"
                 [(ngModel)]="formQuery.onlyFromCollectionSystems"
                 (change)="onOnlyFromCollectionCheckBoxToggle()"
                 name="onlyPreservedSpecimen">
          {{'observation.form.collection' | translate}}
        </label>
        <laji-info>
          {{'observation.info.collection' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.typeSpecimen"
                 (ngModelChange)="onCheckBoxToggle('typeSpecimen')"
                 name="typeSpecimen">
          {{'observation.form.typeSpecimen' | translate}}
        </label>
        <laji-info>
          {{'observation.info.typeSpecimen' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.collectionId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [field]="'MY.collectionID'"
          [placeholder]="'MY.collectionID' | label"
          [mapToWarehouse]="false"
          name="collectionID"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.keywords' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.documentId' | translate}}:<laji-info>
        {{'observation.info.documentId' | translate}}
      </laji-info>
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.documentId">
      </div>
    </div>
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.keyword' | translate}}:<laji-info>
        {{'observation.info.keyword' | translate}}
      </laji-info>
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.keyword">
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.speciesFeatures' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.adminStatus' | translate"
          [(ngModel)]="searchQuery.administrativeStatusId"
          (ngModelChange)="onAdministrativeStatusChange()"
          [multiple]="true"
          [placeholder]="'MX.hasAdminStatus' | label"
          name="administrativeStatusId"
          [alt]="'MX.adminStatusEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.redListStatus' | translate"
          [(ngModel)]="searchQuery.redListStatusId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          name="redListStatusId"
          [placeholder]="'observation.form.redListStatusId'"
          [alt]="'MX.iucnStatuses'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.typesOfOccurrenceFilters"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          name="typeOfOccurrence"
          [placeholder]="'observation.form.typeOfOccurrenceId' | translate"
          [alt]="'MX.typeOfOccurrenceEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.typesOfOccurrenceNotFilters"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          name="typeOfOccurrence"
          [placeholder]="'observation.form.typeOfOccurrenceIdNot' | translate"
          [alt]="'MX.typeOfOccurrenceEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.invasive"
                 (ngModelChange)="onCheckBoxToggle('invasive')"
                 name="invasive">
          {{'observation.form.invasive' | translate}}
        </label>
        <laji-info>
          {{'observation.info.invasive' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.isNotInvasive"
                 (ngModelChange)="onCheckBoxToggle('invasive', false, false)"
                 name="isNotInvasive">
          {{'observation.form.nonInvasive' | translate}}
        </label>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.finnish"
                 (ngModelChange)="onCheckBoxToggle('finnish')"
                 name="finnish">
          {{'observation.form.finnish' | translate}}
        </label>
        <laji-info>
          {{'observation.info.finnish' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.isNotFinnish"
                 (ngModelChange)="onCheckBoxToggle('finnish', false, false)"
                 name="isNotFinnish">
          {{'observation.form.nonFinnish' | translate}}
        </label>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.invasiveClassification' | translate" [autoToggle]="true">
    <div class="row" *lajiAuthorities="true">
      <div class="col-sm-12">
        <laji-metadata-select
          [multiple]="true"
          name="invasiveControlEffectiveness"
          [placeholder]="'MY.invasiveControlEffectiveness' | label"
          [alt]="'MY.invasiveControlEffectivenessEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <hr *lajiAuthorities="true">
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.euInvasiveSpeciesList"
                 (ngModelChange)="onInvasiveCheckBoxToggle('euInvasiveSpeciesList')"
                 name="euInvasiveSpeciesList">
          {{'MX.euInvasiveSpeciesList' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.nationallySignificantInvasiveSpecies"
                 (ngModelChange)="onInvasiveCheckBoxToggle('nationallySignificantInvasiveSpecies')"
                 name="nationallySignificantInvasiveSpecies">
          {{'MX.nationallySignificantInvasiveSpecies' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.quarantinePlantPest"
                 (ngModelChange)="onInvasiveCheckBoxToggle('quarantinePlantPest')"
                 name="quarantinePlantPest">
          {{'MX.quarantinePlantPest' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.allInvasiveSpecies"
                 (ngModelChange)="onInvasiveCheckBoxToggle(invasiveStatuses)"
                 name="allInvasiveSpecies">
          {{'observation.form.allInvasive' | translate}}
        </label>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.images' | translate" [autoToggle]="true">
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasUnitMedia"
                 (ngModelChange)="onCheckBoxToggle('hasUnitMedia')"
                 name="hasMedia">
          {{'observation.form.hasUnitMedia' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasGatheringMedia"
                 (ngModelChange)="onCheckBoxToggle('hasGatheringMedia')"
                 name="hasMedia">
          {{'observation.form.hasGatheringMedia' | translate}}
        </label>
        <laji-info>
          {{'observation.info.hasGatheringMedia' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasDocumentMedia"
                 (ngModelChange)="onCheckBoxToggle('hasDocumentMedia')"
                 name="hasMedia">
          {{'observation.form.hasDocumentMedia' | translate}}
        </label>
        <laji-info>
          {{'observation.info.hasDocumentMedia' | translate}}
        </laji-info>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.hasNotMedia"
                 (ngModelChange)="onCheckBoxToggle('hasUnitMedia', false, false)"
                 name="hasNotMedia">
          {{'observation.form.hasNotMedia' | translate}}
        </label>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.securedPanel' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.secured"
                 (change)="onCheckBoxToggle('secured', true)"
                 name="qualityIssues">
          {{'observation.form.secured' | translate}}
        </label>
        <laji-info>
          {{'observation.info.secured' | translate}}
        </laji-info>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.secureLevel' | translate"
          [(ngModel)]="searchQuery.secureLevel"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          [mapToWarehouse]="true"
          [skip]="['MX.secureLevelNoShow']"
          [placeholder]="'observation.form.secureLevel'"
          name="secureLevel"
          [alt]="'MX.secureLevels'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.identify' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.unidentified"
                 (change)="onCheckBoxToggle('unidentified', true)"
                 name="qualityIssues">
          {{'observation.form.unidentified' | translate}}
        </label>
        <laji-info>
          {{'observation.info.unidentified' | translate}}
        </laji-info>
      </div>
    </div>
  </div>
</div>
