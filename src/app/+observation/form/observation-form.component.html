<div class="taxon-panel">
  <div class="row">
    <label class="col-lg-12">
      {{'observation.active.informalTaxonGroupId' | translate}}:<laji-info>
      {{'observation.info.informalTaxonGroup' | translate}}
    </laji-info>
    </label>
  </div>
  <div class="row">
    <div class="lj-input-wrap">
      <observation-group-select
        [(ngModel)]="formQuery.informalTaxonGroupId"
        name="informalTaxonGroupId"
        [lang]="lang"
        (onSelect)="onFormQueryChange()">
        {{'observation.active.informalTaxonGroupAll'|translate}}
      </observation-group-select>
    </div>
  </div>
  <div class="form-group">
    <label class="col-lg-12">
      {{'observation.form.target' | translate}}:<laji-info>
      <span [innerHtml]="'observation.info.target' | translate"></span>
    </laji-info>
    </label>
    <div class="col-lg-12">
      <input
        [ngClass]="{loading: typeaheadLoading}"
        type="text"
        class="form-control input-sm"
        name="target"
        [(ngModel)]="formQuery.taxon"
        [typeahead]="dataSource"
        [typeaheadOptionsLimit]="autocompleteLimit"
        [typeaheadWaitMs]="200"
        [typeaheadMinLength]="3"
        [typeaheadFocusFirst]="false"
        [typeaheadOptionField]="'value'"
        [typeaheadItemTemplate]="taxonItem"
        (typeaheadLoading)="changeTypeaheadLoading($event)"
        (typeaheadOnSelect)="onTaxonSelect($event)"
        (keyup)="onTaxonSelect($event)"
        autocomplete="off"
        autocorrect="off"
      >
      <ng-template #taxonItem let-model="item">
        <h5 class="autosuggest-value {{model.groups}} informal-group-image">
          {{model.value}}
        </h5>
      </ng-template>
      <laji-pill-list
        [list]="searchQuery.target || []"
        (updateList)="updateSearchQuery('target', $event)"
      ></laji-pill-list>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-12 link" (click)="taxonExtra = !taxonExtra">
      {{'observation.extra.taxon' | translate}} <i class="glyphicon glyphicon-cog"></i>
    </div>
  </div>
  <ng-container *ngIf="taxonExtra">
    <div class="form-group">
      <div class="col-sm-12">
        {{'observation.keepSsp' | translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        {{'observation.changedNames' | translate}}
      </div>
    </div>
  </ng-container>
</div>
<div class="row">
  <div *lajiLoggedIn="true">
    <div laji-panel [title]="'observation.form.own' | translate" [autoToggle]="true">
      <div class="row">
        <div class="col-sm-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.asObserver"
                   (ngModelChange)="ownItemSelected()"
                   name="asObserver">
            {{'observation.form.asObserver' | translate}}
          </label><laji-info>
          {{'observation.info.asObserver' | translate}}
        </laji-info>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <label>
            <input type="checkbox"
                   [(ngModel)]="formQuery.asEditor"
                   (ngModelChange)="ownItemSelected()"
                   name="asEditor">
            {{'observation.form.asEditor' | translate}}</label><laji-info>
          {{'observation.info.asEditor' | translate}}
        </laji-info>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <laji-metadata-select
            [info]="'observation.info.issues' | translate"
            [(ngModel)]="searchQuery.qualityIssues"
            (ngModelChange)="onQueryChange()"
            [placeholder]="'observation.form.issues'"
            name="qualityIssues"
            [useFilter]="false"
            [multiple]="false"
            [mapToWarehouse]="true"
            [alt]="'MZ.qualityIssueFilterEnum'"
            [lang]="lang"></laji-metadata-select>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.date' | translate" [autoToggle]="true">
    <div class="row">
      <div class="lj-input-wrap">
        <label>
          {{'observation.form.time' | translate}}:<laji-info>
          {{'observation.info.time' | translate}}
        </laji-info>
        </label>
        <laji-datepicker
          [(ngModel)]="formQuery.timeStart"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeStart"></laji-datepicker>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <laji-datepicker
          [(ngModel)]="formQuery.timeEnd"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [toLastOfYear]="true"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeEnd"></laji-datepicker>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <div class="btn-group">
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(1)">{{'observations.form.1d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(7)">{{'observations.form.7d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(365)">
            {{'observation.form.thisYear' | translate}}
          </button>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <label>
          {{'observation.form.season' | translate}}:<laji-info>{{'observation.info.season' | translate}}</laji-info>
        </label>
        <laji-season [season]="searchQuery.season" (seasonChange)="updateSearchQuery('season', $event)"></laji-season>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <label>
          {{'observation.form.loaded' | translate}}:<laji-info>
          {{'observation.info.loaded' | translate}}
        </laji-info>
        </label>
        <laji-datepicker
          [(ngModel)]="searchQuery.firstLoadedLaterThan"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeStart"></laji-datepicker>
      </div>
    </div>
    <div class="row">
      <div class="lj-input-wrap">
        <laji-datepicker
          [(ngModel)]="searchQuery.firstLoadedBefore"
          [viewFormat]="'DD.MM.YYYY'"
          [otherFormats]="['D.M.YYYY', 'YYYY']"
          [toLastOfYear]="true"
          [format]="dateFormat"
          (onSelect)="onFormQueryChange()"
          (change)="onFormQueryChange()"
          name="timeEnd"></laji-datepicker>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <div class="btn-group">
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(1, 'loaded')">{{'observations.form.1d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(7, 'loaded')">{{'observations.form.7d' | translate}}</button>
          <button type="button" class="btn btn-sm btn-default" (click)="updateTime(365, 'loaded')">
            {{'observation.form.thisYear' | translate}}
          </button>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel
       [open]="showPlace"
       (activate)="togglePlace($event)"
       [title]="'observation.form.place' | translate">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.country' | translate"
          [(ngModel)]="searchQuery.countryId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [firstOptions]="['ML.206']"
          [placeholder]="'result.gathering.country'"
          name="countryId"
          [field]="areaType.Country"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.biogeographicalProvince' | translate"
          [(ngModel)]="searchQuery.biogeographicalProvinceId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [placeholder]="'result.gathering.biogeographicalProvince'"
          name="biogeographicalProvinceId"
          [field]="areaType.Biogeographical"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.municipality' | translate"
          [(ngModel)]="searchQuery.finnishMunicipalityId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [placeholder]="'observation.form.municipality'"
          name="finnishMunicipalityId"
          [field]="areaType.Municipality"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.area' | translate}}:
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.area">
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        {{'observation.form.map.intro'|translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <button type="button" class="lji-btn-sm btn btn-sm btn-default" (click)="mapDraw.emit('Rectangle')">
          <i class="lji-icon lji-crop"></i>
        </button>
        {{ (drawing && drawingShape === 'Rectangle' ?  'observation.form.map.rectangle.active' : 'observation.form.map.rectangle') | translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <button type="button" class="lji-btn-sm btn btn-sm btn-default" (click)="mapDraw.emit('Coordinates')">
          YKJ
        </button>
        {{'observation.form.map.coordinates'|translate}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12 link" (click)="areaExtra = !areaExtra">
        {{'observation.extra.area' | translate}} <i class="glyphicon glyphicon-cog"></i>
      </div>
    </div>
    <div *ngIf="areaExtra">
      <div class="form-group">
        <label class="col-lg-12">
          <input type="checkbox"
                 [ngModel]="formQuery.coordinateIntersection"
                 (ngModelChange)="onFormQueryChange()"
                 name="onlyPreservedSpecimen">
          {{'observation.form.coordinateIntersectionn' | translate}}
        </label>
      </div>
      <div class="row">
        <label class="col-sm-12">
          {{'observation.form.coordinateAccuracyMax' | translate}}:
          <div class="input-group" style="max-width: 110px;">
            <input type="number" name="coordinateAccuracyMax"
                   style="padding: 3px 7px;"
                   class="form-control input-sm"
                   (change)="onAccuracyValueChange()"
                   [(ngModel)]="searchQuery.coordinateAccuracyMax">
            <span class="input-group-addon">m</span>
          </div>
        </label>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <input id="logCoordinateAccuracyMax"
                 [ngClass]="{faded: !searchQuery.coordinateAccuracyMax}"
                 type="range" name="logCoordinateAccuracyMax"
                 class="form-control input-sm"
                 step="1"
                 min="0"
                 max="5"
                 list="accuracyPowers"
                 (click)="enableAccuracySlider()"
                 (change)="onAccuracySliderChange()"
                 [(ngModel)]="logCoordinateAccuracyMax">
          <datalist id="accuracyPowers">
            <option value="0">
            <option value="1">
            <option value="2">
            <option value="3">
            <option value="4">
            <option value="5">
          </datalist>
        </div>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.observer' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.team' | translate}}:
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.teamMember">
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.unit' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.count' | translate}}:<laji-info>
        {{'observation.info.count' | translate}}
      </laji-info>
      </label>
      <div class="col-lg-12">
        <div class="form-group">
          <div class="col-sm-6">
            <input type="number" name="individualCountMin"
                   class="form-control input-sm"
                   placeholder="{{'observation.form.countMin' | translate}}"
                   (ngModelChange)="onCountChange()"
                   [(ngModel)]="searchQuery.individualCountMin">
          </div>
          <div class="col-sm-6">
            <input type="number" name="individualCountMax"
                   class="form-control input-sm"
                   placeholder="{{'observation.form.countMax' | translate}}"
                   (ngModelChange)="onCountChange()"
                   [(ngModel)]="searchQuery.individualCountMax">
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <label>
              <input type="checkbox"
                     [ngModel]="formQuery.zeroObservations"
                     (ngModelChange)="toggleZeroCheckBox()"
                     name="zeroObservations">
              {{'observation.form.zeroObservations' | translate}}
            </label>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.sex"
          [alt]="'MY.sexes'"
          [multiple]="true"
          [placeholder]="'observation.form.sex'"
          (ngModelChange)="onQueryChange()"
          [mapToWarehouse]="true"
          [useFilter]="false"
          name="sex"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-lg-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.lifeStage"
          (ngModelChange)="onQueryChange()"
          [alt]="'MY.lifeStages'"
          [multiple]="true"
          [useFilter]="false"
          [placeholder]="'MY.lifeStage' | label"
          [mapToWarehouse]="true"
          name="lifeStage"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.recordBasis"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          name="recordBasis"
          [mapToWarehouse]="true"
          [placeholder]="'MY.recordBasis' | label"
          [alt]="'MY.recordBases'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.collection' | translate" [autoToggle]="true">
    <div class="form-group">
      <label class="col-lg-12">
        {{'observation.form.documentId' | translate}}:
      </label>
      <div class="col-lg-12">
        <input
          class="form-control input-sm"
          type="text"
          name="documentId"
          (ngModelChange)="onQueryChange()"
          [(ngModel)]="searchQuery.documentId">
      </div>
    </div>
    <div class="row">
      <label class="col-lg-12">
        <input type="checkbox"
               [ngModel]="searchQuery.typeSpecimen"
               (ngModelChange)="onCheckBoxToggle('typeSpecimen')"
               name="typeSpecimen">
        {{'observation.form.typeSpecimen' | translate}}
      </label>
    </div>
    <div class="row">
      <label class="col-lg-12">
        <input type="checkbox"
               [ngModel]="formQuery.onlyFromCollectionSystems"
               (ngModelChange)="onOnlyFromCollectionCheckBoxToggle()"
               name="onlyPreservedSpecimen">
        {{'observation.form.collection' | translate}}
      </label>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.source' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.collectionId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [field]="'MY.collectionID'"
          [placeholder]="'MY.collectionID' | label"
          [mapToWarehouse]="false"
          name="collectionID"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.sourceId"
          (ngModelChange)="onSystemIDChange()"
          [placeholder]="'observation.form.system'"
          [multiple]="true"
          name="sourceId"
          [field]="'KE.informationSystem'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.speciesFeatures' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.adminStatus' | translate"
          [(ngModel)]="searchQuery.administrativeStatusId"
          (ngModelChange)="onAdministrativeStatusChange()"
          [multiple]="true"
          [placeholder]="'MX.hasAdminStatus' | label"
          name="administrativeStatusId"
          [alt]="'MX.adminStatusEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.redListStatus' | translate"
          [(ngModel)]="searchQuery.redListStatusId"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          name="redListStatusId"
          [placeholder]="'observation.form.redListStatusId'"
          [alt]="'MX.iucnStatuses'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.invasive"
                 (ngModelChange)="onCheckBoxToggle('invasive')"
                 name="invasive">
          {{'observation.form.invasive' | translate}}
        </label><laji-info>
        {{'observation.info.invasive' | translate}}
      </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.isNotInvasive"
                 (ngModelChange)="onCheckBoxToggle('invasive', false, false)"
                 name="isNotInvasive">
          {{'observation.form.nonInvasive' | translate}}
        </label>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.finnish"
                 (ngModelChange)="onCheckBoxToggle('finnish')"
                 name="finnish">
          {{'observation.form.finnish' | translate}}
        </label><laji-info>
        {{'observation.info.finnish' | translate}}
      </laji-info>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.isNotFinnish"
                 (ngModelChange)="onCheckBoxToggle('finnish', false, false)"
                 name="isNotFinnish">
          {{'observation.form.nonFinnish' | translate}}
        </label>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.invasiveClassification' | translate" [autoToggle]="true">
    <div class="row" *lajiAuthorities="true">
      <div class="col-sm-12">
        <laji-metadata-select
          [multiple]="true"
          name="invasiveControlEffectiveness"
          [placeholder]="'MY.invasiveControlEffectiveness' | label"
          [alt]="'MY.invasiveControlEffectivenessEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <hr *lajiAuthorities="true">
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.euInvasiveSpeciesList"
                 (ngModelChange)="onInvasiveCheckBoxToggle('euInvasiveSpeciesList')"
                 name="euInvasiveSpeciesList">
          {{'MX.euInvasiveSpeciesList' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.nationallySignificantInvasiveSpecies"
                 (ngModelChange)="onInvasiveCheckBoxToggle('nationallySignificantInvasiveSpecies')"
                 name="nationallySignificantInvasiveSpecies">
          {{'MX.nationallySignificantInvasiveSpecies' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.quarantinePlantPest"
                 (ngModelChange)="onInvasiveCheckBoxToggle('quarantinePlantPest')"
                 name="quarantinePlantPest">
          {{'MX.quarantinePlantPest' | label}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.allInvasiveSpecies"
                 (ngModelChange)="onInvasiveCheckBoxToggle(invasiveStatuses)"
                 name="allInvasiveSpecies">
          {{'observation.form.allInvasive' | translate}}
        </label>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.images' | translate" [autoToggle]="true">
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasUnitMedia"
                 (ngModelChange)="onCheckBoxToggle('hasUnitMedia')"
                 name="hasMedia">
          {{'observation.form.hasUnitMedia' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasGatheringMedia"
                 (ngModelChange)="onCheckBoxToggle('hasGatheringMedia')"
                 name="hasMedia">
          {{'observation.form.hasGatheringMedia' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.hasDocumentMedia"
                 (ngModelChange)="onCheckBoxToggle('hasDocumentMedia')"
                 name="hasMedia">
          {{'observation.form.hasDocumentMedia' | translate}}
        </label>
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="formQuery.hasNotMedia"
                 (ngModelChange)="onCheckBoxToggle('hasUnitMedia', false, false)"
                 name="hasNotMedia">
          {{'observation.form.hasNotMedia' | translate}}
        </label>
      </div>
    </div>
    <!--
    <div class="row">
      <div class="col-sm-12">
        <laji-metadata-select
          [(ngModel)]="searchQuery.taxonReliability"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          name="taxonReliability"
          [mapToWarehouse]="true"
          [placeholder]="'reliability' | translate"
          [alt]="'MAN.annotationClassEnum'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <hr>
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.unidentified"
                 (ngModelChange)="onCheckBoxToggle('unidentified')"
                 name="unidentified">
          {{'filter.unidentified' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [ngModel]="searchQuery.reliable"
                 (ngModelChange)="onCheckBoxToggle('reliable')"
                 name="reliable">
          {{'observation.form.reliable' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <hr>
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.qualityIssues === 'BOTH'"
                 (change)="onCheckBoxToggle('qualityIssues', 'BOTH')"
                 name="qualityIssues">
          {{'observation.form.issueBoth' | translate}}
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.qualityIssues === 'ONLY_ISSUES'"
                 (change)="onCheckBoxToggle('qualityIssues', 'ONLY_ISSUES')"
                 name="qualityIssues">
          {{'observation.form.issueOnly' | translate}}
        </label>
      </div>
    </div>
    -->
  </div>
  <div laji-panel [title]="'observation.form.securedPanel' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.secured"
                 (change)="onCheckBoxToggle('secured', true)"
                 name="qualityIssues">
          {{'observation.form.secured' | translate}}<laji-info>
          {{'observation.info.secured' | translate}}
        </laji-info>
        </label>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <laji-metadata-select
          [info]="'observation.info.secureLevel' | translate"
          [(ngModel)]="searchQuery.secureLevel"
          (ngModelChange)="onQueryChange()"
          [multiple]="true"
          [useFilter]="false"
          [mapToWarehouse]="true"
          [skip]="['MX.secureLevelNoShow']"
          [placeholder]="'observation.form.secureLevel'"
          name="secureLevel"
          [alt]="'MX.secureLevels'"
          [lang]="lang"></laji-metadata-select>
      </div>
    </div>
  </div>
  <div laji-panel [title]="'observation.form.identify' | translate" [autoToggle]="true">
    <div class="form-group">
      <div class="col-sm-12">
        <label>
          <input type="checkbox"
                 [checked]="searchQuery.unidentified"
                 (change)="onCheckBoxToggle('unidentified', true)"
                 name="qualityIssues">
          {{'observation.form.unidentified' | translate}}<laji-info>
          {{'observation.info.unidentified' | translate}}
        </laji-info>
        </label>
      </div>
    </div>
  </div>
</div>
