<laji-observation-table
  #datatable
  [visible]="visible"
  (rowSelect)="showDocument($event)"
  (pageSizeChange)="setPageSize($event)"
  (selectChange)="setSelectedFields($event)"
  (resetColumns)="resetSelectedFields()"
  [pageSize]="pageSize"
  [height]="'calc(80vh - 30px)'"
  [query]="query"
  [showSettingsMenu]="true"
  [isAggregate]="false"
  [selected]="selectedFields"
></laji-observation-table>
<div class="modal fade" bsModal #documentModal="bs-modal"
     (onHidden)="documentModalVisible = false"
     (onShow)="documentModalVisible = true"
     tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body" *ngIf="documentModalVisible">
        <button type="button" class="close pull-right" aria-label="Close" (click)="documentModal.hide()">
          <i class="glyphicon glyphicon-remove"></i>
        </button>
        <laji-document [uri]="shownDocument" [highlight]="highlightId" [own]="query && (!!query.observerPersonToken || !!query.editorPersonToken || !!query.editorOrObserverPersonToken)"></laji-document>
      </div>
    </div>
  </div>
</div>

