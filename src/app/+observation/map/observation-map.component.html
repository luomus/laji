<div class="observation-map" [ngStyle]="{height: height + 'px'}">
  <laji-map
          *ngIf="!reloading"
          [visible]="visible"
          [data]="mapData"
          [drawData]="drawData"
          [draw]="draw"
          [center]="center"
          [lang]="lang"
          [showControls]="showControls"
          (onCreate)="onCreate($event)"
          (onMove)="onMove($event)"
          (onFailure)="refreshMap()"
          [initWithWorldMap]="initWithWorldMap">
    <div class="loading-map loading" *ngIf="loading"></div>
    <ul class="legend" *ngIf="legend" [ngStyle]="{'margin-top': topMargin }">
      <li *ngFor="let leg of legendList">
        <span class="color" [ngStyle]="{'background-color': leg.color}"></span>{{leg.range}}
      </li>
    </ul>
  </laji-map>
</div>
