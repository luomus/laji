<div *lajiLoggedIn="false">
  {{ 'force.login' | translate }}
</div>
<div *lajiLoggedIn="true">
  <alert *ngIf="hasPersonalData">
    <strong>{{ 'result.load.personalData' | translate }}</strong>
  </alert>
  <h3>{{ 'observation.download.publicTitle' | translate }}</h3>
  <div class="form-group">
    <div class="col-sm-12" *ngIf="loadLimit < unitCount">
      {{ 'observation.export.tooMany' | translate:{max:(loadLimit | formattedNumber:'&nbsp;')} }}
    </div>
    <div class="col-sm-12" *ngIf="unitCount == 0">
      {{ 'observation.export.tooLittle' | translate }}
    </div>
    <div class="col-sm-12" *ngIf="loadLimit >= unitCount && unitCount > 0" style="margin-bottom: 15px;">
      <p [innerHtml]="'result.load.introPublic' | translate:{private: (privateCount | formattedNumber:'&nbsp;'), count: (unitCount | formattedNumber:'&nbsp;')} ">
      </p>
      <a [ngClass]="{disabled: requests['download'] === requestStatus.done || requests['download'] === requestStatus.loading}" class="btn btn-default" (click)="makePublicRequest()">{{ 'observation.download.loadPublic' | translate }}</a>
    </div>
  </div>
  <h3>{{ 'observation.download.privateTitle' | translate }}</h3>
  <div class="form-group">
    <div class="col-sm-12" *ngIf="loadLimit < unitCount">
      {{ 'observation.export.tooMany' | translate:{max:(loadLimit | formattedNumber:'&nbsp;')} }}
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-12" *ngIf="loadLimit >= unitCount">
      <p [innerHtml]="'result.load.introPrivate' | translate:{private: (privateCount | formattedNumber:'&nbsp;'), count: (unitCount | formattedNumber:'&nbsp;')}"></p>
      <a [ngClass]="{disabled: requests['downloadApprovalRequest'] === requestStatus.done || requests['downloadApprovalRequest'] === requestStatus.loading}" class="btn btn-default" (click)="makePrivateRequest()" style="margin-bottom: 15px;">{{ 'observation.download.loadPrivate' | translate }}</a>
    </div>
  </div>
  <h3>{{ 'observation.download.specimenTitle' | translate }}</h3>
  <div class="form-group">
    <div class="col-sm-12" *ngIf="taxaLimit < speciesCount">
      {{ 'observation.export.tooManySpecies' | translate:{max:(taxaLimit | formattedNumber:'&nbsp;')} }}
    </div>
    <div class="col-sm-12" *ngIf="speciesCount == 0">
      {{ 'observation.export.tooLittle' | translate }}
    </div>
    <div class="col-sm-12" *ngIf="taxaLimit >= speciesCount && speciesCount > 0">
      <p [innerHtml]="'result.load.introSpecies' | translate">
      </p>
      <a [ngClass]="{disabled: requests['species'] === requestStatus.loading}"
         class="btn btn-default"
         href="/api/warehouse/query/aggregate?{{csvParams}}&format=csv">
        {{ 'observation.download.loadSpecies' | translate }}
      </a>
    </div>
  </div>
</div>
