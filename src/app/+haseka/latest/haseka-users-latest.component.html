<div id="haseka-latest">
  <ul class="sidebar-nav">
    <li><a class="link" (click)="changeTab('forms')">{{'haseka.forms.title' | translate}}</a></li>
    <li><a class="link" (click)="changeTab('ownSubmissions')">{{'haseka.ownSubmissions.title' | translate}}</a></li>
    <li><a class="link" (click)="changeTab('statistics')">{{'haseka.statistics.title' | translate}}</a></li>
  </ul>

  <div>
    <div *ngIf="unpublishedDocuments && unpublishedDocuments.length > 0">
      <h4>{{'haseka.users.unsaved' | translate}}</h4>
      <table class="table table-striped table-bordered table-condensed dataTable">
        <tbody>
        <ng-container *ngFor="let document of unpublishedDocuments; let i = index">
          <tr *ngIf="!document.removed">
            <td>
              <laji-short-document [document]="document"
                                   (onDiscard)="discardDocument(unpublishedDocuments, i)"
                                   (onShowViewer)="showDocumentViewer(document)"></laji-short-document>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </div>
    <h4>{{'haseka.users.latest' | translate}}</h4>
    <div class="row">
      <div class="col-xs-12">
        <laji-spinner [spinning]="loading" [overlay]="true">
          <table class="table table-striped table-bordered table-condensed dataTable">
            <tbody>
            <tr *ngFor="let document of documents; let i = index">
              <td>
                <laji-short-document [document]="document"
                                     (onDiscard)="discardDocument(documents, i)"
                                     (onShowViewer)="showDocumentViewer(document)"></laji-short-document>
              </td>
            </tr>
            </tbody>
          </table>
        </laji-spinner>
      </div>
    </div>
  </div>
  <!--pagination
    [totalItems]="total"
    [itemsPerPage]="pageSize"
    [(ngModel)]="page"
    (pageChanged)="pageChanged($event)"
    [maxSize]="5"
    [boundaryLinks]="false"
    [firstText]="'paginator.first' | translate"
    [lastText]="'paginator.last' | translate"
    [previousText]="'paginator.previous' | translate"
    [nextText]="'paginator.next' | translate"
  ></pagination-->
</div>

<div class="modal fade" bsModal #documentModal="bs-modal"
     tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close pull-right" aria-label="Close" (click)="documentModal.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
        <laji-document [uri]="shownDocument" [highlight]="0"></laji-document>
      </div>
    </div>
  </div>
</div>
