<h3>{{'haseka.ownSubmissions.title' | translate}}</h3>

<div>
  <laji-spinner [spinning]="!(activeDocuments && rows)" [overlay]="false">
    <input
      type='text'
      style='padding:8px;margin:15px auto;width:30%;'
      placeholder='Type to filter the name column...'
      (keyup)='updateFilter($event)'
    />
  <ngx-datatable
    *ngIf="activeDocuments && rows"
    class="material"
    [rows]="rows"
    [columnMode]="'force'"
    [rowHeight]="'auto'"
    [limit]="20"
    [footerHeight]="30"
    [messages]="{emptyMessage: emptyMessage, totalMessage: totalMessage}">

    <ngx-datatable-column [prop]="'publicity'" [name]="'haseka.submissions.publicity' | translate"
                          [width]="45" [minWidth]="45" [maxWidth]="50">
      <ng-template let-column="column" ngx-datatable-header-template></ng-template>
      <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
        <span *ngIf="value === publicity.publicityRestrictionsPublic">
          <span class="label label-primary link inline-block"
            [tooltip]="'result.showViewer' | translate"
            [placement]="'right'"
            (click)="showViewer($event, row.id)">
          <i class="glyphicon glyphicon-eye-open"></i>
          </span>
        </span>
        <span *ngIf="value === publicity.publicityRestrictionsPrivate">
          <span class="label label-warning inline-block"
            [tooltip]="'haseka.form.private' | translate"
            [placement]="'right'">
          <i class="glyphicon glyphicon-eye-close"></i>
          </span>
        </span>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column *ngFor="let col of columns" [prop]="col" [name]="'haseka.submissions.' + col | translate" [width]="defaultWidth"></ngx-datatable-column>
  </ngx-datatable>
  </laji-spinner>
</div>
