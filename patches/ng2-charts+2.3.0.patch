diff --git a/node_modules/ng2-charts/bundles/ng2-charts.umd.js b/node_modules/ng2-charts/bundles/ng2-charts.umd.js
index c92c428..c4c526f 100644
--- a/node_modules/ng2-charts/bundles/ng2-charts.umd.js
+++ b/node_modules/ng2-charts/bundles/ng2-charts.umd.js
@@ -1,8 +1,8 @@
 (function (global, factory) {
-    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('chart.js'), require('rxjs'), require('lodash')) :
-    typeof define === 'function' && define.amd ? define('ng2-charts', ['exports', '@angular/core', 'chart.js', 'rxjs', 'lodash'], factory) :
-    (global = global || self, factory(global['ng2-charts'] = {}, global.ng.core, global.chart_js, global.rxjs, global._));
-}(this, function (exports, core, chart_js, rxjs, lodash) { 'use strict';
+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('@angular/core'),exports, require('@angular/core'), require('chart.js'), require('rxjs'), require('lodash')) :
+    typeof define === 'function' && define.amd ? define('ng2-charts', ['@angular/core','exports', '@angular/core', 'chart.js', 'rxjs', 'lodash'], factory) :
+    (global = global || self, factory(global.ng.core,global['ng2-charts'] = {}, global.ng.core, global.chart_js, global.rxjs, global._));
+}(this, function (ɵngcc0,exports, core, chart_js, rxjs, lodash) { 'use strict';
 
     /*! *****************************************************************************
     Copyright (c) Microsoft Corporation. All rights reserved.
@@ -269,14 +269,17 @@
         function () {
             return this.pColorschemesOptions;
         };
-        ThemeService.decorators = [
-            { type: core.Injectable, args: [{
-                        providedIn: 'root'
-                    },] }
-        ];
         /** @nocollapse */
         ThemeService.ctorParameters = function () { return []; };
         /** @nocollapse */ ThemeService.ngInjectableDef = core.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
+ThemeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ThemeService, factory: function (t) { return ThemeService.ɵfac(t); }, providedIn: 'root' });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
+        type: core.Injectable,
+        args: [{
+                providedIn: 'root'
+            }]
+    }], function () { return []; }, null); })();
         return ThemeService;
     }());
 
@@ -1019,13 +1022,6 @@
                 this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
             }
         };
-        BaseChartDirective.decorators = [
-            { type: core.Directive, args: [{
-                        // tslint:disable-next-line:directive-selector
-                        selector: 'canvas[baseChart]',
-                        exportAs: 'base-chart'
-                    },] }
-        ];
         /** @nocollapse */
         BaseChartDirective.ctorParameters = function () { return [
             { type: core.ElementRef },
@@ -1043,6 +1039,36 @@
             chartClick: [{ type: core.Output }],
             chartHover: [{ type: core.Output }]
         };
+BaseChartDirective.ɵfac = function BaseChartDirective_Factory(t) { return new (t || BaseChartDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ThemeService)); };
+BaseChartDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseChartDirective, selectors: [["canvas", "baseChart", ""]], inputs: { options: "options", data: "data", datasets: "datasets", labels: "labels", chartType: "chartType", colors: "colors", legend: "legend", plugins: "plugins" }, outputs: { chartClick: "chartClick", chartHover: "chartHover" }, exportAs: ["base-chart"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BaseChartDirective, [{
+        type: core.Directive,
+        args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            }]
+    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ThemeService }]; }, { options: [{
+            type: core.Input
+        }], chartClick: [{
+            type: core.Output
+        }], chartHover: [{
+            type: core.Output
+        }], data: [{
+            type: core.Input
+        }], datasets: [{
+            type: core.Input
+        }], labels: [{
+            type: core.Input
+        }], chartType: [{
+            type: core.Input
+        }], colors: [{
+            type: core.Input
+        }], legend: [{
+            type: core.Input
+        }], plugins: [{
+            type: core.Input
+        }] }); })();
         return BaseChartDirective;
     }());
 
@@ -1053,17 +1079,21 @@
     var ChartsModule = /** @class */ (function () {
         function ChartsModule() {
         }
-        ChartsModule.decorators = [
-            { type: core.NgModule, args: [{
-                        declarations: [
-                            BaseChartDirective
-                        ],
-                        imports: [],
-                        exports: [
-                            BaseChartDirective
-                        ]
-                    },] }
-        ];
+ChartsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ChartsModule });
+ChartsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ChartsModule_Factory(t) { return new (t || ChartsModule)(); }, imports: [[]] });
+(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartsModule, { declarations: [BaseChartDirective], exports: [BaseChartDirective] }); })();
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChartsModule, [{
+        type: core.NgModule,
+        args: [{
+                declarations: [
+                    BaseChartDirective
+                ],
+                imports: [],
+                exports: [
+                    BaseChartDirective
+                ]
+            }]
+    }], function () { return []; }, null); })();
         return ChartsModule;
     }());
 
@@ -1699,4 +1729,5 @@
     Object.defineProperty(exports, '__esModule', { value: true });
 
 }));
+
 //# sourceMappingURL=ng2-charts.umd.js.map
\ No newline at end of file
diff --git a/node_modules/ng2-charts/bundles/ng2-charts.umd.js.__ivy_ngcc_bak b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..c92c428
--- /dev/null
+++ b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.__ivy_ngcc_bak
@@ -0,0 +1,1702 @@
+(function (global, factory) {
+    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('chart.js'), require('rxjs'), require('lodash')) :
+    typeof define === 'function' && define.amd ? define('ng2-charts', ['exports', '@angular/core', 'chart.js', 'rxjs', 'lodash'], factory) :
+    (global = global || self, factory(global['ng2-charts'] = {}, global.ng.core, global.chart_js, global.rxjs, global._));
+}(this, function (exports, core, chart_js, rxjs, lodash) { 'use strict';
+
+    /*! *****************************************************************************
+    Copyright (c) Microsoft Corporation. All rights reserved.
+    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
+    this file except in compliance with the License. You may obtain a copy of the
+    License at http://www.apache.org/licenses/LICENSE-2.0
+
+    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
+    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
+    MERCHANTABLITY OR NON-INFRINGEMENT.
+
+    See the Apache Version 2.0 License for specific language governing permissions
+    and limitations under the License.
+    ***************************************************************************** */
+
+    var __assign = function() {
+        __assign = Object.assign || function __assign(t) {
+            for (var s, i = 1, n = arguments.length; i < n; i++) {
+                s = arguments[i];
+                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
+            }
+            return t;
+        };
+        return __assign.apply(this, arguments);
+    };
+
+    function __read(o, n) {
+        var m = typeof Symbol === "function" && o[Symbol.iterator];
+        if (!m) return o;
+        var i = m.call(o), r, ar = [], e;
+        try {
+            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
+        }
+        catch (error) { e = { error: error }; }
+        finally {
+            try {
+                if (r && !r.done && (m = i["return"])) m.call(i);
+            }
+            finally { if (e) throw e.error; }
+        }
+        return ar;
+    }
+
+    function __spread() {
+        for (var ar = [], i = 0; i < arguments.length; i++)
+            ar = ar.concat(__read(arguments[i]));
+        return ar;
+    }
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    /** @type {?} */
+    var defaultColors = [
+        [255, 99, 132],
+        [54, 162, 235],
+        [255, 206, 86],
+        [231, 233, 237],
+        [75, 192, 192],
+        [151, 187, 205],
+        [220, 220, 220],
+        [247, 70, 74],
+        [70, 191, 189],
+        [253, 180, 92],
+        [148, 159, 177],
+        [77, 83, 96]
+    ];
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    /**
+     * Generate colors by chart type
+     * @param {?} chartType
+     * @param {?} index
+     * @param {?} count
+     * @return {?}
+     */
+    function getColors(chartType, index, count) {
+        if (chartType === 'pie' || chartType === 'doughnut' || chartType === 'outlabeledPie') {
+            return formatPieColors(generateColors(count));
+        }
+        if (chartType === 'polarArea') {
+            return formatPolarAreaColors(generateColors(count));
+        }
+        if (chartType === 'line' || chartType === 'radar') {
+            return formatLineColor(generateColor(index));
+        }
+        if (chartType === 'bar' || chartType === 'horizontalBar') {
+            return formatBarColor(generateColor(index));
+        }
+        if (chartType === 'bubble') {
+            return formatPieColors(generateColors(count));
+        }
+        if (chartType === 'scatter') {
+            return formatPieColors(generateColors(count));
+        }
+        throw new Error("getColors - Unsupported chart type " + chartType);
+    }
+    /**
+     * @param {?} colour
+     * @param {?} alpha
+     * @return {?}
+     */
+    function rgba(colour, alpha) {
+        return 'rgba(' + colour.concat(alpha).join(',') + ')';
+    }
+    /**
+     * @param {?} min
+     * @param {?} max
+     * @return {?}
+     */
+    function getRandomInt(min, max) {
+        return Math.floor(Math.random() * (max - min + 1)) + min;
+    }
+    /**
+     * @param {?} colors
+     * @return {?}
+     */
+    function formatLineColor(colors) {
+        return {
+            backgroundColor: rgba(colors, 0.4),
+            borderColor: rgba(colors, 1),
+            pointBackgroundColor: rgba(colors, 1),
+            pointBorderColor: '#fff',
+            pointHoverBackgroundColor: '#fff',
+            pointHoverBorderColor: rgba(colors, 0.8)
+        };
+    }
+    /**
+     * @param {?} colors
+     * @return {?}
+     */
+    function formatBarColor(colors) {
+        return {
+            backgroundColor: rgba(colors, 0.6),
+            borderColor: rgba(colors, 1),
+            hoverBackgroundColor: rgba(colors, 0.8),
+            hoverBorderColor: rgba(colors, 1)
+        };
+    }
+    /**
+     * @param {?} colors
+     * @return {?}
+     */
+    function formatPieColors(colors) {
+        return {
+            backgroundColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 0.6); })),
+            borderColor: colors.map((/**
+             * @return {?}
+             */
+            function () { return '#fff'; })),
+            pointBackgroundColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 1); })),
+            pointBorderColor: colors.map((/**
+             * @return {?}
+             */
+            function () { return '#fff'; })),
+            pointHoverBackgroundColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 1); })),
+            pointHoverBorderColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 1); }))
+        };
+    }
+    /**
+     * @param {?} colors
+     * @return {?}
+     */
+    function formatPolarAreaColors(colors) {
+        return {
+            backgroundColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 0.6); })),
+            borderColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 1); })),
+            hoverBackgroundColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 0.8); })),
+            hoverBorderColor: colors.map((/**
+             * @param {?} color
+             * @return {?}
+             */
+            function (color) { return rgba(color, 1); }))
+        };
+    }
+    /**
+     * @return {?}
+     */
+    function getRandomColor() {
+        return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];
+    }
+    /**
+     * Generate colors for line|bar charts
+     * @param {?} index
+     * @return {?}
+     */
+    function generateColor(index) {
+        return defaultColors[index] || getRandomColor();
+    }
+    /**
+     * Generate colors for pie|doughnut charts
+     * @param {?} count
+     * @return {?}
+     */
+    function generateColors(count) {
+        /** @type {?} */
+        var colorsArr = new Array(count);
+        for (var i = 0; i < count; i++) {
+            colorsArr[i] = defaultColors[i] || getRandomColor();
+        }
+        return colorsArr;
+    }
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    var ThemeService = /** @class */ (function () {
+        function ThemeService() {
+            this.pColorschemesOptions = {};
+            this.colorschemesOptions = new rxjs.BehaviorSubject({});
+        }
+        /**
+         * @param {?} options
+         * @return {?}
+         */
+        ThemeService.prototype.setColorschemesOptions = /**
+         * @param {?} options
+         * @return {?}
+         */
+        function (options) {
+            this.pColorschemesOptions = options;
+            this.colorschemesOptions.next(options);
+        };
+        /**
+         * @return {?}
+         */
+        ThemeService.prototype.getColorschemesOptions = /**
+         * @return {?}
+         */
+        function () {
+            return this.pColorschemesOptions;
+        };
+        ThemeService.decorators = [
+            { type: core.Injectable, args: [{
+                        providedIn: 'root'
+                    },] }
+        ];
+        /** @nocollapse */
+        ThemeService.ctorParameters = function () { return []; };
+        /** @nocollapse */ ThemeService.ngInjectableDef = core.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+        return ThemeService;
+    }());
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    /** @enum {number} */
+    var UpdateType = {
+        Default: 0,
+        Update: 1,
+        Refresh: 2,
+    };
+    UpdateType[UpdateType.Default] = 'Default';
+    UpdateType[UpdateType.Update] = 'Update';
+    UpdateType[UpdateType.Refresh] = 'Refresh';
+    var BaseChartDirective = /** @class */ (function () {
+        function BaseChartDirective(element, themeService) {
+            this.element = element;
+            this.themeService = themeService;
+            this.options = {};
+            this.chartClick = new core.EventEmitter();
+            this.chartHover = new core.EventEmitter();
+            this.old = {
+                dataExists: false,
+                dataLength: 0,
+                datasetsExists: false,
+                datasetsLength: 0,
+                datasetsDataObjects: [],
+                datasetsDataLengths: [],
+                colorsExists: false,
+                colors: [],
+                labelsExist: false,
+                labels: [],
+                legendExists: false,
+                legend: {},
+            };
+            this.subs = [];
+        }
+        /**
+         * Register a plugin.
+         */
+        /**
+         * Register a plugin.
+         * @param {?} plugin
+         * @return {?}
+         */
+        BaseChartDirective.registerPlugin = /**
+         * Register a plugin.
+         * @param {?} plugin
+         * @return {?}
+         */
+        function (plugin) {
+            chart_js.Chart.plugins.register(plugin);
+        };
+        /**
+         * @param {?} plugin
+         * @return {?}
+         */
+        BaseChartDirective.unregisterPlugin = /**
+         * @param {?} plugin
+         * @return {?}
+         */
+        function (plugin) {
+            chart_js.Chart.plugins.unregister(plugin);
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.ngOnInit = /**
+         * @return {?}
+         */
+        function () {
+            var _this = this;
+            this.ctx = this.element.nativeElement.getContext('2d');
+            this.refresh();
+            this.subs.push(this.themeService.colorschemesOptions.subscribe((/**
+             * @param {?} r
+             * @return {?}
+             */
+            function (r) { return _this.themeChanged(r); })));
+        };
+        /**
+         * @private
+         * @param {?} options
+         * @return {?}
+         */
+        BaseChartDirective.prototype.themeChanged = /**
+         * @private
+         * @param {?} options
+         * @return {?}
+         */
+        function (options) {
+            this.refresh();
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.ngDoCheck = /**
+         * @return {?}
+         */
+        function () {
+            var _this = this;
+            if (!this.chart) {
+                return;
+            }
+            /** @type {?} */
+            var updateRequired = UpdateType.Default;
+            /** @type {?} */
+            var wantUpdate = (/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) {
+                updateRequired = x > updateRequired ? x : updateRequired;
+            });
+            if (!!this.data !== this.old.dataExists) {
+                this.propagateDataToDatasets(this.data);
+                this.old.dataExists = !!this.data;
+                wantUpdate(UpdateType.Update);
+            }
+            if (this.data && this.data.length !== this.old.dataLength) {
+                this.old.dataLength = this.data && this.data.length || 0;
+                wantUpdate(UpdateType.Update);
+            }
+            if (!!this.datasets !== this.old.datasetsExists) {
+                this.old.datasetsExists = !!this.datasets;
+                wantUpdate(UpdateType.Update);
+            }
+            if (this.datasets && this.datasets.length !== this.old.datasetsLength) {
+                this.old.datasetsLength = this.datasets && this.datasets.length || 0;
+                wantUpdate(UpdateType.Update);
+            }
+            if (this.datasets && this.datasets.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return x.data !== _this.old.datasetsDataObjects[i]; })).length) {
+                this.old.datasetsDataObjects = this.datasets.map((/**
+                 * @param {?} x
+                 * @return {?}
+                 */
+                function (x) { return x.data; }));
+                wantUpdate(UpdateType.Update);
+            }
+            if (this.datasets && this.datasets.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return x.data.length !== _this.old.datasetsDataLengths[i]; })).length) {
+                this.old.datasetsDataLengths = this.datasets.map((/**
+                 * @param {?} x
+                 * @return {?}
+                 */
+                function (x) { return x.data.length; }));
+                wantUpdate(UpdateType.Update);
+            }
+            if (!!this.colors !== this.old.colorsExists) {
+                this.old.colorsExists = !!this.colors;
+                this.updateColors();
+                wantUpdate(UpdateType.Update);
+            }
+            // This smells of inefficiency, might need to revisit this
+            if (this.colors && this.colors.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return !_this.colorsEqual(x, _this.old.colors[i]); })).length) {
+                this.old.colors = this.colors.map((/**
+                 * @param {?} x
+                 * @return {?}
+                 */
+                function (x) { return _this.copyColor(x); }));
+                this.updateColors();
+                wantUpdate(UpdateType.Update);
+            }
+            if (!!this.labels !== this.old.labelsExist) {
+                this.old.labelsExist = !!this.labels;
+                wantUpdate(UpdateType.Update);
+            }
+            if (this.labels && this.labels.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return !_this.labelsEqual(x, _this.old.labels[i]); })).length) {
+                this.old.labels = this.labels.map((/**
+                 * @param {?} x
+                 * @return {?}
+                 */
+                function (x) { return _this.copyLabel(x); }));
+                wantUpdate(UpdateType.Update);
+            }
+            if (!!this.options.legend !== this.old.legendExists) {
+                this.old.legendExists = !!this.options.legend;
+                wantUpdate(UpdateType.Refresh);
+            }
+            if (this.options.legend && this.options.legend.position !== this.old.legend.position) {
+                this.old.legend.position = this.options.legend.position;
+                wantUpdate(UpdateType.Refresh);
+            }
+            switch ((/** @type {?} */ (updateRequired))) {
+                case UpdateType.Default:
+                    break;
+                case UpdateType.Update:
+                    this.update();
+                    break;
+                case UpdateType.Refresh:
+                    this.refresh();
+                    break;
+            }
+        };
+        /**
+         * @param {?} a
+         * @return {?}
+         */
+        BaseChartDirective.prototype.copyLabel = /**
+         * @param {?} a
+         * @return {?}
+         */
+        function (a) {
+            if (Array.isArray(a)) {
+                return __spread(a);
+            }
+            return a;
+        };
+        /**
+         * @param {?} a
+         * @param {?} b
+         * @return {?}
+         */
+        BaseChartDirective.prototype.labelsEqual = /**
+         * @param {?} a
+         * @param {?} b
+         * @return {?}
+         */
+        function (a, b) {
+            return Array.isArray(a) === Array.isArray(b)
+                && (Array.isArray(a) || a === b)
+                && (!Array.isArray(a) || a.length === b.length)
+                && (!Array.isArray(a) || a.filter((/**
+                 * @param {?} x
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (x, i) { return x !== b[i]; })).length === 0);
+        };
+        /**
+         * @param {?} a
+         * @return {?}
+         */
+        BaseChartDirective.prototype.copyColor = /**
+         * @param {?} a
+         * @return {?}
+         */
+        function (a) {
+            /** @type {?} */
+            var rc = {
+                backgroundColor: a.backgroundColor,
+                borderWidth: a.borderWidth,
+                borderColor: a.borderColor,
+                borderCapStyle: a.borderCapStyle,
+                borderDash: a.borderDash,
+                borderDashOffset: a.borderDashOffset,
+                borderJoinStyle: a.borderJoinStyle,
+                pointBorderColor: a.pointBorderColor,
+                pointBackgroundColor: a.pointBackgroundColor,
+                pointBorderWidth: a.pointBorderWidth,
+                pointRadius: a.pointRadius,
+                pointHoverRadius: a.pointHoverRadius,
+                pointHitRadius: a.pointHitRadius,
+                pointHoverBackgroundColor: a.pointHoverBackgroundColor,
+                pointHoverBorderColor: a.pointHoverBorderColor,
+                pointHoverBorderWidth: a.pointHoverBorderWidth,
+                pointStyle: a.pointStyle,
+                hoverBackgroundColor: a.hoverBackgroundColor,
+                hoverBorderColor: a.hoverBorderColor,
+                hoverBorderWidth: a.hoverBorderWidth,
+            };
+            return rc;
+        };
+        /**
+         * @param {?} a
+         * @param {?} b
+         * @return {?}
+         */
+        BaseChartDirective.prototype.colorsEqual = /**
+         * @param {?} a
+         * @param {?} b
+         * @return {?}
+         */
+        function (a, b) {
+            if (!a !== !b) {
+                return false;
+            }
+            return !a || a.backgroundColor === b.backgroundColor
+                && (a.borderWidth === b.borderWidth)
+                && (a.borderColor === b.borderColor)
+                && (a.borderCapStyle === b.borderCapStyle)
+                && (a.borderDash === b.borderDash)
+                && (a.borderDashOffset === b.borderDashOffset)
+                && (a.borderJoinStyle === b.borderJoinStyle)
+                && (a.pointBorderColor === b.pointBorderColor)
+                && (a.pointBackgroundColor === b.pointBackgroundColor)
+                && (a.pointBorderWidth === b.pointBorderWidth)
+                && (a.pointRadius === b.pointRadius)
+                && (a.pointHoverRadius === b.pointHoverRadius)
+                && (a.pointHitRadius === b.pointHitRadius)
+                && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)
+                && (a.pointHoverBorderColor === b.pointHoverBorderColor)
+                && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)
+                && (a.pointStyle === b.pointStyle)
+                && (a.hoverBackgroundColor === b.hoverBackgroundColor)
+                && (a.hoverBorderColor === b.hoverBorderColor)
+                && (a.hoverBorderWidth === b.hoverBorderWidth);
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.updateColors = /**
+         * @return {?}
+         */
+        function () {
+            var _this = this;
+            this.datasets.forEach((/**
+             * @param {?} elm
+             * @param {?} index
+             * @return {?}
+             */
+            function (elm, index) {
+                if (_this.colors && _this.colors[index]) {
+                    Object.assign(elm, _this.colors[index]);
+                }
+                else {
+                    Object.assign(elm, getColors(_this.chartType, index, elm.data.length), __assign({}, elm));
+                }
+            }));
+        };
+        /**
+         * @param {?} changes
+         * @return {?}
+         */
+        BaseChartDirective.prototype.ngOnChanges = /**
+         * @param {?} changes
+         * @return {?}
+         */
+        function (changes) {
+            /** @type {?} */
+            var updateRequired = UpdateType.Default;
+            /** @type {?} */
+            var wantUpdate = (/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) {
+                updateRequired = x > updateRequired ? x : updateRequired;
+            });
+            // Check if the changes are in the data or datasets or labels or legend
+            if (changes.hasOwnProperty('data') && changes.data.currentValue) {
+                this.propagateDataToDatasets(changes.data.currentValue);
+                wantUpdate(UpdateType.Update);
+            }
+            if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {
+                this.propagateDatasetsToData(changes.datasets.currentValue);
+                wantUpdate(UpdateType.Update);
+            }
+            if (changes.hasOwnProperty('labels')) {
+                if (this.chart) {
+                    this.chart.data.labels = changes.labels.currentValue;
+                }
+                wantUpdate(UpdateType.Update);
+            }
+            if (changes.hasOwnProperty('legend')) {
+                if (this.chart) {
+                    this.chart.config.options.legend.display = changes.legend.currentValue;
+                    this.chart.generateLegend();
+                }
+                wantUpdate(UpdateType.Update);
+            }
+            if (changes.hasOwnProperty('options')) {
+                wantUpdate(UpdateType.Refresh);
+            }
+            switch ((/** @type {?} */ (updateRequired))) {
+                case UpdateType.Update:
+                    this.update();
+                    break;
+                case UpdateType.Refresh:
+                case UpdateType.Default:
+                    this.refresh();
+                    break;
+            }
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.ngOnDestroy = /**
+         * @return {?}
+         */
+        function () {
+            if (this.chart) {
+                this.chart.destroy();
+                this.chart = void 0;
+            }
+            this.subs.forEach((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return x.unsubscribe(); }));
+        };
+        /**
+         * @param {?=} duration
+         * @param {?=} lazy
+         * @return {?}
+         */
+        BaseChartDirective.prototype.update = /**
+         * @param {?=} duration
+         * @param {?=} lazy
+         * @return {?}
+         */
+        function (duration, lazy) {
+            if (this.chart) {
+                return this.chart.update(duration, lazy);
+            }
+        };
+        /**
+         * @param {?} index
+         * @param {?} hidden
+         * @return {?}
+         */
+        BaseChartDirective.prototype.hideDataset = /**
+         * @param {?} index
+         * @param {?} hidden
+         * @return {?}
+         */
+        function (index, hidden) {
+            this.chart.getDatasetMeta(index).hidden = hidden;
+            this.chart.update();
+        };
+        /**
+         * @param {?} index
+         * @return {?}
+         */
+        BaseChartDirective.prototype.isDatasetHidden = /**
+         * @param {?} index
+         * @return {?}
+         */
+        function (index) {
+            return this.chart.getDatasetMeta(index).hidden;
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.toBase64Image = /**
+         * @return {?}
+         */
+        function () {
+            return this.chart.toBase64Image();
+        };
+        /**
+         * @return {?}
+         */
+        BaseChartDirective.prototype.getChartConfiguration = /**
+         * @return {?}
+         */
+        function () {
+            var _this = this;
+            /** @type {?} */
+            var datasets = this.getDatasets();
+            /** @type {?} */
+            var options = Object.assign({}, this.options);
+            if (this.legend === false) {
+                options.legend = { display: false };
+            }
+            // hook for onHover and onClick events
+            options.hover = options.hover || {};
+            if (!options.hover.onHover) {
+                options.hover.onHover = (/**
+                 * @param {?} event
+                 * @param {?} active
+                 * @return {?}
+                 */
+                function (event, active) {
+                    if (active && !active.length) {
+                        return;
+                    }
+                    _this.chartHover.emit({ event: event, active: active });
+                });
+            }
+            if (!options.onClick) {
+                options.onClick = (/**
+                 * @param {?=} event
+                 * @param {?=} active
+                 * @return {?}
+                 */
+                function (event, active) {
+                    _this.chartClick.emit({ event: event, active: active });
+                });
+            }
+            /** @type {?} */
+            var mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());
+            /** @type {?} */
+            var chartConfig = {
+                type: this.chartType,
+                data: {
+                    labels: this.labels || [],
+                    datasets: datasets
+                },
+                plugins: this.plugins,
+                options: mergedOptions,
+            };
+            return chartConfig;
+        };
+        /**
+         * @param {?} ctx
+         * @return {?}
+         */
+        BaseChartDirective.prototype.getChartBuilder = /**
+         * @param {?} ctx
+         * @return {?}
+         */
+        function (ctx /*, data:any[], options:any*/) {
+            /** @type {?} */
+            var chartConfig = this.getChartConfiguration();
+            return new chart_js.Chart(ctx, chartConfig);
+        };
+        /**
+         * @param {?} options
+         * @param {?} overrides
+         * @param {?=} level
+         * @return {?}
+         */
+        BaseChartDirective.prototype.smartMerge = /**
+         * @param {?} options
+         * @param {?} overrides
+         * @param {?=} level
+         * @return {?}
+         */
+        function (options, overrides, level) {
+            var _this = this;
+            if (level === void 0) { level = 0; }
+            if (level === 0) {
+                options = lodash.cloneDeep(options);
+            }
+            /** @type {?} */
+            var keysToUpdate = Object.keys(overrides);
+            keysToUpdate.forEach((/**
+             * @param {?} key
+             * @return {?}
+             */
+            function (key) {
+                if (Array.isArray(overrides[key])) {
+                    /** @type {?} */
+                    var arrayElements = options[key];
+                    if (arrayElements) {
+                        arrayElements.forEach((/**
+                         * @param {?} r
+                         * @return {?}
+                         */
+                        function (r) {
+                            _this.smartMerge(r, overrides[key][0], level + 1);
+                        }));
+                    }
+                }
+                else if (typeof (overrides[key]) === 'object') {
+                    if (!(key in options)) {
+                        options[key] = {};
+                    }
+                    _this.smartMerge(options[key], overrides[key], level + 1);
+                }
+                else {
+                    options[key] = overrides[key];
+                }
+            }));
+            if (level === 0) {
+                return options;
+            }
+        };
+        /**
+         * @private
+         * @param {?} label
+         * @return {?}
+         */
+        BaseChartDirective.prototype.isMultiLineLabel = /**
+         * @private
+         * @param {?} label
+         * @return {?}
+         */
+        function (label) {
+            return Array.isArray(label);
+        };
+        /**
+         * @private
+         * @param {?} label
+         * @return {?}
+         */
+        BaseChartDirective.prototype.joinLabel = /**
+         * @private
+         * @param {?} label
+         * @return {?}
+         */
+        function (label) {
+            if (!label) {
+                return null;
+            }
+            if (this.isMultiLineLabel(label)) {
+                return label.join(' ');
+            }
+            else {
+                return label;
+            }
+        };
+        /**
+         * @private
+         * @param {?} datasets
+         * @return {?}
+         */
+        BaseChartDirective.prototype.propagateDatasetsToData = /**
+         * @private
+         * @param {?} datasets
+         * @return {?}
+         */
+        function (datasets) {
+            this.data = this.datasets.map((/**
+             * @param {?} r
+             * @return {?}
+             */
+            function (r) { return r.data; }));
+            if (this.chart) {
+                this.chart.data.datasets = datasets;
+            }
+            this.updateColors();
+        };
+        /**
+         * @private
+         * @param {?} newDataValues
+         * @return {?}
+         */
+        BaseChartDirective.prototype.propagateDataToDatasets = /**
+         * @private
+         * @param {?} newDataValues
+         * @return {?}
+         */
+        function (newDataValues) {
+            var _this = this;
+            if (this.isMultiDataSet(newDataValues)) {
+                if (this.datasets && newDataValues.length === this.datasets.length) {
+                    this.datasets.forEach((/**
+                     * @param {?} dataset
+                     * @param {?} i
+                     * @return {?}
+                     */
+                    function (dataset, i) {
+                        dataset.data = newDataValues[i];
+                    }));
+                }
+                else {
+                    this.datasets = newDataValues.map((/**
+                     * @param {?} data
+                     * @param {?} index
+                     * @return {?}
+                     */
+                    function (data, index) {
+                        return { data: data, label: _this.joinLabel(_this.labels[index]) || "Label " + index };
+                    }));
+                    if (this.chart) {
+                        this.chart.data.datasets = this.datasets;
+                    }
+                }
+            }
+            else {
+                if (!this.datasets) {
+                    this.datasets = [{ data: newDataValues }];
+                    if (this.chart) {
+                        this.chart.data.datasets = this.datasets;
+                    }
+                }
+                else {
+                    this.datasets[0].data = newDataValues;
+                    this.datasets.splice(1); // Remove all elements but the first
+                }
+            }
+            this.updateColors();
+        };
+        /**
+         * @private
+         * @param {?} data
+         * @return {?}
+         */
+        BaseChartDirective.prototype.isMultiDataSet = /**
+         * @private
+         * @param {?} data
+         * @return {?}
+         */
+        function (data) {
+            return Array.isArray(data[0]);
+        };
+        /**
+         * @private
+         * @return {?}
+         */
+        BaseChartDirective.prototype.getDatasets = /**
+         * @private
+         * @return {?}
+         */
+        function () {
+            if (!this.datasets && !this.data) {
+                throw new Error("ng-charts configuration error, data or datasets field are required to render chart " + this.chartType);
+            }
+            // If `datasets` is defined, use it over the `data` property.
+            if (this.datasets) {
+                this.propagateDatasetsToData(this.datasets);
+                return this.datasets;
+            }
+            if (this.data) {
+                this.propagateDataToDatasets(this.data);
+                return this.datasets;
+            }
+        };
+        /**
+         * @private
+         * @return {?}
+         */
+        BaseChartDirective.prototype.refresh = /**
+         * @private
+         * @return {?}
+         */
+        function () {
+            // if (this.options && this.options.responsive) {
+            //   setTimeout(() => this.refresh(), 50);
+            // }
+            // todo: remove this line, it is producing flickering
+            if (this.chart) {
+                this.chart.destroy();
+                this.chart = void 0;
+            }
+            if (this.ctx) {
+                this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
+            }
+        };
+        BaseChartDirective.decorators = [
+            { type: core.Directive, args: [{
+                        // tslint:disable-next-line:directive-selector
+                        selector: 'canvas[baseChart]',
+                        exportAs: 'base-chart'
+                    },] }
+        ];
+        /** @nocollapse */
+        BaseChartDirective.ctorParameters = function () { return [
+            { type: core.ElementRef },
+            { type: ThemeService }
+        ]; };
+        BaseChartDirective.propDecorators = {
+            data: [{ type: core.Input }],
+            datasets: [{ type: core.Input }],
+            labels: [{ type: core.Input }],
+            options: [{ type: core.Input }],
+            chartType: [{ type: core.Input }],
+            colors: [{ type: core.Input }],
+            legend: [{ type: core.Input }],
+            plugins: [{ type: core.Input }],
+            chartClick: [{ type: core.Output }],
+            chartHover: [{ type: core.Output }]
+        };
+        return BaseChartDirective;
+    }());
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    var ChartsModule = /** @class */ (function () {
+        function ChartsModule() {
+        }
+        ChartsModule.decorators = [
+            { type: core.NgModule, args: [{
+                        declarations: [
+                            BaseChartDirective
+                        ],
+                        imports: [],
+                        exports: [
+                            BaseChartDirective
+                        ]
+                    },] }
+        ];
+        return ChartsModule;
+    }());
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    // tslint:disable:variable-name
+    // tslint:disable:no-var-keyword
+    // tslint:disable:prefer-const
+    // tslint:disable:only-arrow-functions
+    // tslint:disable:one-variable-per-declaration
+    // tslint:disable:object-literal-shorthand
+    // tslint:disable:space-before-function-paren
+    /**
+     * @return {?}
+     */
+    function monkeyPatchChartJsLegend() {
+        if (typeof Chart === 'undefined') {
+            console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+            return;
+        }
+        /** @type {?} */
+        var plugins = Chart.plugins.getAll();
+        /** @type {?} */
+        var legend = plugins.filter((/**
+         * @param {?} p
+         * @return {?}
+         */
+        function (p) { return p.id === 'legend'; }))[0];
+        legend._element.prototype.fit = fit;
+        legend._element.prototype.draw = draw;
+        /** @type {?} */
+        var helpers = Chart.helpers;
+        /** @type {?} */
+        var defaults = Chart.defaults;
+        /** @type {?} */
+        var valueOrDefault = helpers.valueOrDefault;
+        /**
+         * @param {?} labelOpts
+         * @param {?} fontSize
+         * @return {?}
+         */
+        function getBoxWidth(labelOpts, fontSize) {
+            return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?
+                fontSize :
+                labelOpts.boxWidth;
+        }
+        /**
+         * @return {?}
+         */
+        function fit() {
+            /** @type {?} */
+            var me = this;
+            /** @type {?} */
+            var opts = me.options;
+            /** @type {?} */
+            var labelOpts = opts.labels;
+            /** @type {?} */
+            var display = opts.display;
+            /** @type {?} */
+            var ctx = me.ctx;
+            /** @type {?} */
+            var labelFont = helpers.options._parseFont(labelOpts);
+            /** @type {?} */
+            var fontSize = labelFont.size;
+            // Reset hit boxes
+            /** @type {?} */
+            var hitboxes = me.legendHitBoxes = [];
+            /** @type {?} */
+            var minSize = me.minSize;
+            /** @type {?} */
+            var isHorizontal = me.isHorizontal();
+            if (isHorizontal) {
+                minSize.width = me.maxWidth; // fill all the width
+                minSize.height = display ? 10 : 0;
+            }
+            else {
+                minSize.width = display ? 10 : 0;
+                minSize.height = me.maxHeight; // fill all the height
+            }
+            /** @type {?} */
+            var getMaxLineWidth = (/**
+             * @param {?} textLines
+             * @return {?}
+             */
+            function (textLines) {
+                return textLines.map((/**
+                 * @param {?} textLine
+                 * @return {?}
+                 */
+                function (textLine) {
+                    return ctx.measureText(textLine).width;
+                })).reduce((/**
+                 * @param {?} acc
+                 * @param {?} v
+                 * @return {?}
+                 */
+                function (acc, v) {
+                    return v > acc ? v : acc;
+                }), 0);
+            });
+            // Increase sizes here
+            if (display) {
+                ctx.font = labelFont.string;
+                if (isHorizontal) {
+                    // Labels
+                    // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one
+                    /** @type {?} */
+                    var lineWidths = me.lineWidths = [0];
+                    /** @type {?} */
+                    var lineHeights = me.lineHeights = [];
+                    /** @type {?} */
+                    var currentLineHeight = 0;
+                    /** @type {?} */
+                    var lineIndex = 0;
+                    ctx.textAlign = 'left';
+                    ctx.textBaseline = 'top';
+                    helpers.each(me.legendItems, (/**
+                     * @param {?} legendItem
+                     * @param {?} i
+                     * @return {?}
+                     */
+                    function (legendItem, i) {
+                        /** @type {?} */
+                        var width;
+                        /** @type {?} */
+                        var height;
+                        if (helpers.isArray(legendItem.text)) {
+                            width = getMaxLineWidth(legendItem.text);
+                            height = fontSize * legendItem.text.length + labelOpts.padding;
+                        }
+                        else {
+                            width = ctx.measureText(legendItem.text).width;
+                            height = fontSize + labelOpts.padding;
+                        }
+                        width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                        if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {
+                            lineHeights.push(currentLineHeight);
+                            currentLineHeight = 0;
+                            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
+                            lineIndex++;
+                        }
+                        legendItem.lineOrColumnIndex = lineIndex;
+                        if (height > currentLineHeight) {
+                            currentLineHeight = height;
+                        }
+                        // Store the hitbox width and height here. Final position will be updated in `draw`
+                        hitboxes[i] = {
+                            left: 0,
+                            top: 0,
+                            width: width,
+                            height: height,
+                        };
+                        lineWidths[lineWidths.length - 1] += width + labelOpts.padding;
+                    }));
+                    lineHeights.push(currentLineHeight);
+                    minSize.height += lineHeights.reduce((/**
+                     * @param {?} acc
+                     * @param {?} v
+                     * @return {?}
+                     */
+                    function (acc, v) {
+                        return acc + v;
+                    }), 0);
+                }
+                else {
+                    /** @type {?} */
+                    var vPadding = labelOpts.padding;
+                    /** @type {?} */
+                    var columnWidths = me.columnWidths = [];
+                    /** @type {?} */
+                    var columnHeights = me.columnHeights = [];
+                    /** @type {?} */
+                    var totalWidth = labelOpts.padding;
+                    /** @type {?} */
+                    var currentColWidth = 0;
+                    /** @type {?} */
+                    var currentColHeight = 0;
+                    /** @type {?} */
+                    var columnIndex = 0;
+                    helpers.each(me.legendItems, (/**
+                     * @param {?} legendItem
+                     * @param {?} i
+                     * @return {?}
+                     */
+                    function (legendItem, i) {
+                        /** @type {?} */
+                        var itemWidth;
+                        /** @type {?} */
+                        var height;
+                        if (helpers.isArray(legendItem.text)) {
+                            itemWidth = getMaxLineWidth(legendItem.text);
+                            height = fontSize * legendItem.text.length;
+                        }
+                        else {
+                            itemWidth = ctx.measureText(legendItem.text).width;
+                            height = fontSize;
+                        }
+                        itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                        // If too tall, go to new column
+                        if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {
+                            totalWidth += currentColWidth + labelOpts.padding;
+                            columnWidths.push(currentColWidth); // previous column width
+                            columnHeights.push(currentColHeight);
+                            currentColWidth = 0;
+                            currentColHeight = 0;
+                            columnIndex++;
+                        }
+                        legendItem.lineOrColumnIndex = columnIndex;
+                        // Get max width
+                        currentColWidth = Math.max(currentColWidth, itemWidth);
+                        currentColHeight += height + vPadding;
+                        // Store the hitbox width and height here. Final position will be updated in `draw`
+                        hitboxes[i] = {
+                            left: 0,
+                            top: 0,
+                            width: itemWidth,
+                            height: height
+                        };
+                    }));
+                    totalWidth += currentColWidth;
+                    columnWidths.push(currentColWidth);
+                    columnHeights.push(currentColHeight);
+                    minSize.width += totalWidth;
+                }
+            }
+            me.width = minSize.width;
+            me.height = minSize.height;
+        }
+        /**
+         * @return {?}
+         */
+        function draw() {
+            /** @type {?} */
+            var me = this;
+            /** @type {?} */
+            var opts = me.options;
+            /** @type {?} */
+            var labelOpts = opts.labels;
+            /** @type {?} */
+            var globalDefaults = defaults.global;
+            /** @type {?} */
+            var defaultColor = globalDefaults.defaultColor;
+            /** @type {?} */
+            var lineDefault = globalDefaults.elements.line;
+            /** @type {?} */
+            var legendHeight = me.height;
+            /** @type {?} */
+            var columnHeights = me.columnHeights;
+            /** @type {?} */
+            var columnWidths = me.columnWidths;
+            /** @type {?} */
+            var legendWidth = me.width;
+            /** @type {?} */
+            var lineWidths = me.lineWidths;
+            /** @type {?} */
+            var lineHeights = me.lineHeights;
+            if (opts.display) {
+                /** @type {?} */
+                var ctx = me.ctx;
+                /** @type {?} */
+                var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);
+                /** @type {?} */
+                var labelFont = helpers.options._parseFont(labelOpts);
+                /** @type {?} */
+                var fontSize = labelFont.size;
+                /** @type {?} */
+                var cursor;
+                // Canvas setup
+                ctx.textAlign = 'left';
+                ctx.textBaseline = 'middle';
+                ctx.lineWidth = 0.5;
+                ctx.strokeStyle = fontColor; // for strikethrough effect
+                ctx.fillStyle = fontColor; // render in correct colour
+                ctx.font = labelFont.string;
+                /** @type {?} */
+                var boxWidth = getBoxWidth(labelOpts, fontSize);
+                /** @type {?} */
+                var hitboxes = me.legendHitBoxes;
+                // current position
+                /** @type {?} */
+                var drawLegendBox = (/**
+                 * @param {?} x
+                 * @param {?} y
+                 * @param {?} legendItem
+                 * @return {?}
+                 */
+                function (x, y, legendItem) {
+                    if (isNaN(boxWidth) || boxWidth <= 0) {
+                        return;
+                    }
+                    // Set the ctx for the box
+                    ctx.save();
+                    /** @type {?} */
+                    var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);
+                    ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);
+                    ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);
+                    ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);
+                    ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);
+                    ctx.lineWidth = lineWidth;
+                    ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);
+                    if (ctx.setLineDash) {
+                        // IE 9 and 10 do not support line dash
+                        ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));
+                    }
+                    if (opts.labels && opts.labels.usePointStyle) {
+                        // Recalculate x and y for drawPoint() because its expecting
+                        // x and y to be center of figure (instead of top left)
+                        /** @type {?} */
+                        var radius = boxWidth * Math.SQRT2 / 2;
+                        /** @type {?} */
+                        var centerX = x + boxWidth / 2;
+                        /** @type {?} */
+                        var centerY = y + fontSize / 2;
+                        // Draw pointStyle as legend symbol
+                        helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);
+                    }
+                    else {
+                        // Draw box as legend symbol
+                        if (lineWidth !== 0) {
+                            ctx.strokeRect(x, y, boxWidth, fontSize);
+                        }
+                        ctx.fillRect(x, y, boxWidth, fontSize);
+                    }
+                    ctx.restore();
+                });
+                /** @type {?} */
+                var drawStrikeThrough = (/**
+                 * @param {?} x
+                 * @param {?} y
+                 * @param {?} w
+                 * @return {?}
+                 */
+                function (x, y, w) {
+                    ctx.beginPath();
+                    ctx.lineWidth = 2;
+                    ctx.moveTo(x, y);
+                    ctx.lineTo(x + w, y);
+                    ctx.stroke();
+                });
+                /** @type {?} */
+                var drawCrossOver = (/**
+                 * @param {?} x
+                 * @param {?} y
+                 * @param {?} w
+                 * @param {?} h
+                 * @return {?}
+                 */
+                function (x, y, w, h) {
+                    ctx.beginPath();
+                    ctx.lineWidth = 2;
+                    ctx.moveTo(x, y);
+                    ctx.lineTo(x + w, y + h);
+                    ctx.moveTo(x, y + h);
+                    ctx.lineTo(x + w, y);
+                    ctx.stroke();
+                });
+                /** @type {?} */
+                var fillText = (/**
+                 * @param {?} x
+                 * @param {?} y
+                 * @param {?} legendItem
+                 * @param {?} textWidth
+                 * @return {?}
+                 */
+                function (x, y, legendItem, textWidth) {
+                    /** @type {?} */
+                    var halfFontSize = fontSize / 2;
+                    /** @type {?} */
+                    var xLeft = boxWidth + halfFontSize + x;
+                    /** @type {?} */
+                    var yMiddle = y + halfFontSize;
+                    if (helpers.isArray(legendItem.text)) {
+                        helpers.each(legendItem.text, (/**
+                         * @param {?} textLine
+                         * @param {?} index
+                         * @return {?}
+                         */
+                        function (textLine, index) {
+                            /** @type {?} */
+                            var lineOffset = index * fontSize;
+                            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);
+                        }));
+                    }
+                    else {
+                        ctx.fillText(legendItem.text, xLeft, yMiddle);
+                    }
+                    if (legendItem.hidden) {
+                        if (helpers.isArray(legendItem.text)) {
+                            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));
+                        }
+                        else {
+                            drawStrikeThrough(xLeft, yMiddle, textWidth);
+                        }
+                    }
+                });
+                /** @type {?} */
+                var alignmentOffset = (/**
+                 * @param {?} dimension
+                 * @param {?} blockSize
+                 * @return {?}
+                 */
+                function (dimension, blockSize) {
+                    switch (opts.align) {
+                        case 'start':
+                            return labelOpts.padding;
+                        case 'end':
+                            return dimension - blockSize;
+                        default: // center
+                            return (dimension - blockSize + labelOpts.padding) / 2;
+                    }
+                });
+                // Horizontal
+                /** @type {?} */
+                var isHorizontal = me.isHorizontal();
+                if (isHorizontal) {
+                    cursor = {
+                        x: me.left + alignmentOffset(legendWidth, lineWidths[0]),
+                        y: me.top + labelOpts.padding,
+                        line: 0
+                    };
+                }
+                else {
+                    cursor = {
+                        x: me.left + labelOpts.padding,
+                        y: me.top + alignmentOffset(legendHeight, columnHeights[0]),
+                        line: 0
+                    };
+                }
+                helpers.each(me.legendItems, (/**
+                 * @param {?} legendItem
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (legendItem, i) {
+                    /** @type {?} */
+                    var textWidth;
+                    /** @type {?} */
+                    var height;
+                    /** @type {?} */
+                    var boxTopOffset;
+                    if (legendItem.lineOrColumnIndex > cursor.line) {
+                        if (isHorizontal) {
+                            cursor.y += lineHeights[cursor.line];
+                            cursor.line = legendItem.lineOrColumnIndex;
+                            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);
+                        }
+                        else {
+                            cursor.x += columnWidths[cursor.line] + labelOpts.padding;
+                            cursor.line = legendItem.lineOrColumnIndex;
+                            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);
+                        }
+                    }
+                    if (helpers.isArray(legendItem.text)) {
+                        textWidth = legendItem.text.map((/**
+                         * @param {?} textLine
+                         * @return {?}
+                         */
+                        function (textLine) {
+                            return ctx.measureText(textLine).width;
+                        })).reduce((/**
+                         * @param {?} acc
+                         * @param {?} v
+                         * @return {?}
+                         */
+                        function (acc, v) {
+                            return v > acc ? v : acc;
+                        }), 0);
+                        boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);
+                        height = fontSize * legendItem.text.length;
+                    }
+                    else {
+                        textWidth = ctx.measureText(legendItem.text).width;
+                        boxTopOffset = 0;
+                        height = fontSize;
+                    }
+                    /** @type {?} */
+                    var width = boxWidth + (fontSize / 2) + textWidth;
+                    /** @type {?} */
+                    var x = cursor.x;
+                    /** @type {?} */
+                    var y = cursor.y;
+                    /** @type {?} */
+                    var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;
+                    drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);
+                    hitboxes[i].left = x;
+                    hitboxes[i].top = y;
+                    // Fill the actual label
+                    fillText(x, y + topOffset, legendItem, textWidth);
+                    if (isHorizontal) {
+                        cursor.x += width + labelOpts.padding;
+                    }
+                    else {
+                        cursor.y += height + labelOpts.padding;
+                    }
+                }));
+            }
+        }
+    }
+
+    /**
+     * @fileoverview added by tsickle
+     * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+     */
+    // tslint:disable:variable-name
+    // tslint:disable:no-var-keyword
+    // tslint:disable:prefer-const
+    // tslint:disable:only-arrow-functions
+    // tslint:disable:one-variable-per-declaration
+    // tslint:disable:object-literal-shorthand
+    // tslint:disable:space-before-function-paren
+    /**
+     * @return {?}
+     */
+    function monkeyPatchChartJsTooltip() {
+        if (typeof Chart === 'undefined') {
+            console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+            return;
+        }
+        Chart.Tooltip.prototype.drawBody = drawBody;
+        /** @type {?} */
+        var helpers = Chart.helpers;
+        /**
+         * @param {?} vm
+         * @param {?} align
+         * @return {?}
+         */
+        function getAlignedX(vm, align) {
+            return align === 'center'
+                ? vm.x + vm.width / 2
+                : align === 'right'
+                    ? vm.x + vm.width - vm.xPadding
+                    : vm.x + vm.xPadding;
+        }
+        /**
+         * @param {?} pt
+         * @param {?} vm
+         * @param {?} ctx
+         * @return {?}
+         */
+        function drawBody(pt, vm, ctx) {
+            /** @type {?} */
+            var bodyFontSize = vm.bodyFontSize;
+            /** @type {?} */
+            var bodySpacing = vm.bodySpacing;
+            /** @type {?} */
+            var bodyAlign = vm._bodyAlign;
+            /** @type {?} */
+            var body = vm.body;
+            /** @type {?} */
+            var drawColorBoxes = vm.displayColors;
+            /** @type {?} */
+            var labelColors = vm.labelColors;
+            /** @type {?} */
+            var xLinePadding = 0;
+            /** @type {?} */
+            var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;
+            /** @type {?} */
+            var textColor;
+            ctx.textAlign = bodyAlign;
+            ctx.textBaseline = 'top';
+            ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);
+            pt.x = getAlignedX(vm, bodyAlign);
+            // Before Body
+            /** @type {?} */
+            var fillLineOfText = (/**
+             * @param {?} line
+             * @return {?}
+             */
+            function (line) {
+                ctx.fillText(line, pt.x + xLinePadding, pt.y);
+                pt.y += bodyFontSize + bodySpacing;
+            });
+            // Before body lines
+            ctx.fillStyle = vm.bodyFontColor;
+            helpers.each(vm.beforeBody, fillLineOfText);
+            xLinePadding = drawColorBoxes && bodyAlign !== 'right'
+                ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)
+                : 0;
+            // Draw body lines now
+            helpers.each(body, (/**
+             * @param {?} bodyItem
+             * @param {?} i
+             * @return {?}
+             */
+            function (bodyItem, i) {
+                textColor = vm.labelTextColors[i];
+                ctx.fillStyle = textColor;
+                helpers.each(bodyItem.before, fillLineOfText);
+                // Draw Legend-like boxes if needed
+                if (drawColorBoxes) {
+                    // Fill a white rect so that colours merge nicely if the opacity is < 1
+                    ctx.fillStyle = vm.legendColorBackground;
+                    ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                    // Border
+                    ctx.lineWidth = 1;
+                    ctx.strokeStyle = labelColors[i].borderColor;
+                    ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                    // Inner square
+                    ctx.fillStyle = labelColors[i].backgroundColor;
+                    ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);
+                    ctx.fillStyle = textColor;
+                }
+                helpers.each(bodyItem.lines, fillLineOfText);
+                helpers.each(bodyItem.after, fillLineOfText);
+            }));
+            // Reset back to 0 for after body
+            xLinePadding = 0;
+            // After body lines
+            helpers.each(vm.afterBody, fillLineOfText);
+            pt.y -= bodySpacing; // Remove last body spacing
+        }
+    }
+
+    exports.BaseChartDirective = BaseChartDirective;
+    exports.ChartsModule = ChartsModule;
+    exports.ThemeService = ThemeService;
+    exports.defaultColors = defaultColors;
+    exports.monkeyPatchChartJsLegend = monkeyPatchChartJsLegend;
+    exports.monkeyPatchChartJsTooltip = monkeyPatchChartJsTooltip;
+
+    Object.defineProperty(exports, '__esModule', { value: true });
+
+}));
+//# sourceMappingURL=ng2-charts.umd.js.map
diff --git a/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map
index eb5e187..fdce5d5 100644
--- a/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map
+++ b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map
@@ -1 +1 @@
-{"version":3,"file":"ng2-charts.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["BehaviorSubject","Injectable","EventEmitter","chartJs.Chart","cloneDeep","Directive","ElementRef","Input","Output","NgModule"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ng2-charts.umd.js","sources":["../../tslib/tslib.es6.js","ng:/ng2-charts/lib/default-colors.ts","ng:/ng2-charts/lib/get-colors.ts","ng:/ng2-charts/lib/theme.service.ts","ng:/ng2-charts/lib/base-chart.directive.ts","ng:/ng2-charts/lib/charts.module.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"names":["BehaviorSubject","Injectable","EventEmitter","chartJs.Chart","cloneDeep","Directive","ElementRef","Input","Output","NgModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"]}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map.__ivy_ngcc_bak b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..eb5e187
--- /dev/null
+++ b/node_modules/ng2-charts/bundles/ng2-charts.umd.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ng2-charts.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["BehaviorSubject","Injectable","EventEmitter","chartJs.Chart","cloneDeep","Directive","ElementRef","Input","Output","NgModule"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js b/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js
index bb13bff..ece1078 100644
--- a/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js
+++ b/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js
@@ -10,6 +10,7 @@ import { cloneDeep } from 'lodash';
 /**
  * @record
  */
+import * as ɵngcc0 from '@angular/core';
 function OldState() { }
 if (false) {
     /** @type {?} */
@@ -658,13 +659,8 @@ export class BaseChartDirective {
         }
     }
 }
-BaseChartDirective.decorators = [
-    { type: Directive, args: [{
-                // tslint:disable-next-line:directive-selector
-                selector: 'canvas[baseChart]',
-                exportAs: 'base-chart'
-            },] }
-];
+BaseChartDirective.ɵfac = function BaseChartDirective_Factory(t) { return new (t || BaseChartDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ThemeService)); };
+BaseChartDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseChartDirective, selectors: [["canvas", "baseChart", ""]], inputs: { options: "options", data: "data", datasets: "datasets", labels: "labels", chartType: "chartType", colors: "colors", legend: "legend", plugins: "plugins" }, outputs: { chartClick: "chartClick", chartHover: "chartHover" }, exportAs: ["base-chart"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
 /** @nocollapse */
 BaseChartDirective.ctorParameters = () => [
     { type: ElementRef },
@@ -682,6 +678,34 @@ BaseChartDirective.propDecorators = {
     chartClick: [{ type: Output }],
     chartHover: [{ type: Output }]
 };
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BaseChartDirective, [{
+        type: Directive,
+        args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            }]
+    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ThemeService }]; }, { options: [{
+            type: Input
+        }], chartClick: [{
+            type: Output
+        }], chartHover: [{
+            type: Output
+        }], data: [{
+            type: Input
+        }], datasets: [{
+            type: Input
+        }], labels: [{
+            type: Input
+        }], chartType: [{
+            type: Input
+        }], colors: [{
+            type: Input
+        }], legend: [{
+            type: Input
+        }], plugins: [{
+            type: Input
+        }] }); })();
 if (false) {
     /** @type {?} */
     BaseChartDirective.prototype.data;
@@ -728,4 +752,4 @@ if (false) {
      */
     BaseChartDirective.prototype.themeService;
 }
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItY2hhcnRzLyIsInNvdXJjZXMiOlsibGliL2Jhc2UtY2hhcnQuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUlULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNaLFVBQVUsR0FHWCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEtBQUssT0FBTyxNQUFNLFVBQVUsQ0FBQztBQUNwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sUUFBUSxDQUFDOzs7O0FBV25DLHVCQWVDOzs7SUFkQyw4QkFBb0I7O0lBQ3BCLDhCQUFtQjs7SUFDbkIsa0NBQXdCOztJQUN4QixrQ0FBdUI7O0lBQ3ZCLHVDQUEyQjs7SUFDM0IsdUNBQThCOztJQUM5QixnQ0FBc0I7O0lBQ3RCLDBCQUFnQjs7SUFDaEIsK0JBQXFCOztJQUNyQiwwQkFBZ0I7O0lBQ2hCLGdDQUFzQjs7SUFDdEIsMEJBRUU7Ozs7SUFJRixVQUFPO0lBQ1AsU0FBTTtJQUNOLFVBQU87Ozs7O0FBUVQsTUFBTSxPQUFPLGtCQUFrQjs7Ozs7SUE0QzdCLFlBQ1UsT0FBbUIsRUFDbkIsWUFBMEI7UUFEMUIsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQUNuQixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQTFDcEIsWUFBTyxHQUF5QixFQUFFLENBQUM7UUFNbEMsZUFBVSxHQUF3RCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3JGLGVBQVUsR0FBc0QsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUs1RixRQUFHLEdBQWE7WUFDdEIsVUFBVSxFQUFFLEtBQUs7WUFDakIsVUFBVSxFQUFFLENBQUM7WUFDYixjQUFjLEVBQUUsS0FBSztZQUNy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QUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFFckUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU07Ozs7O1FBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDdEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUMsQ0FBQztZQUU5RCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDN0csSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUM7WUFFckUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFdEMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCwwREFBMEQ7UUFDMUQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUNoRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztZQUUxRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFcEIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU07Ozs7O1FBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENB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SUFDdEcsd0NBQW9HOztJQUVwRyxpQ0FBbUI7O0lBQ25CLG1DQUFvQjs7Ozs7SUFFcEIsaUNBYUU7Ozs7O0lBRUYsa0NBQWtDOzs7OztJQWNoQyxxQ0FBMkI7Ozs7O0lBQzNCLDBDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIERvQ2hlY2ssXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIGNoYXJ0SnMgZnJvbSAnY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRDb2xvcnMgfSBmcm9tICcuL2dldC1jb2xvcnMnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBUaGVtZVNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCB0eXBlIFNpbmdsZURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSk7XHJcbmV4cG9ydCB0eXBlIE11bHRpRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKVtdO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcblxyXG5leHBvcnQgdHlwZSBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyA9IGNoYXJ0SnMuUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbiAmIGNoYXJ0SnMuUGx1Z2luU2VydmljZVJlZ2lzdHJhdGlvbk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IHR5cGUgTXVsdGlMaW5lTGFiZWwgPSBzdHJpbmdbXTtcclxuZXhwb3J0IHR5cGUgTGFiZWwgPSBTaW5nbGVMaW5lTGFiZWwgfCBNdWx0aUxpbmVMYWJlbDtcclxuXHJcbmludGVyZmFjZSBPbGRTdGF0ZSB7XHJcbiAgZGF0YUV4aXN0czogYm9vbGVhbjtcclxuICBkYXRhTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YXNldHNMZW5ndGg6IG51bWJlcjtcclxuICBkYXRhc2V0c0RhdGFPYmplY3RzOiBhbnlbXTtcclxuICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBudW1iZXJbXTtcclxuICBjb2xvcnNFeGlzdHM6IGJvb2xlYW47XHJcbiAgY29sb3JzOiBDb2xvcltdO1xyXG4gIGxhYmVsc0V4aXN0OiBib29sZWFuO1xyXG4gIGxhYmVsczogTGFiZWxbXTtcclxuICBsZWdlbmRFeGlzdHM6IGJvb2xlYW47XHJcbiAgbGVnZW5kOiB7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5lbnVtIFVwZGF0ZVR5cGUge1xyXG4gIERlZmF1bHQsXHJcbiAgVXBkYXRlLFxyXG4gIFJlZnJlc2hcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAnY2FudmFzW2Jhc2VDaGFydF0nLFxyXG4gIGV4cG9ydEFzOiAnYmFzZS1jaGFydCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgQElucHV0KCkgcHVibGljIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW107XHJcbiAgQElucHV0KCkgcHVibGljIGxhYmVsczogTGFiZWxbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnMgPSB7fTtcclxuICBASW5wdXQoKSBwdWJsaWMgY2hhcnRUeXBlOiBjaGFydEpzLkNoYXJ0VHlwZTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sb3JzOiBDb2xvcltdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWdlbmQ6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcHVibGljIHBsdWdpbnM6IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zW107XHJcblxyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRDbGljazogRXZlbnRFbWl0dGVyPHsgZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRIb3ZlcjogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGN0eDogc3RyaW5nO1xyXG4gIHB1YmxpYyBjaGFydDogQ2hhcnQ7XHJcblxyXG4gIHByaXZhdGUgb2xkOiBPbGRTdGF0ZSA9IHtcclxuICAgIGRhdGFFeGlzdHM6IGZhbHNlLFxyXG4gICAgZGF0YUxlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFzZXRzTGVuZ3RoOiAwLFxyXG4gICAgZGF0YXNldHNEYXRhT2JqZWN0czogW10sXHJcbiAgICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBbXSxcclxuICAgIGNvbG9yc0V4aXN0czogZmFsc2UsXHJcbiAgICBjb2xvcnM6IFtdLFxyXG4gICAgbGFiZWxzRXhpc3Q6IGZhbHNlLFxyXG4gICAgbGFiZWxzOiBbXSxcclxuICAgIGxlZ2VuZEV4aXN0czogZmFsc2UsXHJcbiAgICBsZWdlbmQ6IHt9LFxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3ViczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdW5yZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMudW5yZWdpc3RlcihwbHVnaW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIHRoaXMuc3Vicy5wdXNoKHRoaXMudGhlbWVTZXJ2aWNlLmNvbG9yc2NoZW1lc09wdGlvbnMuc3Vic2NyaWJlKHIgPT4gdGhpcy50aGVtZUNoYW5nZWQocikpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdGhlbWVDaGFuZ2VkKG9wdGlvbnM6IHt9KSB7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5jaGFydCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghIXRoaXMuZGF0YSAhPT0gdGhpcy5vbGQuZGF0YUV4aXN0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcblxyXG4gICAgICB0aGlzLm9sZC5kYXRhRXhpc3RzID0gISF0aGlzLmRhdGE7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YUxlbmd0aCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGFzZXRzICE9PSB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cyA9ICEhdGhpcy5kYXRhc2V0cztcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCA9IHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5sZW5ndGggfHwgMDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEgIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YU9iamVjdHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5maWx0ZXIoKHgsIGkpID0+IHguZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YUxlbmd0aHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMuY29sb3JzICE9PSB0aGlzLm9sZC5jb2xvcnNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzRXhpc3RzID0gISF0aGlzLmNvbG9ycztcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIHNtZWxscyBvZiBpbmVmZmljaWVuY3ksIG1pZ2h0IG5lZWQgdG8gcmV2aXNpdCB0aGlzXHJcbiAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5jb2xvcnNFcXVhbCh4LCB0aGlzLm9sZC5jb2xvcnNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzID0gdGhpcy5jb2xvcnMubWFwKHggPT4gdGhpcy5jb3B5Q29sb3IoeCkpO1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMubGFiZWxzICE9PSB0aGlzLm9sZC5sYWJlbHNFeGlzdCkge1xyXG4gICAgICB0aGlzLm9sZC5sYWJlbHNFeGlzdCA9ICEhdGhpcy5sYWJlbHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5sYWJlbHNFcXVhbCh4LCB0aGlzLm9sZC5sYWJlbHNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzID0gdGhpcy5sYWJlbHMubWFwKHggPT4gdGhpcy5jb3B5TGFiZWwoeCkpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmxlZ2VuZCAhPT0gdGhpcy5vbGQubGVnZW5kRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZEV4aXN0cyA9ICEhdGhpcy5vcHRpb25zLmxlZ2VuZDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2VuZCAmJiB0aGlzLm9wdGlvbnMubGVnZW5kLnBvc2l0aW9uICE9PSB0aGlzLm9sZC5sZWdlbmQucG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbjtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5VcGRhdGU6XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlJlZnJlc2g6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb3B5TGFiZWwoYTogTGFiZWwpOiBMYWJlbCB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xyXG4gICAgICByZXR1cm4gWy4uLmFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG5cclxuICBsYWJlbHNFcXVhbChhOiBMYWJlbCwgYjogTGFiZWwpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgICAgICYmIEFycmF5LmlzQXJyYXkoYSkgPT09IEFycmF5LmlzQXJyYXkoYilcclxuICAgICAgJiYgKEFycmF5LmlzQXJyYXkoYSkgfHwgYSA9PT0gYilcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSBiLmxlbmd0aClcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEuZmlsdGVyKCh4LCBpKSA9PiB4ICE9PSBiW2ldKS5sZW5ndGggPT09IDApXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yIHtcclxuICAgIGNvbnN0IHJjOiBDb2xvciA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBhLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgYm9yZGVyV2lkdGg6IGEuYm9yZGVyV2lkdGgsXHJcbiAgICAgIGJvcmRlckNvbG9yOiBhLmJvcmRlckNvbG9yLFxyXG4gICAgICBib3JkZXJDYXBTdHlsZTogYS5ib3JkZXJDYXBTdHlsZSxcclxuICAgICAgYm9yZGVyRGFzaDogYS5ib3JkZXJEYXNoLFxyXG4gICAgICBib3JkZXJEYXNoT2Zmc2V0OiBhLmJvcmRlckRhc2hPZmZzZXQsXHJcbiAgICAgIGJvcmRlckpvaW5TdHlsZTogYS5ib3JkZXJKb2luU3R5bGUsXHJcbiAgICAgIHBvaW50Qm9yZGVyQ29sb3I6IGEucG9pbnRCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IGEucG9pbnRCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRSYWRpdXM6IGEucG9pbnRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJSYWRpdXM6IGEucG9pbnRIb3ZlclJhZGl1cyxcclxuICAgICAgcG9pbnRIaXRSYWRpdXM6IGEucG9pbnRIaXRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlcldpZHRoOiBhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRTdHlsZTogYS5wb2ludFN0eWxlLFxyXG4gICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogYS5ob3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJDb2xvcjogYS5ob3ZlckJvcmRlckNvbG9yLFxyXG4gICAgICBob3ZlckJvcmRlcldpZHRoOiBhLmhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiByYztcclxuICB9XHJcblxyXG4gIGNvbG9yc0VxdWFsKGE6IENvbG9yLCBiOiBDb2xvcikge1xyXG4gICAgaWYgKCFhICE9PSAhYikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIWEgfHwgdHJ1ZVxyXG4gICAgICAmJiAoYS5iYWNrZ3JvdW5kQ29sb3IgPT09IGIuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJXaWR0aCA9PT0gYi5ib3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEuYm9yZGVyQ29sb3IgPT09IGIuYm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmJvcmRlckNhcFN0eWxlID09PSBiLmJvcmRlckNhcFN0eWxlKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoID09PSBiLmJvcmRlckRhc2gpXHJcbiAgICAgICYmIChhLmJvcmRlckRhc2hPZmZzZXQgPT09IGIuYm9yZGVyRGFzaE9mZnNldClcclxuICAgICAgJiYgKGEuYm9yZGVySm9pblN0eWxlID09PSBiLmJvcmRlckpvaW5TdHlsZSlcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJDb2xvciA9PT0gYi5wb2ludEJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJXaWR0aCA9PT0gYi5wb2ludEJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFJhZGl1cyA9PT0gYi5wb2ludFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlclJhZGl1cyA9PT0gYi5wb2ludEhvdmVyUmFkaXVzKVxyXG4gICAgICAmJiAoYS5wb2ludEhpdFJhZGl1cyA9PT0gYi5wb2ludEhpdFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IgPT09IGIucG9pbnRIb3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyV2lkdGggPT09IGIucG9pbnRIb3ZlckJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFN0eWxlID09PSBiLnBvaW50U3R5bGUpXHJcbiAgICAgICYmIChhLmhvdmVyQmFja2dyb3VuZENvbG9yID09PSBiLmhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlckNvbG9yID09PSBiLmhvdmVyQm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmhvdmVyQm9yZGVyV2lkdGggPT09IGIuaG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29sb3JzKCkge1xyXG4gICAgdGhpcy5kYXRhc2V0cy5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbG9ycyAmJiB0aGlzLmNvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgdGhpcy5jb2xvcnNbaW5kZXhdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgZ2V0Q29sb3JzKHRoaXMuY2hhcnRUeXBlLCBpbmRleCwgZWxtLmRhdGEubGVuZ3RoKSwgeyAuLi5lbG0gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IFVwZGF0ZVR5cGUuRGVmYXVsdDtcclxuICAgIGNvbnN0IHdhbnRVcGRhdGUgPSAoeDogVXBkYXRlVHlwZSkgPT4ge1xyXG4gICAgICB1cGRhdGVSZXF1aXJlZCA9IHggPiB1cGRhdGVSZXF1aXJlZCA/IHggOiB1cGRhdGVSZXF1aXJlZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZXMgYXJlIGluIHRoZSBkYXRhIG9yIGRhdGFzZXRzIG9yIGxhYmVscyBvciBsZWdlbmRcclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmIGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyhjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdkYXRhc2V0cycpICYmIGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoY2hhbmdlcy5kYXRhc2V0cy5jdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xhYmVscycpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscyA9IGNoYW5nZXMubGFiZWxzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5sZWdlbmQuZGlzcGxheSA9IGNoYW5nZXMubGVnZW5kLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB0aGlzLmNoYXJ0LmdlbmVyYXRlTGVnZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdvcHRpb25zJykpIHtcclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlJlZnJlc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodXBkYXRlUmVxdWlyZWQgYXMgVXBkYXRlVHlwZSkge1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuRGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdWJzLmZvckVhY2goeCA9PiB4LnVuc3Vic2NyaWJlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkdXJhdGlvbj86IGFueSwgbGF6eT86IGFueSkge1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQudXBkYXRlKGR1cmF0aW9uLCBsYXp5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpLmhpZGRlbiA9IGhpZGRlbjtcclxuICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhcnQudG9CYXNlNjRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0Q29uZmlndXJhdGlvbigpOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiB7XHJcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZ2V0RGF0YXNldHMoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgb3B0aW9ucy5sZWdlbmQgPSB7IGRpc3BsYXk6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgICAvLyBob29rIGZvciBvbkhvdmVyIGFuZCBvbkNsaWNrIGV2ZW50c1xyXG4gICAgb3B0aW9ucy5ob3ZlciA9IG9wdGlvbnMuaG92ZXIgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMuaG92ZXIub25Ib3Zlcikge1xyXG4gICAgICBvcHRpb25zLmhvdmVyLm9uSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFydEhvdmVyLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XHJcbiAgICAgIG9wdGlvbnMub25DbGljayA9IChldmVudD86IE1vdXNlRXZlbnQsIGFjdGl2ZT86IHt9W10pID0+IHtcclxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2suZW1pdCh7IGV2ZW50LCBhY3RpdmUgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHRoaXMuc21hcnRNZXJnZShvcHRpb25zLCB0aGlzLnRoZW1lU2VydmljZS5nZXRDb2xvcnNjaGVtZXNPcHRpb25zKCkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgdHlwZTogdGhpcy5jaGFydFR5cGUsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzIHx8IFtdLFxyXG4gICAgICAgIGRhdGFzZXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgb3B0aW9uczogbWVyZ2VkT3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNoYXJ0Q29uZmlnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0QnVpbGRlcihjdHg6IHN0cmluZy8qLCBkYXRhOmFueVtdLCBvcHRpb25zOmFueSovKTogQ2hhcnQge1xyXG4gICAgY29uc3QgY2hhcnRDb25maWcgPSB0aGlzLmdldENoYXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgcmV0dXJuIG5ldyBjaGFydEpzLkNoYXJ0KGN0eCwgY2hhcnRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc21hcnRNZXJnZShvcHRpb25zOiBhbnksIG92ZXJyaWRlczogYW55LCBsZXZlbDogbnVtYmVyID0gMCk6IGFueSB7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKG92ZXJyaWRlcyk7XHJcbiAgICBrZXlzVG9VcGRhdGUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvdmVycmlkZXNba2V5XSkpIHtcclxuICAgICAgICBjb25zdCBhcnJheUVsZW1lbnRzID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChhcnJheUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICBhcnJheUVsZW1lbnRzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRNZXJnZShyLCBvdmVycmlkZXNba2V5XVswXSwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG92ZXJyaWRlc1trZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcclxuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9uc1trZXldLCBvdmVycmlkZXNba2V5XSwgbGV2ZWwgKyAxKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBvdmVycmlkZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWwobGFiZWw6IExhYmVsKTogbGFiZWwgaXMgTXVsdGlMaW5lTGFiZWwge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGFiZWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBqb2luTGFiZWwobGFiZWw6IExhYmVsKTogc3RyaW5nIHtcclxuICAgIGlmICghbGFiZWwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc011bHRpTGluZUxhYmVsKGxhYmVsKSkge1xyXG4gICAgICByZXR1cm4gbGFiZWwuam9pbignICcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9wYWdhdGVEYXRhc2V0c1RvRGF0YShkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW10pIHtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YXNldHMubWFwKHIgPT4gci5kYXRhKTtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IGRhdGFzZXRzO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YVRvRGF0YXNldHMobmV3RGF0YVZhbHVlczogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzTXVsdGlEYXRhU2V0KG5ld0RhdGFWYWx1ZXMpKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIG5ld0RhdGFWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGFzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBuZXdEYXRhVmFsdWVzW2ldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBuZXdEYXRhVmFsdWVzLm1hcCgoZGF0YTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGEsIGxhYmVsOiB0aGlzLmpvaW5MYWJlbCh0aGlzLmxhYmVsc1tpbmRleF0pIHx8IGBMYWJlbCAke2luZGV4fWAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5kYXRhc2V0cykge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBbeyBkYXRhOiBuZXdEYXRhVmFsdWVzIH1dO1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEgPSBuZXdEYXRhVmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuc3BsaWNlKDEpOyAvLyBSZW1vdmUgYWxsIGVsZW1lbnRzIGJ1dCB0aGUgZmlyc3RcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNdWx0aURhdGFTZXQoZGF0YTogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiBkYXRhIGlzIE11bHRpRGF0YVNldCB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhWzBdKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGF0YXNldHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuZGF0YXNldHMgJiYgIXRoaXMuZGF0YSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5nLWNoYXJ0cyBjb25maWd1cmF0aW9uIGVycm9yLCBkYXRhIG9yIGRhdGFzZXRzIGZpZWxkIGFyZSByZXF1aXJlZCB0byByZW5kZXIgY2hhcnQgJHt0aGlzLmNoYXJ0VHlwZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBgZGF0YXNldHNgIGlzIGRlZmluZWQsIHVzZSBpdCBvdmVyIHRoZSBgZGF0YWAgcHJvcGVydHkuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKHRoaXMuZGF0YXNldHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhc2V0cztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHModGhpcy5kYXRhKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZnJlc2goKSB7XHJcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlKSB7XHJcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoKCksIDUwKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0b2RvOiByZW1vdmUgdGhpcyBsaW5lLCBpdCBpcyBwcm9kdWNpbmcgZmxpY2tlcmluZ1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jdHgpIHtcclxuICAgICAgdGhpcy5jaGFydCA9IHRoaXMuZ2V0Q2hhcnRCdWlsZGVyKHRoaXMuY3R4LyosIGRhdGEsIHRoaXMub3B0aW9ucyovKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIm5nOi9uZzItY2hhcnRzL2xpYi9iYXNlLWNoYXJ0LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFJVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixVQUFVLEdBR1gsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLE9BQU8sTUFBTSxVQUFVLENBQUM7QUFDcEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFFBQVEsQ0FBQzs7Ozs7QUFXbkMsdUJBZUM7OztJQWRDLDhCQUFvQjs7SUFDcEIsOEJBQW1COztJQUNuQixrQ0FBd0I7O0lBQ3hCLGtDQUF1Qjs7SUFDdkIsdUNBQTJCOztJQUMzQix1Q0FBOEI7O0lBQzlCLGdDQUFzQjs7SUFDdEIsMEJBQWdCOztJQUNoQiwrQkFBcUI7O0lBQ3JCLDBCQUFnQjs7SUFDaEIsZ0NBQXNCOztJQUN0QiwwQkFFRTs7OztJQUlGLFVBQU87SUFDUCxTQUFNO0lBQ04sVUFBTzs7Ozs7QUFRVCxNQUFNLE9BQU8sa0JBQWtCOzs7OztJQTRDN0IsWUFDVSxPQUFtQixFQUNuQixZQUEwQjtRQUQxQixZQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ25CLGlCQUFZLEdBQVosWUFBWSxDQUFjO1FBMUNwQixZQUFPLEdBQXlCLEVBQUUsQ0FBQztRQU1sQyxlQUFVLEdBQXdELElBQUksWUFBWSxFQUFFLENBQUM7UUFDckYsZUFBVSxHQUFzRCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBSzVGLFFBQUcsR0FBYTtZQUN0QixVQUFVLEVBQUUsS0FBSztZQUNqQixVQUFVLEVBQUUsQ0FBQztZQUNiLGNBQWMsRUFBRSxLQUFLO1lBQ3JCLGNBQWMsRUFBRSxDQUFD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USxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQztZQUVyRSxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUN0RyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRzs7OztZQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBQyxDQUFDO1lBRTlELFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNOzs7OztRQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUM3RyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRzs7OztZQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQztZQUVyRSxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRTtZQUMzQyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUV0QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFcEIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELDBEQUEwRDtRQUMxRCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNOzs7OztRQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsTUFBTSxFQUFFO1lBQ2hHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRzs7OztZQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDO1lBRTFELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUVwQixVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRTtZQUMxQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUVyQyxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFB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QUNoQyxxQ0FBcUU7O0lBRXJFLHdDQUFzRzs7SUFDdEcsd0NBQW9HOztJQUVwRyxpQ0FBbUI7O0lBQ25CLG1DQUFvQjs7Ozs7SUFFcEIsaUNBYUU7Ozs7O0lBRUYsa0NBQWtDOzs7OztJQWNoQyxxQ0FBMkI7Ozs7O0lBQzNCLDBDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIERvQ2hlY2ssXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIGNoYXJ0SnMgZnJvbSAnY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRDb2xvcnMgfSBmcm9tICcuL2dldC1jb2xvcnMnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBUaGVtZVNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCB0eXBlIFNpbmdsZURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSk7XHJcbmV4cG9ydCB0eXBlIE11bHRpRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKVtdO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcblxyXG5leHBvcnQgdHlwZSBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyA9IGNoYXJ0SnMuUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbiAmIGNoYXJ0SnMuUGx1Z2luU2VydmljZVJlZ2lzdHJhdGlvbk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IHR5cGUgTXVsdGlMaW5lTGFiZWwgPSBzdHJpbmdbXTtcclxuZXhwb3J0IHR5cGUgTGFiZWwgPSBTaW5nbGVMaW5lTGFiZWwgfCBNdWx0aUxpbmVMYWJlbDtcclxuXHJcbmludGVyZmFjZSBPbGRTdGF0ZSB7XHJcbiAgZGF0YUV4aXN0czogYm9vbGVhbjtcclxuICBkYXRhTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YXNldHNMZW5ndGg6IG51bWJlcjtcclxuICBkYXRhc2V0c0RhdGFPYmplY3RzOiBhbnlbXTtcclxuICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBudW1iZXJbXTtcclxuICBjb2xvcnNFeGlzdHM6IGJvb2xlYW47XHJcbiAgY29sb3JzOiBDb2xvcltdO1xyXG4gIGxhYmVsc0V4aXN0OiBib29sZWFuO1xyXG4gIGxhYmVsczogTGFiZWxbXTtcclxuICBsZWdlbmRFeGlzdHM6IGJvb2xlYW47XHJcbiAgbGVnZW5kOiB7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5lbnVtIFVwZGF0ZVR5cGUge1xyXG4gIERlZmF1bHQsXHJcbiAgVXBkYXRlLFxyXG4gIFJlZnJlc2hcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAnY2FudmFzW2Jhc2VDaGFydF0nLFxyXG4gIGV4cG9ydEFzOiAnYmFzZS1jaGFydCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgQElucHV0KCkgcHVibGljIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW107XHJcbiAgQElucHV0KCkgcHVibGljIGxhYmVsczogTGFiZWxbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnMgPSB7fTtcclxuICBASW5wdXQoKSBwdWJsaWMgY2hhcnRUeXBlOiBjaGFydEpzLkNoYXJ0VHlwZTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sb3JzOiBDb2xvcltdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWdlbmQ6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcHVibGljIHBsdWdpbnM6IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zW107XHJcblxyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRDbGljazogRXZlbnRFbWl0dGVyPHsgZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRIb3ZlcjogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGN0eDogc3RyaW5nO1xyXG4gIHB1YmxpYyBjaGFydDogQ2hhcnQ7XHJcblxyXG4gIHByaXZhdGUgb2xkOiBPbGRTdGF0ZSA9IHtcclxuICAgIGRhdGFFeGlzdHM6IGZhbHNlLFxyXG4gICAgZGF0YUxlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFzZXRzTGVuZ3RoOiAwLFxyXG4gICAgZGF0YXNldHNEYXRhT2JqZWN0czogW10sXHJcbiAgICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBbXSxcclxuICAgIGNvbG9yc0V4aXN0czogZmFsc2UsXHJcbiAgICBjb2xvcnM6IFtdLFxyXG4gICAgbGFiZWxzRXhpc3Q6IGZhbHNlLFxyXG4gICAgbGFiZWxzOiBbXSxcclxuICAgIGxlZ2VuZEV4aXN0czogZmFsc2UsXHJcbiAgICBsZWdlbmQ6IHt9LFxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3ViczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdW5yZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMudW5yZWdpc3RlcihwbHVnaW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIHRoaXMuc3Vicy5wdXNoKHRoaXMudGhlbWVTZXJ2aWNlLmNvbG9yc2NoZW1lc09wdGlvbnMuc3Vic2NyaWJlKHIgPT4gdGhpcy50aGVtZUNoYW5nZWQocikpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdGhlbWVDaGFuZ2VkKG9wdGlvbnM6IHt9KSB7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5jaGFydCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghIXRoaXMuZGF0YSAhPT0gdGhpcy5vbGQuZGF0YUV4aXN0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcblxyXG4gICAgICB0aGlzLm9sZC5kYXRhRXhpc3RzID0gISF0aGlzLmRhdGE7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YUxlbmd0aCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGFzZXRzICE9PSB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cyA9ICEhdGhpcy5kYXRhc2V0cztcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCA9IHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5sZW5ndGggfHwgMDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEgIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YU9iamVjdHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5maWx0ZXIoKHgsIGkpID0+IHguZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YUxlbmd0aHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMuY29sb3JzICE9PSB0aGlzLm9sZC5jb2xvcnNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzRXhpc3RzID0gISF0aGlzLmNvbG9ycztcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIHNtZWxscyBvZiBpbmVmZmljaWVuY3ksIG1pZ2h0IG5lZWQgdG8gcmV2aXNpdCB0aGlzXHJcbiAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5jb2xvcnNFcXVhbCh4LCB0aGlzLm9sZC5jb2xvcnNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzID0gdGhpcy5jb2xvcnMubWFwKHggPT4gdGhpcy5jb3B5Q29sb3IoeCkpO1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMubGFiZWxzICE9PSB0aGlzLm9sZC5sYWJlbHNFeGlzdCkge1xyXG4gICAgICB0aGlzLm9sZC5sYWJlbHNFeGlzdCA9ICEhdGhpcy5sYWJlbHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5sYWJlbHNFcXVhbCh4LCB0aGlzLm9sZC5sYWJlbHNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzID0gdGhpcy5sYWJlbHMubWFwKHggPT4gdGhpcy5jb3B5TGFiZWwoeCkpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmxlZ2VuZCAhPT0gdGhpcy5vbGQubGVnZW5kRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZEV4aXN0cyA9ICEhdGhpcy5vcHRpb25zLmxlZ2VuZDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2VuZCAmJiB0aGlzLm9wdGlvbnMubGVnZW5kLnBvc2l0aW9uICE9PSB0aGlzLm9sZC5sZWdlbmQucG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbjtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5VcGRhdGU6XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlJlZnJlc2g6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb3B5TGFiZWwoYTogTGFiZWwpOiBMYWJlbCB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xyXG4gICAgICByZXR1cm4gWy4uLmFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG5cclxuICBsYWJlbHNFcXVhbChhOiBMYWJlbCwgYjogTGFiZWwpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgICAgICYmIEFycmF5LmlzQXJyYXkoYSkgPT09IEFycmF5LmlzQXJyYXkoYilcclxuICAgICAgJiYgKEFycmF5LmlzQXJyYXkoYSkgfHwgYSA9PT0gYilcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSBiLmxlbmd0aClcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEuZmlsdGVyKCh4LCBpKSA9PiB4ICE9PSBiW2ldKS5sZW5ndGggPT09IDApXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yIHtcclxuICAgIGNvbnN0IHJjOiBDb2xvciA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBhLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgYm9yZGVyV2lkdGg6IGEuYm9yZGVyV2lkdGgsXHJcbiAgICAgIGJvcmRlckNvbG9yOiBhLmJvcmRlckNvbG9yLFxyXG4gICAgICBib3JkZXJDYXBTdHlsZTogYS5ib3JkZXJDYXBTdHlsZSxcclxuICAgICAgYm9yZGVyRGFzaDogYS5ib3JkZXJEYXNoLFxyXG4gICAgICBib3JkZXJEYXNoT2Zmc2V0OiBhLmJvcmRlckRhc2hPZmZzZXQsXHJcbiAgICAgIGJvcmRlckpvaW5TdHlsZTogYS5ib3JkZXJKb2luU3R5bGUsXHJcbiAgICAgIHBvaW50Qm9yZGVyQ29sb3I6IGEucG9pbnRCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IGEucG9pbnRCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRSYWRpdXM6IGEucG9pbnRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJSYWRpdXM6IGEucG9pbnRIb3ZlclJhZGl1cyxcclxuICAgICAgcG9pbnRIaXRSYWRpdXM6IGEucG9pbnRIaXRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlcldpZHRoOiBhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRTdHlsZTogYS5wb2ludFN0eWxlLFxyXG4gICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogYS5ob3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJDb2xvcjogYS5ob3ZlckJvcmRlckNvbG9yLFxyXG4gICAgICBob3ZlckJvcmRlcldpZHRoOiBhLmhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiByYztcclxuICB9XHJcblxyXG4gIGNvbG9yc0VxdWFsKGE6IENvbG9yLCBiOiBDb2xvcikge1xyXG4gICAgaWYgKCFhICE9PSAhYikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIWEgfHwgdHJ1ZVxyXG4gICAgICAmJiAoYS5iYWNrZ3JvdW5kQ29sb3IgPT09IGIuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJXaWR0aCA9PT0gYi5ib3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEuYm9yZGVyQ29sb3IgPT09IGIuYm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmJvcmRlckNhcFN0eWxlID09PSBiLmJvcmRlckNhcFN0eWxlKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoID09PSBiLmJvcmRlckRhc2gpXHJcbiAgICAgICYmIChhLmJvcmRlckRhc2hPZmZzZXQgPT09IGIuYm9yZGVyRGFzaE9mZnNldClcclxuICAgICAgJiYgKGEuYm9yZGVySm9pblN0eWxlID09PSBiLmJvcmRlckpvaW5TdHlsZSlcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJDb2xvciA9PT0gYi5wb2ludEJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJXaWR0aCA9PT0gYi5wb2ludEJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFJhZGl1cyA9PT0gYi5wb2ludFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlclJhZGl1cyA9PT0gYi5wb2ludEhvdmVyUmFkaXVzKVxyXG4gICAgICAmJiAoYS5wb2ludEhpdFJhZGl1cyA9PT0gYi5wb2ludEhpdFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IgPT09IGIucG9pbnRIb3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyV2lkdGggPT09IGIucG9pbnRIb3ZlckJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFN0eWxlID09PSBiLnBvaW50U3R5bGUpXHJcbiAgICAgICYmIChhLmhvdmVyQmFja2dyb3VuZENvbG9yID09PSBiLmhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlckNvbG9yID09PSBiLmhvdmVyQm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmhvdmVyQm9yZGVyV2lkdGggPT09IGIuaG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29sb3JzKCkge1xyXG4gICAgdGhpcy5kYXRhc2V0cy5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbG9ycyAmJiB0aGlzLmNvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgdGhpcy5jb2xvcnNbaW5kZXhdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgZ2V0Q29sb3JzKHRoaXMuY2hhcnRUeXBlLCBpbmRleCwgZWxtLmRhdGEubGVuZ3RoKSwgeyAuLi5lbG0gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IFVwZGF0ZVR5cGUuRGVmYXVsdDtcclxuICAgIGNvbnN0IHdhbnRVcGRhdGUgPSAoeDogVXBkYXRlVHlwZSkgPT4ge1xyXG4gICAgICB1cGRhdGVSZXF1aXJlZCA9IHggPiB1cGRhdGVSZXF1aXJlZCA/IHggOiB1cGRhdGVSZXF1aXJlZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZXMgYXJlIGluIHRoZSBkYXRhIG9yIGRhdGFzZXRzIG9yIGxhYmVscyBvciBsZWdlbmRcclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmIGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyhjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdkYXRhc2V0cycpICYmIGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoY2hhbmdlcy5kYXRhc2V0cy5jdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xhYmVscycpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscyA9IGNoYW5nZXMubGFiZWxzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5sZWdlbmQuZGlzcGxheSA9IGNoYW5nZXMubGVnZW5kLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB0aGlzLmNoYXJ0LmdlbmVyYXRlTGVnZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdvcHRpb25zJykpIHtcclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlJlZnJlc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodXBkYXRlUmVxdWlyZWQgYXMgVXBkYXRlVHlwZSkge1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuRGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdWJzLmZvckVhY2goeCA9PiB4LnVuc3Vic2NyaWJlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkdXJhdGlvbj86IGFueSwgbGF6eT86IGFueSkge1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQudXBkYXRlKGR1cmF0aW9uLCBsYXp5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpLmhpZGRlbiA9IGhpZGRlbjtcclxuICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhcnQudG9CYXNlNjRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0Q29uZmlndXJhdGlvbigpOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiB7XHJcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZ2V0RGF0YXNldHMoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgb3B0aW9ucy5sZWdlbmQgPSB7IGRpc3BsYXk6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgICAvLyBob29rIGZvciBvbkhvdmVyIGFuZCBvbkNsaWNrIGV2ZW50c1xyXG4gICAgb3B0aW9ucy5ob3ZlciA9IG9wdGlvbnMuaG92ZXIgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMuaG92ZXIub25Ib3Zlcikge1xyXG4gICAgICBvcHRpb25zLmhvdmVyLm9uSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFydEhvdmVyLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XHJcbiAgICAgIG9wdGlvbnMub25DbGljayA9IChldmVudD86IE1vdXNlRXZlbnQsIGFjdGl2ZT86IHt9W10pID0+IHtcclxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2suZW1pdCh7IGV2ZW50LCBhY3RpdmUgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHRoaXMuc21hcnRNZXJnZShvcHRpb25zLCB0aGlzLnRoZW1lU2VydmljZS5nZXRDb2xvcnNjaGVtZXNPcHRpb25zKCkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgdHlwZTogdGhpcy5jaGFydFR5cGUsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzIHx8IFtdLFxyXG4gICAgICAgIGRhdGFzZXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgb3B0aW9uczogbWVyZ2VkT3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNoYXJ0Q29uZmlnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0QnVpbGRlcihjdHg6IHN0cmluZy8qLCBkYXRhOmFueVtdLCBvcHRpb25zOmFueSovKTogQ2hhcnQge1xyXG4gICAgY29uc3QgY2hhcnRDb25maWcgPSB0aGlzLmdldENoYXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgcmV0dXJuIG5ldyBjaGFydEpzLkNoYXJ0KGN0eCwgY2hhcnRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc21hcnRNZXJnZShvcHRpb25zOiBhbnksIG92ZXJyaWRlczogYW55LCBsZXZlbDogbnVtYmVyID0gMCk6IGFueSB7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKG92ZXJyaWRlcyk7XHJcbiAgICBrZXlzVG9VcGRhdGUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvdmVycmlkZXNba2V5XSkpIHtcclxuICAgICAgICBjb25zdCBhcnJheUVsZW1lbnRzID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChhcnJheUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICBhcnJheUVsZW1lbnRzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRNZXJnZShyLCBvdmVycmlkZXNba2V5XVswXSwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG92ZXJyaWRlc1trZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcclxuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9uc1trZXldLCBvdmVycmlkZXNba2V5XSwgbGV2ZWwgKyAxKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBvdmVycmlkZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWwobGFiZWw6IExhYmVsKTogbGFiZWwgaXMgTXVsdGlMaW5lTGFiZWwge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGFiZWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBqb2luTGFiZWwobGFiZWw6IExhYmVsKTogc3RyaW5nIHtcclxuICAgIGlmICghbGFiZWwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc011bHRpTGluZUxhYmVsKGxhYmVsKSkge1xyXG4gICAgICByZXR1cm4gbGFiZWwuam9pbignICcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9wYWdhdGVEYXRhc2V0c1RvRGF0YShkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW10pIHtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YXNldHMubWFwKHIgPT4gci5kYXRhKTtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IGRhdGFzZXRzO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YVRvRGF0YXNldHMobmV3RGF0YVZhbHVlczogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzTXVsdGlEYXRhU2V0KG5ld0RhdGFWYWx1ZXMpKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIG5ld0RhdGFWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGFzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBuZXdEYXRhVmFsdWVzW2ldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBuZXdEYXRhVmFsdWVzLm1hcCgoZGF0YTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGEsIGxhYmVsOiB0aGlzLmpvaW5MYWJlbCh0aGlzLmxhYmVsc1tpbmRleF0pIHx8IGBMYWJlbCAke2luZGV4fWAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5kYXRhc2V0cykge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBbeyBkYXRhOiBuZXdEYXRhVmFsdWVzIH1dO1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEgPSBuZXdEYXRhVmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuc3BsaWNlKDEpOyAvLyBSZW1vdmUgYWxsIGVsZW1lbnRzIGJ1dCB0aGUgZmlyc3RcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNdWx0aURhdGFTZXQoZGF0YTogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiBkYXRhIGlzIE11bHRpRGF0YVNldCB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhWzBdKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGF0YXNldHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuZGF0YXNldHMgJiYgIXRoaXMuZGF0YSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5nLWNoYXJ0cyBjb25maWd1cmF0aW9uIGVycm9yLCBkYXRhIG9yIGRhdGFzZXRzIGZpZWxkIGFyZSByZXF1aXJlZCB0byByZW5kZXIgY2hhcnQgJHt0aGlzLmNoYXJ0VHlwZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBgZGF0YXNldHNgIGlzIGRlZmluZWQsIHVzZSBpdCBvdmVyIHRoZSBgZGF0YWAgcHJvcGVydHkuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKHRoaXMuZGF0YXNldHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhc2V0cztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHModGhpcy5kYXRhKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZnJlc2goKSB7XHJcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlKSB7XHJcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoKCksIDUwKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0b2RvOiByZW1vdmUgdGhpcyBsaW5lLCBpdCBpcyBwcm9kdWNpbmcgZmxpY2tlcmluZ1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jdHgpIHtcclxuICAgICAgdGhpcy5jaGFydCA9IHRoaXMuZ2V0Q2hhcnRCdWlsZGVyKHRoaXMuY3R4LyosIGRhdGEsIHRoaXMub3B0aW9ucyovKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..bb13bff
--- /dev/null
+++ b/node_modules/ng2-charts/esm2015/lib/base-chart.directive.js.__ivy_ngcc_bak
@@ -0,0 +1,731 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import { Directive, Input, Output, EventEmitter, ElementRef, } from '@angular/core';
+import * as chartJs from 'chart.js';
+import { getColors } from './get-colors';
+import { ThemeService } from './theme.service';
+import { cloneDeep } from 'lodash';
+/**
+ * @record
+ */
+function OldState() { }
+if (false) {
+    /** @type {?} */
+    OldState.prototype.dataExists;
+    /** @type {?} */
+    OldState.prototype.dataLength;
+    /** @type {?} */
+    OldState.prototype.datasetsExists;
+    /** @type {?} */
+    OldState.prototype.datasetsLength;
+    /** @type {?} */
+    OldState.prototype.datasetsDataObjects;
+    /** @type {?} */
+    OldState.prototype.datasetsDataLengths;
+    /** @type {?} */
+    OldState.prototype.colorsExists;
+    /** @type {?} */
+    OldState.prototype.colors;
+    /** @type {?} */
+    OldState.prototype.labelsExist;
+    /** @type {?} */
+    OldState.prototype.labels;
+    /** @type {?} */
+    OldState.prototype.legendExists;
+    /** @type {?} */
+    OldState.prototype.legend;
+}
+/** @enum {number} */
+const UpdateType = {
+    Default: 0,
+    Update: 1,
+    Refresh: 2,
+};
+UpdateType[UpdateType.Default] = 'Default';
+UpdateType[UpdateType.Update] = 'Update';
+UpdateType[UpdateType.Refresh] = 'Refresh';
+export class BaseChartDirective {
+    /**
+     * @param {?} element
+     * @param {?} themeService
+     */
+    constructor(element, themeService) {
+        this.element = element;
+        this.themeService = themeService;
+        this.options = {};
+        this.chartClick = new EventEmitter();
+        this.chartHover = new EventEmitter();
+        this.old = {
+            dataExists: false,
+            dataLength: 0,
+            datasetsExists: false,
+            datasetsLength: 0,
+            datasetsDataObjects: [],
+            datasetsDataLengths: [],
+            colorsExists: false,
+            colors: [],
+            labelsExist: false,
+            labels: [],
+            legendExists: false,
+            legend: {},
+        };
+        this.subs = [];
+    }
+    /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    static registerPlugin(plugin) {
+        chartJs.Chart.plugins.register(plugin);
+    }
+    /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    static unregisterPlugin(plugin) {
+        chartJs.Chart.plugins.unregister(plugin);
+    }
+    /**
+     * @return {?}
+     */
+    ngOnInit() {
+        this.ctx = this.element.nativeElement.getContext('2d');
+        this.refresh();
+        this.subs.push(this.themeService.colorschemesOptions.subscribe((/**
+         * @param {?} r
+         * @return {?}
+         */
+        r => this.themeChanged(r))));
+    }
+    /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    themeChanged(options) {
+        this.refresh();
+    }
+    /**
+     * @return {?}
+     */
+    ngDoCheck() {
+        if (!this.chart) {
+            return;
+        }
+        /** @type {?} */
+        let updateRequired = UpdateType.Default;
+        /** @type {?} */
+        const wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        (x) => {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        if (!!this.data !== this.old.dataExists) {
+            this.propagateDataToDatasets(this.data);
+            this.old.dataExists = !!this.data;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.data && this.data.length !== this.old.dataLength) {
+            this.old.dataLength = this.data && this.data.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.datasets !== this.old.datasetsExists) {
+            this.old.datasetsExists = !!this.datasets;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.length !== this.old.datasetsLength) {
+            this.old.datasetsLength = this.datasets && this.datasets.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => x.data !== this.old.datasetsDataObjects[i])).length) {
+            this.old.datasetsDataObjects = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => x.data));
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => x.data.length !== this.old.datasetsDataLengths[i])).length) {
+            this.old.datasetsDataLengths = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => x.data.length));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.colors !== this.old.colorsExists) {
+            this.old.colorsExists = !!this.colors;
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        // This smells of inefficiency, might need to revisit this
+        if (this.colors && this.colors.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => !this.colorsEqual(x, this.old.colors[i]))).length) {
+            this.old.colors = this.colors.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => this.copyColor(x)));
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.labels !== this.old.labelsExist) {
+            this.old.labelsExist = !!this.labels;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.labels && this.labels.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => !this.labelsEqual(x, this.old.labels[i]))).length) {
+            this.old.labels = this.labels.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => this.copyLabel(x)));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.options.legend !== this.old.legendExists) {
+            this.old.legendExists = !!this.options.legend;
+            wantUpdate(UpdateType.Refresh);
+        }
+        if (this.options.legend && this.options.legend.position !== this.old.legend.position) {
+            this.old.legend.position = this.options.legend.position;
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Default:
+                break;
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+                this.refresh();
+                break;
+        }
+    }
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    copyLabel(a) {
+        if (Array.isArray(a)) {
+            return [...a];
+        }
+        return a;
+    }
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    labelsEqual(a, b) {
+        return true
+            && Array.isArray(a) === Array.isArray(b)
+            && (Array.isArray(a) || a === b)
+            && (!Array.isArray(a) || a.length === b.length)
+            && (!Array.isArray(a) || a.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            (x, i) => x !== b[i])).length === 0);
+    }
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    copyColor(a) {
+        /** @type {?} */
+        const rc = {
+            backgroundColor: a.backgroundColor,
+            borderWidth: a.borderWidth,
+            borderColor: a.borderColor,
+            borderCapStyle: a.borderCapStyle,
+            borderDash: a.borderDash,
+            borderDashOffset: a.borderDashOffset,
+            borderJoinStyle: a.borderJoinStyle,
+            pointBorderColor: a.pointBorderColor,
+            pointBackgroundColor: a.pointBackgroundColor,
+            pointBorderWidth: a.pointBorderWidth,
+            pointRadius: a.pointRadius,
+            pointHoverRadius: a.pointHoverRadius,
+            pointHitRadius: a.pointHitRadius,
+            pointHoverBackgroundColor: a.pointHoverBackgroundColor,
+            pointHoverBorderColor: a.pointHoverBorderColor,
+            pointHoverBorderWidth: a.pointHoverBorderWidth,
+            pointStyle: a.pointStyle,
+            hoverBackgroundColor: a.hoverBackgroundColor,
+            hoverBorderColor: a.hoverBorderColor,
+            hoverBorderWidth: a.hoverBorderWidth,
+        };
+        return rc;
+    }
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    colorsEqual(a, b) {
+        if (!a !== !b) {
+            return false;
+        }
+        return !a || true
+            && (a.backgroundColor === b.backgroundColor)
+            && (a.borderWidth === b.borderWidth)
+            && (a.borderColor === b.borderColor)
+            && (a.borderCapStyle === b.borderCapStyle)
+            && (a.borderDash === b.borderDash)
+            && (a.borderDashOffset === b.borderDashOffset)
+            && (a.borderJoinStyle === b.borderJoinStyle)
+            && (a.pointBorderColor === b.pointBorderColor)
+            && (a.pointBackgroundColor === b.pointBackgroundColor)
+            && (a.pointBorderWidth === b.pointBorderWidth)
+            && (a.pointRadius === b.pointRadius)
+            && (a.pointHoverRadius === b.pointHoverRadius)
+            && (a.pointHitRadius === b.pointHitRadius)
+            && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)
+            && (a.pointHoverBorderColor === b.pointHoverBorderColor)
+            && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)
+            && (a.pointStyle === b.pointStyle)
+            && (a.hoverBackgroundColor === b.hoverBackgroundColor)
+            && (a.hoverBorderColor === b.hoverBorderColor)
+            && (a.hoverBorderWidth === b.hoverBorderWidth);
+    }
+    /**
+     * @return {?}
+     */
+    updateColors() {
+        this.datasets.forEach((/**
+         * @param {?} elm
+         * @param {?} index
+         * @return {?}
+         */
+        (elm, index) => {
+            if (this.colors && this.colors[index]) {
+                Object.assign(elm, this.colors[index]);
+            }
+            else {
+                Object.assign(elm, getColors(this.chartType, index, elm.data.length), Object.assign({}, elm));
+            }
+        }));
+    }
+    /**
+     * @param {?} changes
+     * @return {?}
+     */
+    ngOnChanges(changes) {
+        /** @type {?} */
+        let updateRequired = UpdateType.Default;
+        /** @type {?} */
+        const wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        (x) => {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        // Check if the changes are in the data or datasets or labels or legend
+        if (changes.hasOwnProperty('data') && changes.data.currentValue) {
+            this.propagateDataToDatasets(changes.data.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {
+            this.propagateDatasetsToData(changes.datasets.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('labels')) {
+            if (this.chart) {
+                this.chart.data.labels = changes.labels.currentValue;
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('legend')) {
+            if (this.chart) {
+                this.chart.config.options.legend.display = changes.legend.currentValue;
+                this.chart.generateLegend();
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('options')) {
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+            case UpdateType.Default:
+                this.refresh();
+                break;
+        }
+    }
+    /**
+     * @return {?}
+     */
+    ngOnDestroy() {
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        this.subs.forEach((/**
+         * @param {?} x
+         * @return {?}
+         */
+        x => x.unsubscribe()));
+    }
+    /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    update(duration, lazy) {
+        if (this.chart) {
+            return this.chart.update(duration, lazy);
+        }
+    }
+    /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    hideDataset(index, hidden) {
+        this.chart.getDatasetMeta(index).hidden = hidden;
+        this.chart.update();
+    }
+    /**
+     * @param {?} index
+     * @return {?}
+     */
+    isDatasetHidden(index) {
+        return this.chart.getDatasetMeta(index).hidden;
+    }
+    /**
+     * @return {?}
+     */
+    toBase64Image() {
+        return this.chart.toBase64Image();
+    }
+    /**
+     * @return {?}
+     */
+    getChartConfiguration() {
+        /** @type {?} */
+        const datasets = this.getDatasets();
+        /** @type {?} */
+        const options = Object.assign({}, this.options);
+        if (this.legend === false) {
+            options.legend = { display: false };
+        }
+        // hook for onHover and onClick events
+        options.hover = options.hover || {};
+        if (!options.hover.onHover) {
+            options.hover.onHover = (/**
+             * @param {?} event
+             * @param {?} active
+             * @return {?}
+             */
+            (event, active) => {
+                if (active && !active.length) {
+                    return;
+                }
+                this.chartHover.emit({ event, active });
+            });
+        }
+        if (!options.onClick) {
+            options.onClick = (/**
+             * @param {?=} event
+             * @param {?=} active
+             * @return {?}
+             */
+            (event, active) => {
+                this.chartClick.emit({ event, active });
+            });
+        }
+        /** @type {?} */
+        const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());
+        /** @type {?} */
+        const chartConfig = {
+            type: this.chartType,
+            data: {
+                labels: this.labels || [],
+                datasets
+            },
+            plugins: this.plugins,
+            options: mergedOptions,
+        };
+        return chartConfig;
+    }
+    /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    getChartBuilder(ctx /*, data:any[], options:any*/) {
+        /** @type {?} */
+        const chartConfig = this.getChartConfiguration();
+        return new chartJs.Chart(ctx, chartConfig);
+    }
+    /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    smartMerge(options, overrides, level = 0) {
+        if (level === 0) {
+            options = cloneDeep(options);
+        }
+        /** @type {?} */
+        const keysToUpdate = Object.keys(overrides);
+        keysToUpdate.forEach((/**
+         * @param {?} key
+         * @return {?}
+         */
+        key => {
+            if (Array.isArray(overrides[key])) {
+                /** @type {?} */
+                const arrayElements = options[key];
+                if (arrayElements) {
+                    arrayElements.forEach((/**
+                     * @param {?} r
+                     * @return {?}
+                     */
+                    r => {
+                        this.smartMerge(r, overrides[key][0], level + 1);
+                    }));
+                }
+            }
+            else if (typeof (overrides[key]) === 'object') {
+                if (!(key in options)) {
+                    options[key] = {};
+                }
+                this.smartMerge(options[key], overrides[key], level + 1);
+            }
+            else {
+                options[key] = overrides[key];
+            }
+        }));
+        if (level === 0) {
+            return options;
+        }
+    }
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    isMultiLineLabel(label) {
+        return Array.isArray(label);
+    }
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    joinLabel(label) {
+        if (!label) {
+            return null;
+        }
+        if (this.isMultiLineLabel(label)) {
+            return label.join(' ');
+        }
+        else {
+            return label;
+        }
+    }
+    /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    propagateDatasetsToData(datasets) {
+        this.data = this.datasets.map((/**
+         * @param {?} r
+         * @return {?}
+         */
+        r => r.data));
+        if (this.chart) {
+            this.chart.data.datasets = datasets;
+        }
+        this.updateColors();
+    }
+    /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    propagateDataToDatasets(newDataValues) {
+        if (this.isMultiDataSet(newDataValues)) {
+            if (this.datasets && newDataValues.length === this.datasets.length) {
+                this.datasets.forEach((/**
+                 * @param {?} dataset
+                 * @param {?} i
+                 * @return {?}
+                 */
+                (dataset, i) => {
+                    dataset.data = newDataValues[i];
+                }));
+            }
+            else {
+                this.datasets = newDataValues.map((/**
+                 * @param {?} data
+                 * @param {?} index
+                 * @return {?}
+                 */
+                (data, index) => {
+                    return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };
+                }));
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+        }
+        else {
+            if (!this.datasets) {
+                this.datasets = [{ data: newDataValues }];
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+            else {
+                this.datasets[0].data = newDataValues;
+                this.datasets.splice(1); // Remove all elements but the first
+            }
+        }
+        this.updateColors();
+    }
+    /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    isMultiDataSet(data) {
+        return Array.isArray(data[0]);
+    }
+    /**
+     * @private
+     * @return {?}
+     */
+    getDatasets() {
+        if (!this.datasets && !this.data) {
+            throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);
+        }
+        // If `datasets` is defined, use it over the `data` property.
+        if (this.datasets) {
+            this.propagateDatasetsToData(this.datasets);
+            return this.datasets;
+        }
+        if (this.data) {
+            this.propagateDataToDatasets(this.data);
+            return this.datasets;
+        }
+    }
+    /**
+     * @private
+     * @return {?}
+     */
+    refresh() {
+        // if (this.options && this.options.responsive) {
+        //   setTimeout(() => this.refresh(), 50);
+        // }
+        // todo: remove this line, it is producing flickering
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        if (this.ctx) {
+            this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
+        }
+    }
+}
+BaseChartDirective.decorators = [
+    { type: Directive, args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            },] }
+];
+/** @nocollapse */
+BaseChartDirective.ctorParameters = () => [
+    { type: ElementRef },
+    { type: ThemeService }
+];
+BaseChartDirective.propDecorators = {
+    data: [{ type: Input }],
+    datasets: [{ type: Input }],
+    labels: [{ type: Input }],
+    options: [{ type: Input }],
+    chartType: [{ type: Input }],
+    colors: [{ type: Input }],
+    legend: [{ type: Input }],
+    plugins: [{ type: Input }],
+    chartClick: [{ type: Output }],
+    chartHover: [{ type: Output }]
+};
+if (false) {
+    /** @type {?} */
+    BaseChartDirective.prototype.data;
+    /** @type {?} */
+    BaseChartDirective.prototype.datasets;
+    /** @type {?} */
+    BaseChartDirective.prototype.labels;
+    /** @type {?} */
+    BaseChartDirective.prototype.options;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartType;
+    /** @type {?} */
+    BaseChartDirective.prototype.colors;
+    /** @type {?} */
+    BaseChartDirective.prototype.legend;
+    /** @type {?} */
+    BaseChartDirective.prototype.plugins;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartClick;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartHover;
+    /** @type {?} */
+    BaseChartDirective.prototype.ctx;
+    /** @type {?} */
+    BaseChartDirective.prototype.chart;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.old;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.subs;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.element;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.themeService;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItY2hhcnRzLyIsInNvdXJjZXMiOlsibGliL2Jhc2UtY2hhcnQuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUlULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNaLFVBQVUsR0FHWCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEtBQUssT0FBTyxNQUFNLFVBQVUsQ0FBQztBQUNwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sUUFBUSxDQUFDOzs7O0FBV25DLHVCQWVDOzs7SUFkQyw4QkFBb0I7O0lBQ3BCLDhCQUFtQjs7SUFDbkIsa0NBQXdCOztJQUN4QixrQ0FBdUI7O0lBQ3ZCLHVDQUEyQjs7SUFDM0IsdUNBQThCOztJQUM5QixnQ0FBc0I7O0lBQ3RCLDBCQUFnQjs7SUFDaEIsK0JBQXFCOztJQUNyQiwwQkFBZ0I7O0lBQ2hCLGdDQUFzQjs7SUFDdEIsMEJBRUU7Ozs7SUFJRixVQUFPO0lBQ1AsU0FBTTtJQUNOLFVBQU87Ozs7O0FBUVQsTUFBTSxPQUFPLGtCQUFrQjs7Ozs7SUE0QzdCLFlBQ1UsT0FBbUIsRUFDbkIsWUFBMEI7UUFEMUIsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQUNuQixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQTFDcEIsWUFBTyxHQUF5QixFQUFFLENBQUM7UUFNbEMsZUFBVSxHQUF3RCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3JGLGVBQVUsR0FBc0QsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUs1RixRQUFHLEdBQWE7WUFDdEIsVUFBVSxFQUFFLEtBQUs7WUFDakIsVUFBVSxFQUFFLENBQUM7WUFDYixjQUFjLEVBQUUsS0FBSztZQUNy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QUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFFckUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU07Ozs7O1FBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDdEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUMsQ0FBQztZQUU5RCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDN0csSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUM7WUFFckUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFdEMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCwwREFBMEQ7UUFDMUQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7UUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUNoRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Ozs7WUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztZQUUxRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFcEIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU07Ozs7O1FBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENB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SUFDdEcsd0NBQW9HOztJQUVwRyxpQ0FBbUI7O0lBQ25CLG1DQUFvQjs7Ozs7SUFFcEIsaUNBYUU7Ozs7O0lBRUYsa0NBQWtDOzs7OztJQWNoQyxxQ0FBMkI7Ozs7O0lBQzNCLDBDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIERvQ2hlY2ssXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIGNoYXJ0SnMgZnJvbSAnY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRDb2xvcnMgfSBmcm9tICcuL2dldC1jb2xvcnMnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBUaGVtZVNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCB0eXBlIFNpbmdsZURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSk7XHJcbmV4cG9ydCB0eXBlIE11bHRpRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKVtdO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcblxyXG5leHBvcnQgdHlwZSBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyA9IGNoYXJ0SnMuUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbiAmIGNoYXJ0SnMuUGx1Z2luU2VydmljZVJlZ2lzdHJhdGlvbk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IHR5cGUgTXVsdGlMaW5lTGFiZWwgPSBzdHJpbmdbXTtcclxuZXhwb3J0IHR5cGUgTGFiZWwgPSBTaW5nbGVMaW5lTGFiZWwgfCBNdWx0aUxpbmVMYWJlbDtcclxuXHJcbmludGVyZmFjZSBPbGRTdGF0ZSB7XHJcbiAgZGF0YUV4aXN0czogYm9vbGVhbjtcclxuICBkYXRhTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YXNldHNMZW5ndGg6IG51bWJlcjtcclxuICBkYXRhc2V0c0RhdGFPYmplY3RzOiBhbnlbXTtcclxuICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBudW1iZXJbXTtcclxuICBjb2xvcnNFeGlzdHM6IGJvb2xlYW47XHJcbiAgY29sb3JzOiBDb2xvcltdO1xyXG4gIGxhYmVsc0V4aXN0OiBib29sZWFuO1xyXG4gIGxhYmVsczogTGFiZWxbXTtcclxuICBsZWdlbmRFeGlzdHM6IGJvb2xlYW47XHJcbiAgbGVnZW5kOiB7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5lbnVtIFVwZGF0ZVR5cGUge1xyXG4gIERlZmF1bHQsXHJcbiAgVXBkYXRlLFxyXG4gIFJlZnJlc2hcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAnY2FudmFzW2Jhc2VDaGFydF0nLFxyXG4gIGV4cG9ydEFzOiAnYmFzZS1jaGFydCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgQElucHV0KCkgcHVibGljIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW107XHJcbiAgQElucHV0KCkgcHVibGljIGxhYmVsczogTGFiZWxbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnMgPSB7fTtcclxuICBASW5wdXQoKSBwdWJsaWMgY2hhcnRUeXBlOiBjaGFydEpzLkNoYXJ0VHlwZTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sb3JzOiBDb2xvcltdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWdlbmQ6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcHVibGljIHBsdWdpbnM6IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zW107XHJcblxyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRDbGljazogRXZlbnRFbWl0dGVyPHsgZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRIb3ZlcjogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGN0eDogc3RyaW5nO1xyXG4gIHB1YmxpYyBjaGFydDogQ2hhcnQ7XHJcblxyXG4gIHByaXZhdGUgb2xkOiBPbGRTdGF0ZSA9IHtcclxuICAgIGRhdGFFeGlzdHM6IGZhbHNlLFxyXG4gICAgZGF0YUxlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFzZXRzTGVuZ3RoOiAwLFxyXG4gICAgZGF0YXNldHNEYXRhT2JqZWN0czogW10sXHJcbiAgICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBbXSxcclxuICAgIGNvbG9yc0V4aXN0czogZmFsc2UsXHJcbiAgICBjb2xvcnM6IFtdLFxyXG4gICAgbGFiZWxzRXhpc3Q6IGZhbHNlLFxyXG4gICAgbGFiZWxzOiBbXSxcclxuICAgIGxlZ2VuZEV4aXN0czogZmFsc2UsXHJcbiAgICBsZWdlbmQ6IHt9LFxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3ViczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdW5yZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMudW5yZWdpc3RlcihwbHVnaW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIHRoaXMuc3Vicy5wdXNoKHRoaXMudGhlbWVTZXJ2aWNlLmNvbG9yc2NoZW1lc09wdGlvbnMuc3Vic2NyaWJlKHIgPT4gdGhpcy50aGVtZUNoYW5nZWQocikpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdGhlbWVDaGFuZ2VkKG9wdGlvbnM6IHt9KSB7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5jaGFydCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghIXRoaXMuZGF0YSAhPT0gdGhpcy5vbGQuZGF0YUV4aXN0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcblxyXG4gICAgICB0aGlzLm9sZC5kYXRhRXhpc3RzID0gISF0aGlzLmRhdGE7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YUxlbmd0aCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGFzZXRzICE9PSB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cyA9ICEhdGhpcy5kYXRhc2V0cztcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCA9IHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5sZW5ndGggfHwgMDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEgIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YU9iamVjdHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5maWx0ZXIoKHgsIGkpID0+IHguZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YUxlbmd0aHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMuY29sb3JzICE9PSB0aGlzLm9sZC5jb2xvcnNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzRXhpc3RzID0gISF0aGlzLmNvbG9ycztcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIHNtZWxscyBvZiBpbmVmZmljaWVuY3ksIG1pZ2h0IG5lZWQgdG8gcmV2aXNpdCB0aGlzXHJcbiAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5jb2xvcnNFcXVhbCh4LCB0aGlzLm9sZC5jb2xvcnNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzID0gdGhpcy5jb2xvcnMubWFwKHggPT4gdGhpcy5jb3B5Q29sb3IoeCkpO1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMubGFiZWxzICE9PSB0aGlzLm9sZC5sYWJlbHNFeGlzdCkge1xyXG4gICAgICB0aGlzLm9sZC5sYWJlbHNFeGlzdCA9ICEhdGhpcy5sYWJlbHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5sYWJlbHNFcXVhbCh4LCB0aGlzLm9sZC5sYWJlbHNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzID0gdGhpcy5sYWJlbHMubWFwKHggPT4gdGhpcy5jb3B5TGFiZWwoeCkpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmxlZ2VuZCAhPT0gdGhpcy5vbGQubGVnZW5kRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZEV4aXN0cyA9ICEhdGhpcy5vcHRpb25zLmxlZ2VuZDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2VuZCAmJiB0aGlzLm9wdGlvbnMubGVnZW5kLnBvc2l0aW9uICE9PSB0aGlzLm9sZC5sZWdlbmQucG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbjtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5VcGRhdGU6XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlJlZnJlc2g6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb3B5TGFiZWwoYTogTGFiZWwpOiBMYWJlbCB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xyXG4gICAgICByZXR1cm4gWy4uLmFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG5cclxuICBsYWJlbHNFcXVhbChhOiBMYWJlbCwgYjogTGFiZWwpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgICAgICYmIEFycmF5LmlzQXJyYXkoYSkgPT09IEFycmF5LmlzQXJyYXkoYilcclxuICAgICAgJiYgKEFycmF5LmlzQXJyYXkoYSkgfHwgYSA9PT0gYilcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSBiLmxlbmd0aClcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEuZmlsdGVyKCh4LCBpKSA9PiB4ICE9PSBiW2ldKS5sZW5ndGggPT09IDApXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yIHtcclxuICAgIGNvbnN0IHJjOiBDb2xvciA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBhLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgYm9yZGVyV2lkdGg6IGEuYm9yZGVyV2lkdGgsXHJcbiAgICAgIGJvcmRlckNvbG9yOiBhLmJvcmRlckNvbG9yLFxyXG4gICAgICBib3JkZXJDYXBTdHlsZTogYS5ib3JkZXJDYXBTdHlsZSxcclxuICAgICAgYm9yZGVyRGFzaDogYS5ib3JkZXJEYXNoLFxyXG4gICAgICBib3JkZXJEYXNoT2Zmc2V0OiBhLmJvcmRlckRhc2hPZmZzZXQsXHJcbiAgICAgIGJvcmRlckpvaW5TdHlsZTogYS5ib3JkZXJKb2luU3R5bGUsXHJcbiAgICAgIHBvaW50Qm9yZGVyQ29sb3I6IGEucG9pbnRCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IGEucG9pbnRCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRSYWRpdXM6IGEucG9pbnRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJSYWRpdXM6IGEucG9pbnRIb3ZlclJhZGl1cyxcclxuICAgICAgcG9pbnRIaXRSYWRpdXM6IGEucG9pbnRIaXRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlcldpZHRoOiBhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRTdHlsZTogYS5wb2ludFN0eWxlLFxyXG4gICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogYS5ob3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJDb2xvcjogYS5ob3ZlckJvcmRlckNvbG9yLFxyXG4gICAgICBob3ZlckJvcmRlcldpZHRoOiBhLmhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiByYztcclxuICB9XHJcblxyXG4gIGNvbG9yc0VxdWFsKGE6IENvbG9yLCBiOiBDb2xvcikge1xyXG4gICAgaWYgKCFhICE9PSAhYikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIWEgfHwgdHJ1ZVxyXG4gICAgICAmJiAoYS5iYWNrZ3JvdW5kQ29sb3IgPT09IGIuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJXaWR0aCA9PT0gYi5ib3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEuYm9yZGVyQ29sb3IgPT09IGIuYm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmJvcmRlckNhcFN0eWxlID09PSBiLmJvcmRlckNhcFN0eWxlKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoID09PSBiLmJvcmRlckRhc2gpXHJcbiAgICAgICYmIChhLmJvcmRlckRhc2hPZmZzZXQgPT09IGIuYm9yZGVyRGFzaE9mZnNldClcclxuICAgICAgJiYgKGEuYm9yZGVySm9pblN0eWxlID09PSBiLmJvcmRlckpvaW5TdHlsZSlcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJDb2xvciA9PT0gYi5wb2ludEJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJXaWR0aCA9PT0gYi5wb2ludEJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFJhZGl1cyA9PT0gYi5wb2ludFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlclJhZGl1cyA9PT0gYi5wb2ludEhvdmVyUmFkaXVzKVxyXG4gICAgICAmJiAoYS5wb2ludEhpdFJhZGl1cyA9PT0gYi5wb2ludEhpdFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IgPT09IGIucG9pbnRIb3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyV2lkdGggPT09IGIucG9pbnRIb3ZlckJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFN0eWxlID09PSBiLnBvaW50U3R5bGUpXHJcbiAgICAgICYmIChhLmhvdmVyQmFja2dyb3VuZENvbG9yID09PSBiLmhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlckNvbG9yID09PSBiLmhvdmVyQm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmhvdmVyQm9yZGVyV2lkdGggPT09IGIuaG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29sb3JzKCkge1xyXG4gICAgdGhpcy5kYXRhc2V0cy5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbG9ycyAmJiB0aGlzLmNvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgdGhpcy5jb2xvcnNbaW5kZXhdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgZ2V0Q29sb3JzKHRoaXMuY2hhcnRUeXBlLCBpbmRleCwgZWxtLmRhdGEubGVuZ3RoKSwgeyAuLi5lbG0gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IFVwZGF0ZVR5cGUuRGVmYXVsdDtcclxuICAgIGNvbnN0IHdhbnRVcGRhdGUgPSAoeDogVXBkYXRlVHlwZSkgPT4ge1xyXG4gICAgICB1cGRhdGVSZXF1aXJlZCA9IHggPiB1cGRhdGVSZXF1aXJlZCA/IHggOiB1cGRhdGVSZXF1aXJlZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZXMgYXJlIGluIHRoZSBkYXRhIG9yIGRhdGFzZXRzIG9yIGxhYmVscyBvciBsZWdlbmRcclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmIGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyhjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdkYXRhc2V0cycpICYmIGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoY2hhbmdlcy5kYXRhc2V0cy5jdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xhYmVscycpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscyA9IGNoYW5nZXMubGFiZWxzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5sZWdlbmQuZGlzcGxheSA9IGNoYW5nZXMubGVnZW5kLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB0aGlzLmNoYXJ0LmdlbmVyYXRlTGVnZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdvcHRpb25zJykpIHtcclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlJlZnJlc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodXBkYXRlUmVxdWlyZWQgYXMgVXBkYXRlVHlwZSkge1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuRGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdWJzLmZvckVhY2goeCA9PiB4LnVuc3Vic2NyaWJlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkdXJhdGlvbj86IGFueSwgbGF6eT86IGFueSkge1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQudXBkYXRlKGR1cmF0aW9uLCBsYXp5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpLmhpZGRlbiA9IGhpZGRlbjtcclxuICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhcnQudG9CYXNlNjRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0Q29uZmlndXJhdGlvbigpOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiB7XHJcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZ2V0RGF0YXNldHMoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgb3B0aW9ucy5sZWdlbmQgPSB7IGRpc3BsYXk6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgICAvLyBob29rIGZvciBvbkhvdmVyIGFuZCBvbkNsaWNrIGV2ZW50c1xyXG4gICAgb3B0aW9ucy5ob3ZlciA9IG9wdGlvbnMuaG92ZXIgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMuaG92ZXIub25Ib3Zlcikge1xyXG4gICAgICBvcHRpb25zLmhvdmVyLm9uSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFydEhvdmVyLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XHJcbiAgICAgIG9wdGlvbnMub25DbGljayA9IChldmVudD86IE1vdXNlRXZlbnQsIGFjdGl2ZT86IHt9W10pID0+IHtcclxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2suZW1pdCh7IGV2ZW50LCBhY3RpdmUgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHRoaXMuc21hcnRNZXJnZShvcHRpb25zLCB0aGlzLnRoZW1lU2VydmljZS5nZXRDb2xvcnNjaGVtZXNPcHRpb25zKCkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgdHlwZTogdGhpcy5jaGFydFR5cGUsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzIHx8IFtdLFxyXG4gICAgICAgIGRhdGFzZXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgb3B0aW9uczogbWVyZ2VkT3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNoYXJ0Q29uZmlnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0QnVpbGRlcihjdHg6IHN0cmluZy8qLCBkYXRhOmFueVtdLCBvcHRpb25zOmFueSovKTogQ2hhcnQge1xyXG4gICAgY29uc3QgY2hhcnRDb25maWcgPSB0aGlzLmdldENoYXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgcmV0dXJuIG5ldyBjaGFydEpzLkNoYXJ0KGN0eCwgY2hhcnRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc21hcnRNZXJnZShvcHRpb25zOiBhbnksIG92ZXJyaWRlczogYW55LCBsZXZlbDogbnVtYmVyID0gMCk6IGFueSB7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKG92ZXJyaWRlcyk7XHJcbiAgICBrZXlzVG9VcGRhdGUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvdmVycmlkZXNba2V5XSkpIHtcclxuICAgICAgICBjb25zdCBhcnJheUVsZW1lbnRzID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChhcnJheUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICBhcnJheUVsZW1lbnRzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRNZXJnZShyLCBvdmVycmlkZXNba2V5XVswXSwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG92ZXJyaWRlc1trZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcclxuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9uc1trZXldLCBvdmVycmlkZXNba2V5XSwgbGV2ZWwgKyAxKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBvdmVycmlkZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWwobGFiZWw6IExhYmVsKTogbGFiZWwgaXMgTXVsdGlMaW5lTGFiZWwge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGFiZWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBqb2luTGFiZWwobGFiZWw6IExhYmVsKTogc3RyaW5nIHtcclxuICAgIGlmICghbGFiZWwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc011bHRpTGluZUxhYmVsKGxhYmVsKSkge1xyXG4gICAgICByZXR1cm4gbGFiZWwuam9pbignICcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9wYWdhdGVEYXRhc2V0c1RvRGF0YShkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW10pIHtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YXNldHMubWFwKHIgPT4gci5kYXRhKTtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IGRhdGFzZXRzO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YVRvRGF0YXNldHMobmV3RGF0YVZhbHVlczogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzTXVsdGlEYXRhU2V0KG5ld0RhdGFWYWx1ZXMpKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIG5ld0RhdGFWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGFzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBuZXdEYXRhVmFsdWVzW2ldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBuZXdEYXRhVmFsdWVzLm1hcCgoZGF0YTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGEsIGxhYmVsOiB0aGlzLmpvaW5MYWJlbCh0aGlzLmxhYmVsc1tpbmRleF0pIHx8IGBMYWJlbCAke2luZGV4fWAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5kYXRhc2V0cykge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBbeyBkYXRhOiBuZXdEYXRhVmFsdWVzIH1dO1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEgPSBuZXdEYXRhVmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuc3BsaWNlKDEpOyAvLyBSZW1vdmUgYWxsIGVsZW1lbnRzIGJ1dCB0aGUgZmlyc3RcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNdWx0aURhdGFTZXQoZGF0YTogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiBkYXRhIGlzIE11bHRpRGF0YVNldCB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhWzBdKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGF0YXNldHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuZGF0YXNldHMgJiYgIXRoaXMuZGF0YSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5nLWNoYXJ0cyBjb25maWd1cmF0aW9uIGVycm9yLCBkYXRhIG9yIGRhdGFzZXRzIGZpZWxkIGFyZSByZXF1aXJlZCB0byByZW5kZXIgY2hhcnQgJHt0aGlzLmNoYXJ0VHlwZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBgZGF0YXNldHNgIGlzIGRlZmluZWQsIHVzZSBpdCBvdmVyIHRoZSBgZGF0YWAgcHJvcGVydHkuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKHRoaXMuZGF0YXNldHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhc2V0cztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHModGhpcy5kYXRhKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZnJlc2goKSB7XHJcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlKSB7XHJcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoKCksIDUwKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0b2RvOiByZW1vdmUgdGhpcyBsaW5lLCBpdCBpcyBwcm9kdWNpbmcgZmxpY2tlcmluZ1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jdHgpIHtcclxuICAgICAgdGhpcy5jaGFydCA9IHRoaXMuZ2V0Q2hhcnRCdWlsZGVyKHRoaXMuY3R4LyosIGRhdGEsIHRoaXMub3B0aW9ucyovKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/charts.module.js b/node_modules/ng2-charts/esm2015/lib/charts.module.js
index 89209c7..14a2a88 100644
--- a/node_modules/ng2-charts/esm2015/lib/charts.module.js
+++ b/node_modules/ng2-charts/esm2015/lib/charts.module.js
@@ -4,10 +4,15 @@
  */
 import { NgModule } from '@angular/core';
 import { BaseChartDirective } from './base-chart.directive';
+import * as ɵngcc0 from '@angular/core';
 export class ChartsModule {
 }
-ChartsModule.decorators = [
-    { type: NgModule, args: [{
+ChartsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ChartsModule });
+ChartsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ChartsModule_Factory(t) { return new (t || ChartsModule)(); }, imports: [[]] });
+(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartsModule, { declarations: function () { return [BaseChartDirective]; }, exports: function () { return [BaseChartDirective]; } }); })();
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChartsModule, [{
+        type: NgModule,
+        args: [{
                 declarations: [
                     BaseChartDirective
                 ],
@@ -15,6 +20,6 @@ ChartsModule.decorators = [
                 exports: [
                     BaseChartDirective
                 ]
-            },] }
-];
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvY2hhcnRzLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVk1RCxNQUFNLE9BQU8sWUFBWTs7O1lBVnhCLFFBQVEsU0FBQztnQkFDUixZQUFZLEVBQUU7b0JBQ1osa0JBQWtCO2lCQUNuQjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxPQUFPLEVBQUU7b0JBQ1Asa0JBQWtCO2lCQUNuQjthQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmFzZUNoYXJ0RGlyZWN0aXZlIH0gZnJvbSAnLi9iYXNlLWNoYXJ0LmRpcmVjdGl2ZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgQmFzZUNoYXJ0RGlyZWN0aXZlXHJcbiAgXSxcclxuICBpbXBvcnRzOiBbXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBCYXNlQ2hhcnREaXJlY3RpdmVcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDaGFydHNNb2R1bGUgeyB9XHJcbiJdfQ==
\ No newline at end of file
+            }]
+    }], null, null); })();
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbGliL2NoYXJ0cy5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7O0FBWTVELE1BQU0sT0FBTyxZQUFZOzs7Q0FBSSx5Q0FWNUIsUUFBUSxTQUFDLGtCQUNSLFlBQVksRUFBRSxzQkFDWixrQkFBa0I7SUFDbkIsa0JBQ0QsT0FBTyxFQUFFLEVBQ1Isa0JBQ0QsT0FBTyxFQUFFLHNCQUNQLGtCQUFrQixrQkFDbkIsY0FDRjs7Ozs7Ozs7Ozs7OzBCQUNJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmFzZUNoYXJ0RGlyZWN0aXZlIH0gZnJvbSAnLi9iYXNlLWNoYXJ0LmRpcmVjdGl2ZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgQmFzZUNoYXJ0RGlyZWN0aXZlXHJcbiAgXSxcclxuICBpbXBvcnRzOiBbXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBCYXNlQ2hhcnREaXJlY3RpdmVcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDaGFydHNNb2R1bGUgeyB9XHJcbiJdfQ==
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/charts.module.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm2015/lib/charts.module.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..89209c7
--- /dev/null
+++ b/node_modules/ng2-charts/esm2015/lib/charts.module.js.__ivy_ngcc_bak
@@ -0,0 +1,20 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import { NgModule } from '@angular/core';
+import { BaseChartDirective } from './base-chart.directive';
+export class ChartsModule {
+}
+ChartsModule.decorators = [
+    { type: NgModule, args: [{
+                declarations: [
+                    BaseChartDirective
+                ],
+                imports: [],
+                exports: [
+                    BaseChartDirective
+                ]
+            },] }
+];
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvY2hhcnRzLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVk1RCxNQUFNLE9BQU8sWUFBWTs7O1lBVnhCLFFBQVEsU0FBQztnQkFDUixZQUFZLEVBQUU7b0JBQ1osa0JBQWtCO2lCQUNuQjtnQkFDRCxPQUFPLEVBQUUsRUFDUjtnQkFDRCxPQUFPLEVBQUU7b0JBQ1Asa0JBQWtCO2lCQUNuQjthQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmFzZUNoYXJ0RGlyZWN0aXZlIH0gZnJvbSAnLi9iYXNlLWNoYXJ0LmRpcmVjdGl2ZSc7XHJcblxyXG5ATmdNb2R1bGUoe1xyXG4gIGRlY2xhcmF0aW9uczogW1xyXG4gICAgQmFzZUNoYXJ0RGlyZWN0aXZlXHJcbiAgXSxcclxuICBpbXBvcnRzOiBbXHJcbiAgXSxcclxuICBleHBvcnRzOiBbXHJcbiAgICBCYXNlQ2hhcnREaXJlY3RpdmVcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBDaGFydHNNb2R1bGUgeyB9XHJcbiJdfQ==
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/theme.service.js b/node_modules/ng2-charts/esm2015/lib/theme.service.js
index c03a3df..1d962e4 100644
--- a/node_modules/ng2-charts/esm2015/lib/theme.service.js
+++ b/node_modules/ng2-charts/esm2015/lib/theme.service.js
@@ -5,6 +5,7 @@
 import { Injectable } from '@angular/core';
 import { BehaviorSubject } from 'rxjs';
 import * as i0 from "@angular/core";
+import * as ɵngcc0 from '@angular/core';
 export class ThemeService {
     constructor() {
         this.pColorschemesOptions = {};
@@ -25,14 +26,17 @@ export class ThemeService {
         return this.pColorschemesOptions;
     }
 }
-ThemeService.decorators = [
-    { type: Injectable, args: [{
-                providedIn: 'root'
-            },] }
-];
+ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
+ThemeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ThemeService, factory: ThemeService.ɵfac, providedIn: 'root' });
 /** @nocollapse */
 ThemeService.ctorParameters = () => [];
 /** @nocollapse */ ThemeService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
+        type: Injectable,
+        args: [{
+                providedIn: 'root'
+            }]
+    }], function () { return []; }, null); })();
 if (false) {
     /**
      * @type {?}
@@ -42,4 +46,4 @@ if (false) {
     /** @type {?} */
     ThemeService.prototype.colorschemesOptions;
 }
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQU12QyxNQUFNLE9BQU8sWUFBWTtJQUl2QjtRQUhRLHlCQUFvQixHQUFpQixFQUFFLENBQUM7UUFDekMsd0JBQW1CLEdBQUcsSUFBSSxlQUFlLENBQWUsRUFBRSxDQUFDLENBQUM7SUFFbkQsQ0FBQzs7Ozs7SUFFakIsc0JBQXNCLENBQUMsT0FBcUI7UUFDMUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQztRQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Ozs7SUFFRCxzQkFBc0I7UUFDcEIsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbkMsQ0FBQzs7O1lBaEJGLFVBQVUsU0FBQztnQkFDVixVQUFVLEVBQUUsTUFBTTthQUNuQjs7Ozs7Ozs7OztJQUVDLDRDQUFnRDs7SUFDaEQsMkNBQW1FIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgQ2hhcnRPcHRpb25zIH0gZnJvbSAnY2hhcnQuanMnO1xyXG5cclxuQEluamVjdGFibGUoe1xyXG4gIHByb3ZpZGVkSW46ICdyb290J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgVGhlbWVTZXJ2aWNlIHtcclxuICBwcml2YXRlIHBDb2xvcnNjaGVtZXNPcHRpb25zOiBDaGFydE9wdGlvbnMgPSB7fTtcclxuICBwdWJsaWMgY29sb3JzY2hlbWVzT3B0aW9ucyA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2hhcnRPcHRpb25zPih7fSk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIHNldENvbG9yc2NoZW1lc09wdGlvbnMob3B0aW9uczogQ2hhcnRPcHRpb25zKSB7XHJcbiAgICB0aGlzLnBDb2xvcnNjaGVtZXNPcHRpb25zID0gb3B0aW9ucztcclxuICAgIHRoaXMuY29sb3JzY2hlbWVzT3B0aW9ucy5uZXh0KG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3JzY2hlbWVzT3B0aW9ucygpIHtcclxuICAgIHJldHVybiB0aGlzLnBDb2xvcnNjaGVtZXNPcHRpb25zO1xyXG4gIH1cclxufVxyXG4iXX0=
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbGliL3RoZW1lLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7O0FBTXZDLE1BQU0sT0FBTyxZQUFZO0lBSXZCO1FBSFEseUJBQW9CLEdBQWlCLEVBQUUsQ0FBQztRQUN6Qyx3QkFBbUIsR0FBRyxJQUFJLGVBQWUsQ0FBZSxFQUFFLENBQUMsQ0FBQztJQUVuRCxDQUFDOzs7OztJQUVqQixzQkFBc0IsQ0FBQyxPQUFxQjtRQUMxQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekMsQ0FBQzs7OztJQUVELHNCQUFzQjtRQUNwQixPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztJQUNuQyxDQUFDOzs7Q0FDRix5Q0FqQkEsVUFBVSxTQUFDLGtCQUNWLFVBQVUsRUFBRSxNQUFNLGNBQ25CLFNBQ0k7Ozs7Ozs7OztnREFPNkI7Ozs7OztJQU5oQyw0Q0FBZ0Q7O0lBQ2hELDJDQUFtRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwQ29sb3JzY2hlbWVzT3B0aW9uczogQ2hhcnRPcHRpb25zID0ge307XHJcbiAgcHVibGljIGNvbG9yc2NoZW1lc09wdGlvbnMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENoYXJ0T3B0aW9ucz4oe30pO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBzZXRDb2xvcnNjaGVtZXNPcHRpb25zKG9wdGlvbnM6IENoYXJ0T3B0aW9ucykge1xyXG4gICAgdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLmNvbG9yc2NoZW1lc09wdGlvbnMubmV4dChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGdldENvbG9yc2NoZW1lc09wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucztcclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/lib/theme.service.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm2015/lib/theme.service.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..c03a3df
--- /dev/null
+++ b/node_modules/ng2-charts/esm2015/lib/theme.service.js.__ivy_ngcc_bak
@@ -0,0 +1,45 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import { Injectable } from '@angular/core';
+import { BehaviorSubject } from 'rxjs';
+import * as i0 from "@angular/core";
+export class ThemeService {
+    constructor() {
+        this.pColorschemesOptions = {};
+        this.colorschemesOptions = new BehaviorSubject({});
+    }
+    /**
+     * @param {?} options
+     * @return {?}
+     */
+    setColorschemesOptions(options) {
+        this.pColorschemesOptions = options;
+        this.colorschemesOptions.next(options);
+    }
+    /**
+     * @return {?}
+     */
+    getColorschemesOptions() {
+        return this.pColorschemesOptions;
+    }
+}
+ThemeService.decorators = [
+    { type: Injectable, args: [{
+                providedIn: 'root'
+            },] }
+];
+/** @nocollapse */
+ThemeService.ctorParameters = () => [];
+/** @nocollapse */ ThemeService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+if (false) {
+    /**
+     * @type {?}
+     * @private
+     */
+    ThemeService.prototype.pColorschemesOptions;
+    /** @type {?} */
+    ThemeService.prototype.colorschemesOptions;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQU12QyxNQUFNLE9BQU8sWUFBWTtJQUl2QjtRQUhRLHlCQUFvQixHQUFpQixFQUFFLENBQUM7UUFDekMsd0JBQW1CLEdBQUcsSUFBSSxlQUFlLENBQWUsRUFBRSxDQUFDLENBQUM7SUFFbkQsQ0FBQzs7Ozs7SUFFakIsc0JBQXNCLENBQUMsT0FBcUI7UUFDMUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQztRQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Ozs7SUFFRCxzQkFBc0I7UUFDcEIsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbkMsQ0FBQzs7O1lBaEJGLFVBQVUsU0FBQztnQkFDVixVQUFVLEVBQUUsTUFBTTthQUNuQjs7Ozs7Ozs7OztJQUVDLDRDQUFnRDs7SUFDaEQsMkNBQW1FIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgQ2hhcnRPcHRpb25zIH0gZnJvbSAnY2hhcnQuanMnO1xyXG5cclxuQEluamVjdGFibGUoe1xyXG4gIHByb3ZpZGVkSW46ICdyb290J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgVGhlbWVTZXJ2aWNlIHtcclxuICBwcml2YXRlIHBDb2xvcnNjaGVtZXNPcHRpb25zOiBDaGFydE9wdGlvbnMgPSB7fTtcclxuICBwdWJsaWMgY29sb3JzY2hlbWVzT3B0aW9ucyA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2hhcnRPcHRpb25zPih7fSk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIHNldENvbG9yc2NoZW1lc09wdGlvbnMob3B0aW9uczogQ2hhcnRPcHRpb25zKSB7XHJcbiAgICB0aGlzLnBDb2xvcnNjaGVtZXNPcHRpb25zID0gb3B0aW9ucztcclxuICAgIHRoaXMuY29sb3JzY2hlbWVzT3B0aW9ucy5uZXh0KG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29sb3JzY2hlbWVzT3B0aW9ucygpIHtcclxuICAgIHJldHVybiB0aGlzLnBDb2xvcnNjaGVtZXNPcHRpb25zO1xyXG4gIH1cclxufVxyXG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/ng2-charts.js b/node_modules/ng2-charts/esm2015/ng2-charts.js
index 0bc80f2..a730f5e 100644
--- a/node_modules/ng2-charts/esm2015/ng2-charts.js
+++ b/node_modules/ng2-charts/esm2015/ng2-charts.js
@@ -6,4 +6,4 @@
  * Generated bundle index. Do not edit.
  */
 export { ChartsModule, BaseChartDirective, defaultColors, ThemeService, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from './public_api';
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJuZzItY2hhcnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQSxtSUFBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljX2FwaSc7XG4iXX0=
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbmcyLWNoYXJ0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUEsbUlBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY19hcGknO1xuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm2015/ng2-charts.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm2015/ng2-charts.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..0bc80f2
--- /dev/null
+++ b/node_modules/ng2-charts/esm2015/ng2-charts.js.__ivy_ngcc_bak
@@ -0,0 +1,9 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/**
+ * Generated bundle index. Do not edit.
+ */
+export { ChartsModule, BaseChartDirective, defaultColors, ThemeService, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from './public_api';
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJuZzItY2hhcnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQSxtSUFBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljX2FwaSc7XG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/base-chart.directive.js b/node_modules/ng2-charts/esm5/lib/base-chart.directive.js
index 48dc2cc..74531e1 100644
--- a/node_modules/ng2-charts/esm5/lib/base-chart.directive.js
+++ b/node_modules/ng2-charts/esm5/lib/base-chart.directive.js
@@ -11,6 +11,7 @@ import { cloneDeep } from 'lodash';
 /**
  * @record
  */
+import * as ɵngcc0 from '@angular/core';
 function OldState() { }
 if (false) {
     /** @type {?} */
@@ -775,13 +776,6 @@ var BaseChartDirective = /** @class */ (function () {
             this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
         }
     };
-    BaseChartDirective.decorators = [
-        { type: Directive, args: [{
-                    // tslint:disable-next-line:directive-selector
-                    selector: 'canvas[baseChart]',
-                    exportAs: 'base-chart'
-                },] }
-    ];
     /** @nocollapse */
     BaseChartDirective.ctorParameters = function () { return [
         { type: ElementRef },
@@ -799,6 +793,36 @@ var BaseChartDirective = /** @class */ (function () {
         chartClick: [{ type: Output }],
         chartHover: [{ type: Output }]
     };
+BaseChartDirective.ɵfac = function BaseChartDirective_Factory(t) { return new (t || BaseChartDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ThemeService)); };
+BaseChartDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseChartDirective, selectors: [["canvas", "baseChart", ""]], inputs: { options: "options", data: "data", datasets: "datasets", labels: "labels", chartType: "chartType", colors: "colors", legend: "legend", plugins: "plugins" }, outputs: { chartClick: "chartClick", chartHover: "chartHover" }, exportAs: ["base-chart"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BaseChartDirective, [{
+        type: Directive,
+        args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            }]
+    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ThemeService }]; }, { options: [{
+            type: Input
+        }], chartClick: [{
+            type: Output
+        }], chartHover: [{
+            type: Output
+        }], data: [{
+            type: Input
+        }], datasets: [{
+            type: Input
+        }], labels: [{
+            type: Input
+        }], chartType: [{
+            type: Input
+        }], colors: [{
+            type: Input
+        }], legend: [{
+            type: Input
+        }], plugins: [{
+            type: Input
+        }] }); })();
     return BaseChartDirective;
 }());
 export { BaseChartDirective };
@@ -848,4 +872,4 @@ if (false) {
      */
     BaseChartDirective.prototype.themeService;
 }
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItY2hhcnRzLyIsInNvdXJjZXMiOlsibGliL2Jhc2UtY2hhcnQuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFJVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixVQUFVLEdBR1gsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLE9BQU8sTUFBTSxVQUFVLENBQUM7QUFDcEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFFBQVEsQ0FBQzs7OztBQVduQyx1QkFlQzs7O0lBZEMsOEJBQW9COztJQUNwQiw4QkFBbUI7O0lBQ25CLGtDQUF3Qjs7SUFDeEIsa0NBQXVCOztJQUN2Qix1Q0FBMkI7O0lBQzNCLHVDQUE4Qjs7SUFDOUIsZ0NBQXNCOztJQUN0QiwwQkFBZ0I7O0lBQ2hCLCtCQUFxQjs7SUFDckIsMEJBQWdCOztJQUNoQixnQ0FBc0I7O0lBQ3RCLDBCQUVFOzs7O0lBSUYsVUFBTztJQUNQLFNBQU07SUFDTixVQUFPOzs7OztBQUdUO0lBaURFLDRCQUNVLE9BQW1CLEVBQ25CLFlBQTBCO1FBRDFCLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFDbkIsaUJBQVksR0FBWixZQUFZLENBQWM7UUExQ3BCLFlBQU8sR0FBeUIsRUFBRSxDQUFDO1FBTWxDLGVBQVUsR0FBd0QsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNyRixlQUFVLEdBQXNELElBQUksWUFBWSxFQUFFLENBQUM7UUFLNUYsUUFBRyxHQUFhO1lBQ3RCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFVBQVUsRUFBRSxDQUFDO1lBQ2IsY0FBYyxFQUFFLEtBQUs7WUFDckIsY0FBYyxFQUFFLENBQUM7WUFD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QUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFdEMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCwwREFBMEQ7UUFDMUQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7UUFBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQXhDLENBQXdDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDaEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHOzs7O1lBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFqQixDQUFpQixFQUFDLENBQUM7WUFFMUQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFO1lBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXJDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNOzs7OztRQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBeEMsQ0FBd0MsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUNoRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Ozs7WUFBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQWpCLENBQWlCLEVBQUMsQ0FBQztZQUUxRCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBRTlDLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDaEM7UUFFRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7WUFDcEYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUV4RCxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2hDO1FBRUQsUUFBUSxtQkFBQSxjQUFjLEVBQWMsRUFBRTtZQUNwQyxLQUFLLFVBQVUsQ0FBQyxPQUFPO2dCQUNyQixNQUFNO1lBQ1IsS0FBSyxVQUFVLENBQUMsTUFBTTtnQkFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLE1BQU07WUFDUixLQUFLLFVBQVUsQ0FBQyxPQUFPO2dCQUNyQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ2YsTUFBTTtTQUNUO0lBQ0gsQ0FBQzs7Ozs7SUFFRCxzQ0FBUzs7OztJQUFULFVBQVUsQ0FBUTtRQUNoQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDcEIsd0JBQVcsQ0FBQyxFQUFFO1NBQ2Y7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7Ozs7OztJQUVELHdDQUFXOzs7OztJQUFYLFVBQVksQ0FBUSxFQUFFLENBQVE7UUFDNUIsT0FBTyxJQUFJO2VBQ04sS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztlQUNyQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztlQUM3QixDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUM7ZUFDNUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU07Ozs7O1lBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBVixDQUFVLEVBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQ3BFO0lBQ0wsQ0FBQzs7Ozs7SUFFRCxzQ0FBUzs7OztJQUFULFVBQVUsQ0FBUTs7WUFDVixFQUFFLEdBQVU7WUFDaEIsZUFBZSxFQUFFLENBQUMsQ0FBQyxlQUFlO1lBQ2xDLFdBQVcsRUFBRSxDQUFDLENBQUMsV0FBVztZQUMxQixXQUFXLEVBQUUsQ0FBQyxDQUFDLFdBQVc7WUFDMUIsY0FBYyxFQUFFLENBQUMsQ0FBQyxjQUFjO1lBQ2hDLFVBQVUsRUFBRSxDQUFDLENBQUMsVUFBVTtZQUN4QixnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1lBQ3BDLGVBQWUsRUFBRSxDQUFDLENBQUMsZUFBZTtZQUNsQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1lBQ3BDLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxvQkFBb0I7WUFDNUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLFdBQVc7WUFDMUIsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLGNBQWM7WUFDaEMseUJBQXlCLEVBQUUsQ0FBQyxDQUFDLHlCQUF5QjtZQUN0RCxxQkFBcUIsRUFBRSxDQUFDLENBQUMscUJBQXFCO1lBQzlDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxxQkFBcUI7WUFDOUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxVQUFVO1lBQ3hCLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxvQkFBb0I7WUFDNUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1NBQ3JDO1FBRUQsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDOzs7Ozs7SUFFRCx3Q0FBVzs7Ozs7SUFBWCxVQUFZLENBQVEsRUFBRSxDQUFRO1FBQzVCLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDYixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxDQUFDLENBQUMsSUFBSSxJQUFJO2VBQ1osQ0FBQyxDQUFDLENBQUMsZUFBZSxLQUFLLENBQUMsQ0FBQyxlQUFlLENBQUM7ZUFDekMsQ0FBQyxDQUFDLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUM7ZUFDakMsQ0FBQyxDQUFDLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUM7ZUFDakMsQ0FBQyxDQUFDLENBQUMsY0FBYyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUM7ZUFDdkMsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUM7ZUFDL0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLGVBQWUsS0FBSyxDQUFDLENBQUMsZUFBZSxDQUFDO2VBQ3pDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztlQUMzQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsS0FBSyxDQUFDLENBQUMsb0JBQW9CLENBQUM7ZUFDbkQsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLFdBQVcsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDO2VBQ2pDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztlQUMzQyxDQUFDLENBQUMsQ0FBQyxjQUFjLEtBQUssQ0FBQyxDQUFDLGNBQWMsQ0FBQztlQUN2QyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsS0FBSyxDQUFDLENBQUMseUJBQXlCLENBQUM7ZUFDN0QsQ0FBQyxDQUFDLENBQUMscUJBQXFCLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDO2VBQ3JELENBQUMsQ0FBQyxDQUFDLHFCQUFxQixLQUFLLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQztlQUNyRCxDQUFDLENBQUMsQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FBQztlQUMvQixDQUFDLENBQUMsQ0FBQyxvQkFBb0IsS0FBSyxDQUFDLENBQUMsb0JBQW9CLENBQUM7ZUFDbkQsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUM3QztJQUNMLENBQUM7Ozs7SUFFRCx5Q0FBWTs7O0lBQVo7UUFBQSxpQkFRQztRQVBDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTzs7Ozs7UUFBQyxVQUFDLEdBQUcsRUFBRSxLQUFLO1lBQy9CLElBQUksS0FBSSxDQUFDLE1BQU0sSUFBSSxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNyQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDeEM7aUJBQU07Z0JBQ0wsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEtBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLHVCQUFPLEdBQUcsRUFBRyxDQUFDO2FBQ25GO1FBQ0gsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7OztJQUVNLHdDQUFXOzs7O0lBQWxCLFVBQW1CLE9BQXNCOztZQUNuQyxjQUFjLEdBQUcsVUFBVSxDQUFDLE9BQU87O1lBQ2pDLFVBQVU7Ozs7UUFBRyxVQUFDLENBQWE7WUFDL0IsY0FBYyxHQUFHLENBQUMsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO1FBQzNELENBQUMsQ0FBQTtRQUVELHVFQUF1RTtRQUV2RSxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDL0QsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFeEQsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRTtZQUN2RSxJQUFJLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUU1RCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7YUFDdEQ7WUFFRCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztnQkFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUM3QjtZQUVELFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNoQztRQUVELFFBQVEsbUJBQUEsY0FBYyxFQUFjLEVBQUU7WUFDcEMsS0FBSyxVQUFVLENBQUMsTUFBTTtnQkFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLE1BQU07WUFDUixLQUFLLFVBQVUsQ0FBQyxPQUFPLENBQUM7WUFDeEIsS0FBSyxVQUFVLENBQUMsT0FBTztnQkFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNmLE1BQU07U0FDVDtJQUNILENBQUM7Ozs7SUFFTSx3Q0FBVzs7O0lBQWxCO1FBQ0UsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPOzs7O1FBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxFQUFDLENBQUM7SUFDMUMsQ0FBQzs7Ozs7O0lBRU0sbUNBQU07Ozs7O0lBQWIsVUFBYyxRQUFjLEVBQUUsSUFBVTtRQUN0QyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMxQztJQUNILENBQUM7Ozs7OztJQUVNLHdDQUFXOzs7OztJQUFsQixVQUFtQixLQUFhLEVBQUUsTUFBZTtRQUMvQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7Ozs7SUFFTSw0Q0FBZTs7OztJQUF0QixVQUF1QixLQUFhO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2pELENBQUM7Ozs7SUFFTSwwQ0FBYTs7O0lBQXBCO1FBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3BDLENBQUM7Ozs7SUFFTSxrREFBcUI7OztJQUE1QjtRQUFBLGlCQXFDQzs7WUFwQ08sUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7O1lBRTdCLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQy9DLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLEVBQUU7WUFDekIsT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQztTQUNyQztRQUNELHNDQUFzQztRQUN0QyxPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRTtZQUMxQixPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU87Ozs7O1lBQUcsVUFBQyxLQUFpQixFQUFFLE1BQVk7Z0JBQ3RELElBQUksTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtvQkFDNUIsT0FBTztpQkFDUjtnQkFDRCxLQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssT0FBQSxFQUFFLE1BQU0sUUFBQSxFQUFFLENBQUMsQ0FBQztZQUMxQyxDQUFDLENBQUEsQ0FBQztTQUNIO1FBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDcEIsT0FBTyxDQUFDLE9BQU87Ozs7O1lBQUcsVUFBQyxLQUFrQixFQUFFLE1BQWE7Z0JBQ2xELEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxPQUFBLEVBQUUsTUFBTSxRQUFBLEVBQUUsQ0FBQyxDQUFDO1lBQzFDLENBQUMsQ0FBQSxDQUFDO1NBQ0g7O1lBRUssYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUUsQ0FBQzs7WUFFcEYsV0FBVyxHQUErQjtZQUM5QyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFDcEIsSUFBSSxFQUFFO2dCQUNKLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUU7Z0JBQ3pCLFFBQVEsVUFBQTthQUNUO1lBQ0QsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLE9BQU8sRUFBRSxhQUFhO1NBQ3ZCO1FBRUQsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQzs7Ozs7SUFFTSw0Q0FBZTs7OztJQUF0QixVQUF1QixHQUFXLENBQUEsNkJBQTZCOztZQUN2RCxXQUFXLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFO1FBQ2hELE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM3QyxDQUFDOzs7Ozs7O0lBRUQsdUNBQVU7Ozs7OztJQUFWLFVBQVcsT0FBWSxFQUFFLFNBQWMsRUFBRSxLQUFpQjtRQUExRCxpQkF5QkM7UUF6QndDLHNCQUFBLEVBQUEsU0FBaUI7UUFDeEQsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO1lBQ2YsT0FBTyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5Qjs7WUFDSyxZQUFZLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDM0MsWUFBWSxDQUFDLE9BQU87Ozs7UUFBQyxVQUFBLEdBQUc7WUFDdEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFOztvQkFDM0IsYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7Z0JBQ2xDLElBQUksYUFBYSxFQUFFO29CQUNqQixhQUFhLENBQUMsT0FBTzs7OztvQkFBQyxVQUFBLENBQUM7d0JBQ3JCLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELENBQUMsRUFBQyxDQUFDO2lCQUNKO2FBQ0Y7aUJBQU0sSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUMvQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLEVBQUU7b0JBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7aUJBQ25CO2dCQUNELEtBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDMUQ7aUJBQU07Z0JBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUMvQjtRQUNILENBQUMsRUFBQyxDQUFDO1FBQ0gsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO1lBQ2YsT0FBTyxPQUFPLENBQUM7U0FDaEI7SUFDSCxDQUFDOzs7Ozs7SUFFTyw2Q0FBZ0I7Ozs7O0lBQXhCLFVBQXlCLEtBQVk7UUFDbkMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7Ozs7OztJQUVPLHNDQUFTOzs7OztJQUFqQixVQUFrQixLQUFZO1FBQzVCLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDVixPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDaEMsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQzs7Ozs7O0lBRU8sb0RBQXVCOzs7OztJQUEvQixVQUFnQyxRQUFpQztRQUMvRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRzs7OztRQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLElBQUksRUFBTixDQUFNLEVBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQ3JDO1FBQ0QsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RCLENBQUM7Ozs7OztJQUVPLG9EQUF1Qjs7Ozs7SUFBL0IsVUFBZ0MsYUFBbUM7UUFBbkUsaUJBMEJDO1FBekJDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUN0QyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksYUFBYSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtnQkFDbEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPOzs7OztnQkFBQyxVQUFDLE9BQU8sRUFBRSxDQUFTO29CQUN2QyxPQUFPLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbEMsQ0FBQyxFQUFDLENBQUM7YUFDSjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQyxHQUFHOzs7OztnQkFBQyxVQUFDLElBQWMsRUFBRSxLQUFhO29CQUM5RCxPQUFPLEVBQUUsSUFBSSxNQUFBLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLFdBQVMsS0FBTyxFQUFFLENBQUM7Z0JBQ2pGLENBQUMsRUFBQyxDQUFDO2dCQUNILElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztpQkFDMUM7YUFDRjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7Z0JBQzFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztpQkFDMUM7YUFDRjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsb0NBQW9DO2FBQzlEO1NBQ0Y7UUFDRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7Ozs7O0lBRU8sMkNBQWM7Ozs7O0lBQXRCLFVBQXVCLElBQTBCO1FBQy9DLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxDQUFDOzs7OztJQUVPLHdDQUFXOzs7O0lBQW5CO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQUMsd0ZBQXNGLElBQUksQ0FBQyxTQUFXLENBQUMsQ0FBQztTQUN6SDtRQUVELDZEQUE2RDtRQUM3RCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7U0FDdEI7UUFFRCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDYixJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUN0QjtJQUNILENBQUM7Ozs7O0lBRU8sb0NBQU87Ozs7SUFBZjtRQUNFLGlEQUFpRDtRQUNqRCwwQ0FBMEM7UUFDMUMsSUFBSTtRQUVKLHFEQUFxRDtRQUNyRCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUM7U0FDckI7UUFDRCxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQSx3QkFBd0IsQ0FBQyxDQUFDO1NBQ3JFO0lBQ0gsQ0FBQzs7Z0JBaGVGLFNBQVMsU0FBQzs7b0JBRVQsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsUUFBUSxFQUFFLFlBQVk7aUJBQ3ZCOzs7O2dCQS9DQyxVQUFVO2dCQU9ILFlBQVk7Ozt1QkEwQ2xCLEtBQUs7MkJBQ0wsS0FBSzt5QkFDTCxLQUFLOzBCQUNMLEtBQUs7NEJBQ0wsS0FBSzt5QkFDTCxLQUFLO3lCQUNMLEtBQUs7MEJBQ0wsS0FBSzs2QkFFTCxNQUFNOzZCQUNOLE1BQU07O0lBaWRULHlCQUFDO0NBQUEsQUFqZUQsSUFpZUM7U0E1ZFksa0JBQWtCOzs7SUFDN0Isa0NBQTJDOztJQUMzQyxzQ0FBa0Q7O0lBQ2xELG9DQUFnQzs7SUFDaEMscUNBQW1EOztJQUNuRCx1Q0FBNkM7O0lBQzdDLG9DQUFnQzs7SUFDaEMsb0NBQWdDOztJQUNoQyxxQ0FBcUU7O0lBRXJFLHdDQUFzRzs7SUFDdEcsd0NBQW9HOztJQUVwRyxpQ0FBbUI7O0lBQ25CLG1DQUFvQjs7Ozs7SUFFcEIsaUNBYUU7Ozs7O0lBRUYsa0NBQWtDOzs7OztJQWNoQyxxQ0FBMkI7Ozs7O0lBQzNCLDBDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIERvQ2hlY2ssXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIGNoYXJ0SnMgZnJvbSAnY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRDb2xvcnMgfSBmcm9tICcuL2dldC1jb2xvcnMnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBUaGVtZVNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCB0eXBlIFNpbmdsZURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSk7XHJcbmV4cG9ydCB0eXBlIE11bHRpRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKVtdO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcblxyXG5leHBvcnQgdHlwZSBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyA9IGNoYXJ0SnMuUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbiAmIGNoYXJ0SnMuUGx1Z2luU2VydmljZVJlZ2lzdHJhdGlvbk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IHR5cGUgTXVsdGlMaW5lTGFiZWwgPSBzdHJpbmdbXTtcclxuZXhwb3J0IHR5cGUgTGFiZWwgPSBTaW5nbGVMaW5lTGFiZWwgfCBNdWx0aUxpbmVMYWJlbDtcclxuXHJcbmludGVyZmFjZSBPbGRTdGF0ZSB7XHJcbiAgZGF0YUV4aXN0czogYm9vbGVhbjtcclxuICBkYXRhTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YXNldHNMZW5ndGg6IG51bWJlcjtcclxuICBkYXRhc2V0c0RhdGFPYmplY3RzOiBhbnlbXTtcclxuICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBudW1iZXJbXTtcclxuICBjb2xvcnNFeGlzdHM6IGJvb2xlYW47XHJcbiAgY29sb3JzOiBDb2xvcltdO1xyXG4gIGxhYmVsc0V4aXN0OiBib29sZWFuO1xyXG4gIGxhYmVsczogTGFiZWxbXTtcclxuICBsZWdlbmRFeGlzdHM6IGJvb2xlYW47XHJcbiAgbGVnZW5kOiB7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5lbnVtIFVwZGF0ZVR5cGUge1xyXG4gIERlZmF1bHQsXHJcbiAgVXBkYXRlLFxyXG4gIFJlZnJlc2hcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAnY2FudmFzW2Jhc2VDaGFydF0nLFxyXG4gIGV4cG9ydEFzOiAnYmFzZS1jaGFydCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgQElucHV0KCkgcHVibGljIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW107XHJcbiAgQElucHV0KCkgcHVibGljIGxhYmVsczogTGFiZWxbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnMgPSB7fTtcclxuICBASW5wdXQoKSBwdWJsaWMgY2hhcnRUeXBlOiBjaGFydEpzLkNoYXJ0VHlwZTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sb3JzOiBDb2xvcltdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWdlbmQ6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcHVibGljIHBsdWdpbnM6IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zW107XHJcblxyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRDbGljazogRXZlbnRFbWl0dGVyPHsgZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRIb3ZlcjogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGN0eDogc3RyaW5nO1xyXG4gIHB1YmxpYyBjaGFydDogQ2hhcnQ7XHJcblxyXG4gIHByaXZhdGUgb2xkOiBPbGRTdGF0ZSA9IHtcclxuICAgIGRhdGFFeGlzdHM6IGZhbHNlLFxyXG4gICAgZGF0YUxlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFzZXRzTGVuZ3RoOiAwLFxyXG4gICAgZGF0YXNldHNEYXRhT2JqZWN0czogW10sXHJcbiAgICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBbXSxcclxuICAgIGNvbG9yc0V4aXN0czogZmFsc2UsXHJcbiAgICBjb2xvcnM6IFtdLFxyXG4gICAgbGFiZWxzRXhpc3Q6IGZhbHNlLFxyXG4gICAgbGFiZWxzOiBbXSxcclxuICAgIGxlZ2VuZEV4aXN0czogZmFsc2UsXHJcbiAgICBsZWdlbmQ6IHt9LFxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3ViczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdW5yZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMudW5yZWdpc3RlcihwbHVnaW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIHRoaXMuc3Vicy5wdXNoKHRoaXMudGhlbWVTZXJ2aWNlLmNvbG9yc2NoZW1lc09wdGlvbnMuc3Vic2NyaWJlKHIgPT4gdGhpcy50aGVtZUNoYW5nZWQocikpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdGhlbWVDaGFuZ2VkKG9wdGlvbnM6IHt9KSB7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5jaGFydCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghIXRoaXMuZGF0YSAhPT0gdGhpcy5vbGQuZGF0YUV4aXN0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcblxyXG4gICAgICB0aGlzLm9sZC5kYXRhRXhpc3RzID0gISF0aGlzLmRhdGE7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YUxlbmd0aCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGFzZXRzICE9PSB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cyA9ICEhdGhpcy5kYXRhc2V0cztcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCA9IHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5sZW5ndGggfHwgMDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEgIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YU9iamVjdHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5maWx0ZXIoKHgsIGkpID0+IHguZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YUxlbmd0aHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMuY29sb3JzICE9PSB0aGlzLm9sZC5jb2xvcnNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzRXhpc3RzID0gISF0aGlzLmNvbG9ycztcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIHNtZWxscyBvZiBpbmVmZmljaWVuY3ksIG1pZ2h0IG5lZWQgdG8gcmV2aXNpdCB0aGlzXHJcbiAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5jb2xvcnNFcXVhbCh4LCB0aGlzLm9sZC5jb2xvcnNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzID0gdGhpcy5jb2xvcnMubWFwKHggPT4gdGhpcy5jb3B5Q29sb3IoeCkpO1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMubGFiZWxzICE9PSB0aGlzLm9sZC5sYWJlbHNFeGlzdCkge1xyXG4gICAgICB0aGlzLm9sZC5sYWJlbHNFeGlzdCA9ICEhdGhpcy5sYWJlbHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5sYWJlbHNFcXVhbCh4LCB0aGlzLm9sZC5sYWJlbHNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzID0gdGhpcy5sYWJlbHMubWFwKHggPT4gdGhpcy5jb3B5TGFiZWwoeCkpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmxlZ2VuZCAhPT0gdGhpcy5vbGQubGVnZW5kRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZEV4aXN0cyA9ICEhdGhpcy5vcHRpb25zLmxlZ2VuZDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2VuZCAmJiB0aGlzLm9wdGlvbnMubGVnZW5kLnBvc2l0aW9uICE9PSB0aGlzLm9sZC5sZWdlbmQucG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbjtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5VcGRhdGU6XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlJlZnJlc2g6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb3B5TGFiZWwoYTogTGFiZWwpOiBMYWJlbCB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xyXG4gICAgICByZXR1cm4gWy4uLmFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG5cclxuICBsYWJlbHNFcXVhbChhOiBMYWJlbCwgYjogTGFiZWwpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgICAgICYmIEFycmF5LmlzQXJyYXkoYSkgPT09IEFycmF5LmlzQXJyYXkoYilcclxuICAgICAgJiYgKEFycmF5LmlzQXJyYXkoYSkgfHwgYSA9PT0gYilcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSBiLmxlbmd0aClcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEuZmlsdGVyKCh4LCBpKSA9PiB4ICE9PSBiW2ldKS5sZW5ndGggPT09IDApXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yIHtcclxuICAgIGNvbnN0IHJjOiBDb2xvciA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBhLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgYm9yZGVyV2lkdGg6IGEuYm9yZGVyV2lkdGgsXHJcbiAgICAgIGJvcmRlckNvbG9yOiBhLmJvcmRlckNvbG9yLFxyXG4gICAgICBib3JkZXJDYXBTdHlsZTogYS5ib3JkZXJDYXBTdHlsZSxcclxuICAgICAgYm9yZGVyRGFzaDogYS5ib3JkZXJEYXNoLFxyXG4gICAgICBib3JkZXJEYXNoT2Zmc2V0OiBhLmJvcmRlckRhc2hPZmZzZXQsXHJcbiAgICAgIGJvcmRlckpvaW5TdHlsZTogYS5ib3JkZXJKb2luU3R5bGUsXHJcbiAgICAgIHBvaW50Qm9yZGVyQ29sb3I6IGEucG9pbnRCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IGEucG9pbnRCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRSYWRpdXM6IGEucG9pbnRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJSYWRpdXM6IGEucG9pbnRIb3ZlclJhZGl1cyxcclxuICAgICAgcG9pbnRIaXRSYWRpdXM6IGEucG9pbnRIaXRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlcldpZHRoOiBhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRTdHlsZTogYS5wb2ludFN0eWxlLFxyXG4gICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogYS5ob3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJDb2xvcjogYS5ob3ZlckJvcmRlckNvbG9yLFxyXG4gICAgICBob3ZlckJvcmRlcldpZHRoOiBhLmhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiByYztcclxuICB9XHJcblxyXG4gIGNvbG9yc0VxdWFsKGE6IENvbG9yLCBiOiBDb2xvcikge1xyXG4gICAgaWYgKCFhICE9PSAhYikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIWEgfHwgdHJ1ZVxyXG4gICAgICAmJiAoYS5iYWNrZ3JvdW5kQ29sb3IgPT09IGIuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJXaWR0aCA9PT0gYi5ib3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEuYm9yZGVyQ29sb3IgPT09IGIuYm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmJvcmRlckNhcFN0eWxlID09PSBiLmJvcmRlckNhcFN0eWxlKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoID09PSBiLmJvcmRlckRhc2gpXHJcbiAgICAgICYmIChhLmJvcmRlckRhc2hPZmZzZXQgPT09IGIuYm9yZGVyRGFzaE9mZnNldClcclxuICAgICAgJiYgKGEuYm9yZGVySm9pblN0eWxlID09PSBiLmJvcmRlckpvaW5TdHlsZSlcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJDb2xvciA9PT0gYi5wb2ludEJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJXaWR0aCA9PT0gYi5wb2ludEJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFJhZGl1cyA9PT0gYi5wb2ludFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlclJhZGl1cyA9PT0gYi5wb2ludEhvdmVyUmFkaXVzKVxyXG4gICAgICAmJiAoYS5wb2ludEhpdFJhZGl1cyA9PT0gYi5wb2ludEhpdFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IgPT09IGIucG9pbnRIb3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyV2lkdGggPT09IGIucG9pbnRIb3ZlckJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFN0eWxlID09PSBiLnBvaW50U3R5bGUpXHJcbiAgICAgICYmIChhLmhvdmVyQmFja2dyb3VuZENvbG9yID09PSBiLmhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlckNvbG9yID09PSBiLmhvdmVyQm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmhvdmVyQm9yZGVyV2lkdGggPT09IGIuaG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29sb3JzKCkge1xyXG4gICAgdGhpcy5kYXRhc2V0cy5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbG9ycyAmJiB0aGlzLmNvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgdGhpcy5jb2xvcnNbaW5kZXhdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgZ2V0Q29sb3JzKHRoaXMuY2hhcnRUeXBlLCBpbmRleCwgZWxtLmRhdGEubGVuZ3RoKSwgeyAuLi5lbG0gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IFVwZGF0ZVR5cGUuRGVmYXVsdDtcclxuICAgIGNvbnN0IHdhbnRVcGRhdGUgPSAoeDogVXBkYXRlVHlwZSkgPT4ge1xyXG4gICAgICB1cGRhdGVSZXF1aXJlZCA9IHggPiB1cGRhdGVSZXF1aXJlZCA/IHggOiB1cGRhdGVSZXF1aXJlZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZXMgYXJlIGluIHRoZSBkYXRhIG9yIGRhdGFzZXRzIG9yIGxhYmVscyBvciBsZWdlbmRcclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmIGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyhjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdkYXRhc2V0cycpICYmIGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoY2hhbmdlcy5kYXRhc2V0cy5jdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xhYmVscycpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscyA9IGNoYW5nZXMubGFiZWxzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5sZWdlbmQuZGlzcGxheSA9IGNoYW5nZXMubGVnZW5kLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB0aGlzLmNoYXJ0LmdlbmVyYXRlTGVnZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdvcHRpb25zJykpIHtcclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlJlZnJlc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodXBkYXRlUmVxdWlyZWQgYXMgVXBkYXRlVHlwZSkge1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuRGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdWJzLmZvckVhY2goeCA9PiB4LnVuc3Vic2NyaWJlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkdXJhdGlvbj86IGFueSwgbGF6eT86IGFueSkge1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQudXBkYXRlKGR1cmF0aW9uLCBsYXp5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpLmhpZGRlbiA9IGhpZGRlbjtcclxuICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhcnQudG9CYXNlNjRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0Q29uZmlndXJhdGlvbigpOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiB7XHJcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZ2V0RGF0YXNldHMoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgb3B0aW9ucy5sZWdlbmQgPSB7IGRpc3BsYXk6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgICAvLyBob29rIGZvciBvbkhvdmVyIGFuZCBvbkNsaWNrIGV2ZW50c1xyXG4gICAgb3B0aW9ucy5ob3ZlciA9IG9wdGlvbnMuaG92ZXIgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMuaG92ZXIub25Ib3Zlcikge1xyXG4gICAgICBvcHRpb25zLmhvdmVyLm9uSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFydEhvdmVyLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XHJcbiAgICAgIG9wdGlvbnMub25DbGljayA9IChldmVudD86IE1vdXNlRXZlbnQsIGFjdGl2ZT86IHt9W10pID0+IHtcclxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2suZW1pdCh7IGV2ZW50LCBhY3RpdmUgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHRoaXMuc21hcnRNZXJnZShvcHRpb25zLCB0aGlzLnRoZW1lU2VydmljZS5nZXRDb2xvcnNjaGVtZXNPcHRpb25zKCkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgdHlwZTogdGhpcy5jaGFydFR5cGUsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzIHx8IFtdLFxyXG4gICAgICAgIGRhdGFzZXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgb3B0aW9uczogbWVyZ2VkT3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNoYXJ0Q29uZmlnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0QnVpbGRlcihjdHg6IHN0cmluZy8qLCBkYXRhOmFueVtdLCBvcHRpb25zOmFueSovKTogQ2hhcnQge1xyXG4gICAgY29uc3QgY2hhcnRDb25maWcgPSB0aGlzLmdldENoYXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgcmV0dXJuIG5ldyBjaGFydEpzLkNoYXJ0KGN0eCwgY2hhcnRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc21hcnRNZXJnZShvcHRpb25zOiBhbnksIG92ZXJyaWRlczogYW55LCBsZXZlbDogbnVtYmVyID0gMCk6IGFueSB7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKG92ZXJyaWRlcyk7XHJcbiAgICBrZXlzVG9VcGRhdGUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvdmVycmlkZXNba2V5XSkpIHtcclxuICAgICAgICBjb25zdCBhcnJheUVsZW1lbnRzID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChhcnJheUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICBhcnJheUVsZW1lbnRzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRNZXJnZShyLCBvdmVycmlkZXNba2V5XVswXSwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG92ZXJyaWRlc1trZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcclxuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9uc1trZXldLCBvdmVycmlkZXNba2V5XSwgbGV2ZWwgKyAxKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBvdmVycmlkZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWwobGFiZWw6IExhYmVsKTogbGFiZWwgaXMgTXVsdGlMaW5lTGFiZWwge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGFiZWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBqb2luTGFiZWwobGFiZWw6IExhYmVsKTogc3RyaW5nIHtcclxuICAgIGlmICghbGFiZWwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc011bHRpTGluZUxhYmVsKGxhYmVsKSkge1xyXG4gICAgICByZXR1cm4gbGFiZWwuam9pbignICcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9wYWdhdGVEYXRhc2V0c1RvRGF0YShkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW10pIHtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YXNldHMubWFwKHIgPT4gci5kYXRhKTtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IGRhdGFzZXRzO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YVRvRGF0YXNldHMobmV3RGF0YVZhbHVlczogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzTXVsdGlEYXRhU2V0KG5ld0RhdGFWYWx1ZXMpKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIG5ld0RhdGFWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGFzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBuZXdEYXRhVmFsdWVzW2ldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBuZXdEYXRhVmFsdWVzLm1hcCgoZGF0YTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGEsIGxhYmVsOiB0aGlzLmpvaW5MYWJlbCh0aGlzLmxhYmVsc1tpbmRleF0pIHx8IGBMYWJlbCAke2luZGV4fWAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5kYXRhc2V0cykge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBbeyBkYXRhOiBuZXdEYXRhVmFsdWVzIH1dO1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEgPSBuZXdEYXRhVmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuc3BsaWNlKDEpOyAvLyBSZW1vdmUgYWxsIGVsZW1lbnRzIGJ1dCB0aGUgZmlyc3RcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNdWx0aURhdGFTZXQoZGF0YTogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiBkYXRhIGlzIE11bHRpRGF0YVNldCB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhWzBdKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGF0YXNldHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuZGF0YXNldHMgJiYgIXRoaXMuZGF0YSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5nLWNoYXJ0cyBjb25maWd1cmF0aW9uIGVycm9yLCBkYXRhIG9yIGRhdGFzZXRzIGZpZWxkIGFyZSByZXF1aXJlZCB0byByZW5kZXIgY2hhcnQgJHt0aGlzLmNoYXJ0VHlwZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBgZGF0YXNldHNgIGlzIGRlZmluZWQsIHVzZSBpdCBvdmVyIHRoZSBgZGF0YWAgcHJvcGVydHkuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKHRoaXMuZGF0YXNldHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhc2V0cztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHModGhpcy5kYXRhKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZnJlc2goKSB7XHJcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlKSB7XHJcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoKCksIDUwKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0b2RvOiByZW1vdmUgdGhpcyBsaW5lLCBpdCBpcyBwcm9kdWNpbmcgZmxpY2tlcmluZ1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jdHgpIHtcclxuICAgICAgdGhpcy5jaGFydCA9IHRoaXMuZ2V0Q2hhcnRCdWlsZGVyKHRoaXMuY3R4LyosIGRhdGEsIHRoaXMub3B0aW9ucyovKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIm5nOi9uZzItY2hhcnRzL2xpYi9iYXNlLWNoYXJ0LmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFDTCxTQUFTLEVBSVQsS0FBSyxFQUNMLE1BQU0sRUFDTixZQUFZLEVBQ1osVUFBVSxHQUdYLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sS0FBSyxPQUFPLE1BQU0sVUFBVSxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxRQUFRLENBQUM7Ozs7O0FBV25DLHVCQWVDOzs7SUFkQyw4QkFBb0I7O0lBQ3BCLDhCQUFtQjs7SUFDbkIsa0NBQXdCOztJQUN4QixrQ0FBdUI7O0lBQ3ZCLHVDQUEyQjs7SUFDM0IsdUNBQThCOztJQUM5QixnQ0FBc0I7O0lBQ3RCLDBCQUFnQjs7SUFDaEIsK0JBQXFCOztJQUNyQiwwQkFBZ0I7O0lBQ2hCLGdDQUFzQjs7SUFDdEIsMEJBRUU7Ozs7SUFJRixVQUFPO0lBQ1AsU0FBTTtJQUNOLFVBQU87Ozs7O0FBR1Q7SUFpREUsNEJBQ1UsT0FBbUIsRUFDbkIsWUFBMEI7UUFEMUIsWUFBTyxHQUFQLE9BQU8sQ0FBWTtRQUNuQixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQTFDcEIsWUFBTyxHQUF5QixFQUFFLENBQUM7UUFNbEMsZUFBVSxHQUF3RCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3JGLGVBQVUsR0FBc0QsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUs1RixRQUFHLEdBQWE7WUFDdEIsVUFBVSxFQUFFLEtBQUs7WUFDakIsVUFBVSxFQUFFLENBQUM7WUFDYixjQUFjLEVBQUUsS0FBSztZQUNyQixjQUFjLEVBQUUsQ0FBQztZQUNqQixtQkFBbUIsRUFBRSxF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QUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRTtZQUMzQyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUV0QyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFcEIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELDBEQUEwRDtRQUMxRCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNOzs7OztRQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBeEMsQ0FBd0MsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUNoRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Ozs7WUFBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQWpCLENBQWlCLEVBQUMsQ0FBQztZQUUxRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFFcEIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU07Ozs7O1FBQUMsVUFBQyxDQUFDLEVBQUUsQ0FB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SCxDQUFDLENBQ0gsQUE1ZFM7OytCQUxSLFNBQVMsU0FBQztnQkEzQ1QsVUFBVTtnQkFPSCxZQUFZOztJQXNDbkIsUUFBUSxFQUFFLG1CQUFtQjthQUM3QixRQUFRLEVBQUUsQUFHVCxLQUFLO0VBSGdCLGtCQUN2QixPQUdFLEtBQUs7eUJBQ0wsS0FBSzswQkFDTCxLQUFLOzRCQUNMLEtBQUs7eUJBQ0wsS0FBSzt5QkFDTCxLQUFLOzBCQUNMLEtBQUs7NkJBRUwsTUFBTTs2QkFDTixNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFVO0lBaWRuQix5QkFBQztDQUFBLEFBamVELElBaWVDO1NBNWRZLGtCQUFrQjs7O0lBQzdCLGtDQUEyQzs7SUFDM0Msc0NBQWtEOztJQUNsRCxvQ0FBZ0M7O0lBQ2hDLHFDQUFtRDs7SUFDbkQsdUNBQTZDOztJQUM3QyxvQ0FBZ0M7O0lBQ2hDLG9DQUFnQzs7SUFDaEMscUNBQXFFOztJQUVyRSx3Q0FBc0c7O0lBQ3RHLHdDQUFvRzs7SUFFcEcsaUNBQW1COztJQUNuQixtQ0FBb0I7Ozs7O0lBRXBCLGlDQWFFOzs7OztJQUVGLGtDQUFrQzs7Ozs7SUFjaEMscUNBQTJCOzs7OztJQUMzQiwwQ0FBa0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIERpcmVjdGl2ZSxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25DaGFuZ2VzLFxyXG4gIE9uSW5pdCxcclxuICBJbnB1dCxcclxuICBPdXRwdXQsXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIEVsZW1lbnRSZWYsXHJcbiAgU2ltcGxlQ2hhbmdlcyxcclxuICBEb0NoZWNrLFxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgKiBhcyBjaGFydEpzIGZyb20gJ2NoYXJ0LmpzJztcclxuaW1wb3J0IHsgZ2V0Q29sb3JzIH0gZnJvbSAnLi9nZXQtY29sb3JzJztcclxuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuL2NvbG9yJztcclxuaW1wb3J0IHsgVGhlbWVTZXJ2aWNlIH0gZnJvbSAnLi90aGVtZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGNsb25lRGVlcCB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5leHBvcnQgdHlwZSBTaW5nbGVEYXRhU2V0ID0gKG51bWJlcltdIHwgY2hhcnRKcy5DaGFydFBvaW50W10pO1xyXG5leHBvcnQgdHlwZSBNdWx0aURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSlbXTtcclxuZXhwb3J0IHR5cGUgU2luZ2xlT3JNdWx0aURhdGFTZXQgPSBTaW5nbGVEYXRhU2V0IHwgTXVsdGlEYXRhU2V0O1xyXG5cclxuZXhwb3J0IHR5cGUgUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbkFuZE9wdGlvbnMgPSBjaGFydEpzLlBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb24gJiBjaGFydEpzLlBsdWdpblNlcnZpY2VSZWdpc3RyYXRpb25PcHRpb25zO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVMaW5lTGFiZWwgPSBzdHJpbmc7XHJcbmV4cG9ydCB0eXBlIE11bHRpTGluZUxhYmVsID0gc3RyaW5nW107XHJcbmV4cG9ydCB0eXBlIExhYmVsID0gU2luZ2xlTGluZUxhYmVsIHwgTXVsdGlMaW5lTGFiZWw7XHJcblxyXG5pbnRlcmZhY2UgT2xkU3RhdGUge1xyXG4gIGRhdGFFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YUxlbmd0aDogbnVtYmVyO1xyXG4gIGRhdGFzZXRzRXhpc3RzOiBib29sZWFuO1xyXG4gIGRhdGFzZXRzTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNEYXRhT2JqZWN0czogYW55W107XHJcbiAgZGF0YXNldHNEYXRhTGVuZ3RoczogbnVtYmVyW107XHJcbiAgY29sb3JzRXhpc3RzOiBib29sZWFuO1xyXG4gIGNvbG9yczogQ29sb3JbXTtcclxuICBsYWJlbHNFeGlzdDogYm9vbGVhbjtcclxuICBsYWJlbHM6IExhYmVsW107XHJcbiAgbGVnZW5kRXhpc3RzOiBib29sZWFuO1xyXG4gIGxlZ2VuZDoge1xyXG4gICAgcG9zaXRpb24/OiBzdHJpbmc7XHJcbiAgfTtcclxufVxyXG5cclxuZW51bSBVcGRhdGVUeXBlIHtcclxuICBEZWZhdWx0LFxyXG4gIFVwZGF0ZSxcclxuICBSZWZyZXNoXHJcbn1cclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcclxuICBzZWxlY3RvcjogJ2NhbnZhc1tiYXNlQ2hhcnRdJyxcclxuICBleHBvcnRBczogJ2Jhc2UtY2hhcnQnXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBCYXNlQ2hhcnREaXJlY3RpdmUgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3ksIERvQ2hlY2sge1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhOiBTaW5nbGVPck11bHRpRGF0YVNldDtcclxuICBASW5wdXQoKSBwdWJsaWMgZGF0YXNldHM6IGNoYXJ0SnMuQ2hhcnREYXRhU2V0c1tdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsYWJlbHM6IExhYmVsW107XHJcbiAgQElucHV0KCkgcHVibGljIG9wdGlvbnM6IGNoYXJ0SnMuQ2hhcnRPcHRpb25zID0ge307XHJcbiAgQElucHV0KCkgcHVibGljIGNoYXJ0VHlwZTogY2hhcnRKcy5DaGFydFR5cGU7XHJcbiAgQElucHV0KCkgcHVibGljIGNvbG9yczogQ29sb3JbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgbGVnZW5kOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBwbHVnaW5zOiBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9uc1tdO1xyXG5cclxuICBAT3V0cHV0KCkgcHVibGljIGNoYXJ0Q2xpY2s6IEV2ZW50RW1pdHRlcjx7IGV2ZW50PzogTW91c2VFdmVudCwgYWN0aXZlPzoge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBAT3V0cHV0KCkgcHVibGljIGNoYXJ0SG92ZXI6IEV2ZW50RW1pdHRlcjx7IGV2ZW50OiBNb3VzZUV2ZW50LCBhY3RpdmU6IHt9W10gfT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIHB1YmxpYyBjdHg6IHN0cmluZztcclxuICBwdWJsaWMgY2hhcnQ6IENoYXJ0O1xyXG5cclxuICBwcml2YXRlIG9sZDogT2xkU3RhdGUgPSB7XHJcbiAgICBkYXRhRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFMZW5ndGg6IDAsXHJcbiAgICBkYXRhc2V0c0V4aXN0czogZmFsc2UsXHJcbiAgICBkYXRhc2V0c0xlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRGF0YU9iamVjdHM6IFtdLFxyXG4gICAgZGF0YXNldHNEYXRhTGVuZ3RoczogW10sXHJcbiAgICBjb2xvcnNFeGlzdHM6IGZhbHNlLFxyXG4gICAgY29sb3JzOiBbXSxcclxuICAgIGxhYmVsc0V4aXN0OiBmYWxzZSxcclxuICAgIGxhYmVsczogW10sXHJcbiAgICBsZWdlbmRFeGlzdHM6IGZhbHNlLFxyXG4gICAgbGVnZW5kOiB7fSxcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHN1YnM6IFN1YnNjcmlwdGlvbltdID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVyIGEgcGx1Z2luLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luOiBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucykge1xyXG4gICAgY2hhcnRKcy5DaGFydC5wbHVnaW5zLnJlZ2lzdGVyKHBsdWdpbik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIHVucmVnaXN0ZXJQbHVnaW4ocGx1Z2luOiBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucykge1xyXG4gICAgY2hhcnRKcy5DaGFydC5wbHVnaW5zLnVucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZWxlbWVudDogRWxlbWVudFJlZixcclxuICAgIHByaXZhdGUgdGhlbWVTZXJ2aWNlOiBUaGVtZVNlcnZpY2UsXHJcbiAgKSB7IH1cclxuXHJcbiAgcHVibGljIG5nT25Jbml0KCkge1xyXG4gICAgdGhpcy5jdHggPSB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICB0aGlzLnN1YnMucHVzaCh0aGlzLnRoZW1lU2VydmljZS5jb2xvcnNjaGVtZXNPcHRpb25zLnN1YnNjcmliZShyID0+IHRoaXMudGhlbWVDaGFuZ2VkKHIpKSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHRoZW1lQ2hhbmdlZChvcHRpb25zOiB7fSkge1xyXG4gICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgfVxyXG5cclxuICBuZ0RvQ2hlY2soKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHVwZGF0ZVJlcXVpcmVkID0gVXBkYXRlVHlwZS5EZWZhdWx0O1xyXG4gICAgY29uc3Qgd2FudFVwZGF0ZSA9ICh4OiBVcGRhdGVUeXBlKSA9PiB7XHJcbiAgICAgIHVwZGF0ZVJlcXVpcmVkID0geCA+IHVwZGF0ZVJlcXVpcmVkID8geCA6IHVwZGF0ZVJlcXVpcmVkO1xyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGEgIT09IHRoaXMub2xkLmRhdGFFeGlzdHMpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyh0aGlzLmRhdGEpO1xyXG5cclxuICAgICAgdGhpcy5vbGQuZGF0YUV4aXN0cyA9ICEhdGhpcy5kYXRhO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhTGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMub2xkLmRhdGFMZW5ndGggPSB0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLmxlbmd0aCB8fCAwO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5kYXRhc2V0cyAhPT0gdGhpcy5vbGQuZGF0YXNldHNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YXNldHNFeGlzdHMgPSAhIXRoaXMuZGF0YXNldHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cyAmJiB0aGlzLmRhdGFzZXRzLmxlbmd0aCAhPT0gdGhpcy5vbGQuZGF0YXNldHNMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YXNldHNMZW5ndGggPSB0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cyAmJiB0aGlzLmRhdGFzZXRzLmZpbHRlcigoeCwgaSkgPT4geC5kYXRhICE9PSB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzW2ldKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YXNldHNEYXRhT2JqZWN0cyA9IHRoaXMuZGF0YXNldHMubWFwKHggPT4geC5kYXRhKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzW2ldKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YXNldHNEYXRhTGVuZ3RocyA9IHRoaXMuZGF0YXNldHMubWFwKHggPT4geC5kYXRhLmxlbmd0aCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmNvbG9ycyAhPT0gdGhpcy5vbGQuY29sb3JzRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmNvbG9yc0V4aXN0cyA9ICEhdGhpcy5jb2xvcnM7XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZUNvbG9ycygpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBzbWVsbHMgb2YgaW5lZmZpY2llbmN5LCBtaWdodCBuZWVkIHRvIHJldmlzaXQgdGhpc1xyXG4gICAgaWYgKHRoaXMuY29sb3JzICYmIHRoaXMuY29sb3JzLmZpbHRlcigoeCwgaSkgPT4gIXRoaXMuY29sb3JzRXF1YWwoeCwgdGhpcy5vbGQuY29sb3JzW2ldKSkubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMub2xkLmNvbG9ycyA9IHRoaXMuY29sb3JzLm1hcCh4ID0+IHRoaXMuY29weUNvbG9yKHgpKTtcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmxhYmVscyAhPT0gdGhpcy5vbGQubGFiZWxzRXhpc3QpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzRXhpc3QgPSAhIXRoaXMubGFiZWxzO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubGFiZWxzICYmIHRoaXMubGFiZWxzLmZpbHRlcigoeCwgaSkgPT4gIXRoaXMubGFiZWxzRXF1YWwoeCwgdGhpcy5vbGQubGFiZWxzW2ldKSkubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMub2xkLmxhYmVscyA9IHRoaXMubGFiZWxzLm1hcCh4ID0+IHRoaXMuY29weUxhYmVsKHgpKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMub3B0aW9ucy5sZWdlbmQgIT09IHRoaXMub2xkLmxlZ2VuZEV4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5sZWdlbmRFeGlzdHMgPSAhIXRoaXMub3B0aW9ucy5sZWdlbmQ7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuUmVmcmVzaCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5sZWdlbmQgJiYgdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbiAhPT0gdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZC5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5sZWdlbmQucG9zaXRpb247XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuUmVmcmVzaCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoICh1cGRhdGVSZXF1aXJlZCBhcyBVcGRhdGVUeXBlKSB7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5EZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29weUxhYmVsKGE6IExhYmVsKTogTGFiZWwge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcclxuICAgICAgcmV0dXJuIFsuLi5hXTtcclxuICAgIH1cclxuICAgIHJldHVybiBhO1xyXG4gIH1cclxuXHJcbiAgbGFiZWxzRXF1YWwoYTogTGFiZWwsIGI6IExhYmVsKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAmJiBBcnJheS5pc0FycmF5KGEpID09PSBBcnJheS5pc0FycmF5KGIpXHJcbiAgICAgICYmIChBcnJheS5pc0FycmF5KGEpIHx8IGEgPT09IGIpXHJcbiAgICAgICYmICghQXJyYXkuaXNBcnJheShhKSB8fCBhLmxlbmd0aCA9PT0gYi5sZW5ndGgpXHJcbiAgICAgICYmICghQXJyYXkuaXNBcnJheShhKSB8fCBhLmZpbHRlcigoeCwgaSkgPT4geCAhPT0gYltpXSkubGVuZ3RoID09PSAwKVxyXG4gICAgICA7XHJcbiAgfVxyXG5cclxuICBjb3B5Q29sb3IoYTogQ29sb3IpOiBDb2xvciB7XHJcbiAgICBjb25zdCByYzogQ29sb3IgPSB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYS5iYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIGJvcmRlcldpZHRoOiBhLmJvcmRlcldpZHRoLFxyXG4gICAgICBib3JkZXJDb2xvcjogYS5ib3JkZXJDb2xvcixcclxuICAgICAgYm9yZGVyQ2FwU3R5bGU6IGEuYm9yZGVyQ2FwU3R5bGUsXHJcbiAgICAgIGJvcmRlckRhc2g6IGEuYm9yZGVyRGFzaCxcclxuICAgICAgYm9yZGVyRGFzaE9mZnNldDogYS5ib3JkZXJEYXNoT2Zmc2V0LFxyXG4gICAgICBib3JkZXJKb2luU3R5bGU6IGEuYm9yZGVySm9pblN0eWxlLFxyXG4gICAgICBwb2ludEJvcmRlckNvbG9yOiBhLnBvaW50Qm9yZGVyQ29sb3IsXHJcbiAgICAgIHBvaW50QmFja2dyb3VuZENvbG9yOiBhLnBvaW50QmFja2dyb3VuZENvbG9yLFxyXG4gICAgICBwb2ludEJvcmRlcldpZHRoOiBhLnBvaW50Qm9yZGVyV2lkdGgsXHJcbiAgICAgIHBvaW50UmFkaXVzOiBhLnBvaW50UmFkaXVzLFxyXG4gICAgICBwb2ludEhvdmVyUmFkaXVzOiBhLnBvaW50SG92ZXJSYWRpdXMsXHJcbiAgICAgIHBvaW50SGl0UmFkaXVzOiBhLnBvaW50SGl0UmFkaXVzLFxyXG4gICAgICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBhLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50SG92ZXJCb3JkZXJDb2xvcjogYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IsXHJcbiAgICAgIHBvaW50SG92ZXJCb3JkZXJXaWR0aDogYS5wb2ludEhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICAgIHBvaW50U3R5bGU6IGEucG9pbnRTdHlsZSxcclxuICAgICAgaG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEuaG92ZXJCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIGhvdmVyQm9yZGVyQ29sb3I6IGEuaG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJXaWR0aDogYS5ob3ZlckJvcmRlcldpZHRoLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcmM7XHJcbiAgfVxyXG5cclxuICBjb2xvcnNFcXVhbChhOiBDb2xvciwgYjogQ29sb3IpIHtcclxuICAgIGlmICghYSAhPT0gIWIpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICFhIHx8IHRydWVcclxuICAgICAgJiYgKGEuYmFja2dyb3VuZENvbG9yID09PSBiLmJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEuYm9yZGVyV2lkdGggPT09IGIuYm9yZGVyV2lkdGgpXHJcbiAgICAgICYmIChhLmJvcmRlckNvbG9yID09PSBiLmJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJDYXBTdHlsZSA9PT0gYi5ib3JkZXJDYXBTdHlsZSlcclxuICAgICAgJiYgKGEuYm9yZGVyRGFzaCA9PT0gYi5ib3JkZXJEYXNoKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoT2Zmc2V0ID09PSBiLmJvcmRlckRhc2hPZmZzZXQpXHJcbiAgICAgICYmIChhLmJvcmRlckpvaW5TdHlsZSA9PT0gYi5ib3JkZXJKb2luU3R5bGUpXHJcbiAgICAgICYmIChhLnBvaW50Qm9yZGVyQ29sb3IgPT09IGIucG9pbnRCb3JkZXJDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IgPT09IGIucG9pbnRCYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICYmIChhLnBvaW50Qm9yZGVyV2lkdGggPT09IGIucG9pbnRCb3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEucG9pbnRSYWRpdXMgPT09IGIucG9pbnRSYWRpdXMpXHJcbiAgICAgICYmIChhLnBvaW50SG92ZXJSYWRpdXMgPT09IGIucG9pbnRIb3ZlclJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIaXRSYWRpdXMgPT09IGIucG9pbnRIaXRSYWRpdXMpXHJcbiAgICAgICYmIChhLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IgPT09IGIucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJvcmRlckNvbG9yID09PSBiLnBvaW50SG92ZXJCb3JkZXJDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJvcmRlcldpZHRoID09PSBiLnBvaW50SG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEucG9pbnRTdHlsZSA9PT0gYi5wb2ludFN0eWxlKVxyXG4gICAgICAmJiAoYS5ob3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5ob3ZlckJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEuaG92ZXJCb3JkZXJDb2xvciA9PT0gYi5ob3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlcldpZHRoID09PSBiLmhvdmVyQm9yZGVyV2lkdGgpXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvbG9ycygpIHtcclxuICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZWxtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnNbaW5kZXhdKSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbG0sIHRoaXMuY29sb3JzW2luZGV4XSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbG0sIGdldENvbG9ycyh0aGlzLmNoYXJ0VHlwZSwgaW5kZXgsIGVsbS5kYXRhLmxlbmd0aCksIHsgLi4uZWxtIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIGlmIHRoZSBjaGFuZ2VzIGFyZSBpbiB0aGUgZGF0YSBvciBkYXRhc2V0cyBvciBsYWJlbHMgb3IgbGVnZW5kXHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSAmJiBjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHMoY2hhbmdlcy5kYXRhLmN1cnJlbnRWYWx1ZSk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YXNldHMnKSAmJiBjaGFuZ2VzLmRhdGFzZXRzLmN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdsYWJlbHMnKSkge1xyXG4gICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgIHRoaXMuY2hhcnQuZGF0YS5sYWJlbHMgPSBjaGFuZ2VzLmxhYmVscy5jdXJyZW50VmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdsZWdlbmQnKSkge1xyXG4gICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgIHRoaXMuY2hhcnQuY29uZmlnLm9wdGlvbnMubGVnZW5kLmRpc3BsYXkgPSBjaGFuZ2VzLmxlZ2VuZC5jdXJyZW50VmFsdWU7XHJcbiAgICAgICAgdGhpcy5jaGFydC5nZW5lcmF0ZUxlZ2VuZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnb3B0aW9ucycpKSB7XHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlVwZGF0ZTpcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuUmVmcmVzaDpcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICB0aGlzLmNoYXJ0LmRlc3Ryb3koKTtcclxuICAgICAgdGhpcy5jaGFydCA9IHZvaWQgMDtcclxuICAgIH1cclxuICAgIHRoaXMuc3Vicy5mb3JFYWNoKHggPT4geC51bnN1YnNjcmliZSgpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoZHVyYXRpb24/OiBhbnksIGxhenk/OiBhbnkpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0LnVwZGF0ZShkdXJhdGlvbiwgbGF6eSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGlkZURhdGFzZXQoaW5kZXg6IG51bWJlciwgaGlkZGVuOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW4gPSBoaWRkZW47XHJcbiAgICB0aGlzLmNoYXJ0LnVwZGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzRGF0YXNldEhpZGRlbihpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpbmRleCkuaGlkZGVuO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvQmFzZTY0SW1hZ2UoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LnRvQmFzZTY0SW1hZ2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRDaGFydENvbmZpZ3VyYXRpb24oKTogY2hhcnRKcy5DaGFydENvbmZpZ3VyYXRpb24ge1xyXG4gICAgY29uc3QgZGF0YXNldHMgPSB0aGlzLmdldERhdGFzZXRzKCk7XHJcblxyXG4gICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyk7XHJcbiAgICBpZiAodGhpcy5sZWdlbmQgPT09IGZhbHNlKSB7XHJcbiAgICAgIG9wdGlvbnMubGVnZW5kID0geyBkaXNwbGF5OiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gICAgLy8gaG9vayBmb3Igb25Ib3ZlciBhbmQgb25DbGljayBldmVudHNcclxuICAgIG9wdGlvbnMuaG92ZXIgPSBvcHRpb25zLmhvdmVyIHx8IHt9O1xyXG4gICAgaWYgKCFvcHRpb25zLmhvdmVyLm9uSG92ZXIpIHtcclxuICAgICAgb3B0aW9ucy5ob3Zlci5vbkhvdmVyID0gKGV2ZW50OiBNb3VzZUV2ZW50LCBhY3RpdmU6IHt9W10pID0+IHtcclxuICAgICAgICBpZiAoYWN0aXZlICYmICFhY3RpdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhcnRIb3Zlci5lbWl0KHsgZXZlbnQsIGFjdGl2ZSB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMub25DbGljaykge1xyXG4gICAgICBvcHRpb25zLm9uQ2xpY2sgPSAoZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGFydENsaWNrLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9ucywgdGhpcy50aGVtZVNlcnZpY2UuZ2V0Q29sb3JzY2hlbWVzT3B0aW9ucygpKTtcclxuXHJcbiAgICBjb25zdCBjaGFydENvbmZpZzogY2hhcnRKcy5DaGFydENvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgIHR5cGU6IHRoaXMuY2hhcnRUeXBlLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgbGFiZWxzOiB0aGlzLmxhYmVscyB8fCBbXSxcclxuICAgICAgICBkYXRhc2V0c1xyXG4gICAgICB9LFxyXG4gICAgICBwbHVnaW5zOiB0aGlzLnBsdWdpbnMsXHJcbiAgICAgIG9wdGlvbnM6IG1lcmdlZE9wdGlvbnMsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBjaGFydENvbmZpZztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRDaGFydEJ1aWxkZXIoY3R4OiBzdHJpbmcvKiwgZGF0YTphbnlbXSwgb3B0aW9uczphbnkqLyk6IENoYXJ0IHtcclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnID0gdGhpcy5nZXRDaGFydENvbmZpZ3VyYXRpb24oKTtcclxuICAgIHJldHVybiBuZXcgY2hhcnRKcy5DaGFydChjdHgsIGNoYXJ0Q29uZmlnKTtcclxuICB9XHJcblxyXG4gIHNtYXJ0TWVyZ2Uob3B0aW9uczogYW55LCBvdmVycmlkZXM6IGFueSwgbGV2ZWw6IG51bWJlciA9IDApOiBhbnkge1xyXG4gICAgaWYgKGxldmVsID09PSAwKSB7XHJcbiAgICAgIG9wdGlvbnMgPSBjbG9uZURlZXAob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBrZXlzVG9VcGRhdGUgPSBPYmplY3Qua2V5cyhvdmVycmlkZXMpO1xyXG4gICAga2V5c1RvVXBkYXRlLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3ZlcnJpZGVzW2tleV0pKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXlFbGVtZW50cyA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICBpZiAoYXJyYXlFbGVtZW50cykge1xyXG4gICAgICAgICAgYXJyYXlFbGVtZW50cy5mb3JFYWNoKHIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uociwgb3ZlcnJpZGVzW2tleV1bMF0sIGxldmVsICsgMSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIChvdmVycmlkZXNba2V5XSkgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5IGluIG9wdGlvbnMpKSB7XHJcbiAgICAgICAgICBvcHRpb25zW2tleV0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zbWFydE1lcmdlKG9wdGlvbnNba2V5XSwgb3ZlcnJpZGVzW2tleV0sIGxldmVsICsgMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3B0aW9uc1trZXldID0gb3ZlcnJpZGVzW2tleV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKGxldmVsID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc011bHRpTGluZUxhYmVsKGxhYmVsOiBMYWJlbCk6IGxhYmVsIGlzIE11bHRpTGluZUxhYmVsIHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGxhYmVsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgam9pbkxhYmVsKGxhYmVsOiBMYWJlbCk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWxhYmVsKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuaXNNdWx0aUxpbmVMYWJlbChsYWJlbCkpIHtcclxuICAgICAgcmV0dXJuIGxhYmVsLmpvaW4oJyAnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBsYWJlbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoZGF0YXNldHM6IGNoYXJ0SnMuQ2hhcnREYXRhU2V0c1tdKSB7XHJcbiAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGFzZXRzLm1hcChyID0+IHIuZGF0YSk7XHJcbiAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSBkYXRhc2V0cztcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKG5ld0RhdGFWYWx1ZXM6IFNpbmdsZU9yTXVsdGlEYXRhU2V0KTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5pc011bHRpRGF0YVNldChuZXdEYXRhVmFsdWVzKSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRhc2V0cyAmJiBuZXdEYXRhVmFsdWVzLmxlbmd0aCA9PT0gdGhpcy5kYXRhc2V0cy5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzLmZvckVhY2goKGRhdGFzZXQsIGk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgZGF0YXNldC5kYXRhID0gbmV3RGF0YVZhbHVlc1tpXTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzID0gbmV3RGF0YVZhbHVlcy5tYXAoKGRhdGE6IG51bWJlcltdLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4geyBkYXRhLCBsYWJlbDogdGhpcy5qb2luTGFiZWwodGhpcy5sYWJlbHNbaW5kZXhdKSB8fCBgTGFiZWwgJHtpbmRleH1gIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IHRoaXMuZGF0YXNldHM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoIXRoaXMuZGF0YXNldHMpIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzID0gW3sgZGF0YTogbmV3RGF0YVZhbHVlcyB9XTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5kYXRhc2V0c1swXS5kYXRhID0gbmV3RGF0YVZhbHVlcztcclxuICAgICAgICB0aGlzLmRhdGFzZXRzLnNwbGljZSgxKTsgLy8gUmVtb3ZlIGFsbCBlbGVtZW50cyBidXQgdGhlIGZpcnN0XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlEYXRhU2V0KGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0KTogZGF0YSBpcyBNdWx0aURhdGFTZXQge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGF0YVswXSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldERhdGFzZXRzKCkge1xyXG4gICAgaWYgKCF0aGlzLmRhdGFzZXRzICYmICF0aGlzLmRhdGEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBuZy1jaGFydHMgY29uZmlndXJhdGlvbiBlcnJvciwgZGF0YSBvciBkYXRhc2V0cyBmaWVsZCBhcmUgcmVxdWlyZWQgdG8gcmVuZGVyIGNoYXJ0ICR7dGhpcy5jaGFydFR5cGV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgYGRhdGFzZXRzYCBpcyBkZWZpbmVkLCB1c2UgaXQgb3ZlciB0aGUgYGRhdGFgIHByb3BlcnR5LlxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhc2V0c1RvRGF0YSh0aGlzLmRhdGFzZXRzKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YSkge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcbiAgICAgIHJldHVybiB0aGlzLmRhdGFzZXRzO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWZyZXNoKCkge1xyXG4gICAgLy8gaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSkge1xyXG4gICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVmcmVzaCgpLCA1MCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gdG9kbzogcmVtb3ZlIHRoaXMgbGluZSwgaXQgaXMgcHJvZHVjaW5nIGZsaWNrZXJpbmdcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuY3R4KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB0aGlzLmdldENoYXJ0QnVpbGRlcih0aGlzLmN0eC8qLCBkYXRhLCB0aGlzLm9wdGlvbnMqLyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/base-chart.directive.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm5/lib/base-chart.directive.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..48dc2cc
--- /dev/null
+++ b/node_modules/ng2-charts/esm5/lib/base-chart.directive.js.__ivy_ngcc_bak
@@ -0,0 +1,851 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import * as tslib_1 from "tslib";
+import { Directive, Input, Output, EventEmitter, ElementRef, } from '@angular/core';
+import * as chartJs from 'chart.js';
+import { getColors } from './get-colors';
+import { ThemeService } from './theme.service';
+import { cloneDeep } from 'lodash';
+/**
+ * @record
+ */
+function OldState() { }
+if (false) {
+    /** @type {?} */
+    OldState.prototype.dataExists;
+    /** @type {?} */
+    OldState.prototype.dataLength;
+    /** @type {?} */
+    OldState.prototype.datasetsExists;
+    /** @type {?} */
+    OldState.prototype.datasetsLength;
+    /** @type {?} */
+    OldState.prototype.datasetsDataObjects;
+    /** @type {?} */
+    OldState.prototype.datasetsDataLengths;
+    /** @type {?} */
+    OldState.prototype.colorsExists;
+    /** @type {?} */
+    OldState.prototype.colors;
+    /** @type {?} */
+    OldState.prototype.labelsExist;
+    /** @type {?} */
+    OldState.prototype.labels;
+    /** @type {?} */
+    OldState.prototype.legendExists;
+    /** @type {?} */
+    OldState.prototype.legend;
+}
+/** @enum {number} */
+var UpdateType = {
+    Default: 0,
+    Update: 1,
+    Refresh: 2,
+};
+UpdateType[UpdateType.Default] = 'Default';
+UpdateType[UpdateType.Update] = 'Update';
+UpdateType[UpdateType.Refresh] = 'Refresh';
+var BaseChartDirective = /** @class */ (function () {
+    function BaseChartDirective(element, themeService) {
+        this.element = element;
+        this.themeService = themeService;
+        this.options = {};
+        this.chartClick = new EventEmitter();
+        this.chartHover = new EventEmitter();
+        this.old = {
+            dataExists: false,
+            dataLength: 0,
+            datasetsExists: false,
+            datasetsLength: 0,
+            datasetsDataObjects: [],
+            datasetsDataLengths: [],
+            colorsExists: false,
+            colors: [],
+            labelsExist: false,
+            labels: [],
+            legendExists: false,
+            legend: {},
+        };
+        this.subs = [];
+    }
+    /**
+     * Register a plugin.
+     */
+    /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    BaseChartDirective.registerPlugin = /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    function (plugin) {
+        chartJs.Chart.plugins.register(plugin);
+    };
+    /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    BaseChartDirective.unregisterPlugin = /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    function (plugin) {
+        chartJs.Chart.plugins.unregister(plugin);
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnInit = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        this.ctx = this.element.nativeElement.getContext('2d');
+        this.refresh();
+        this.subs.push(this.themeService.colorschemesOptions.subscribe((/**
+         * @param {?} r
+         * @return {?}
+         */
+        function (r) { return _this.themeChanged(r); })));
+    };
+    /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    BaseChartDirective.prototype.themeChanged = /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    function (options) {
+        this.refresh();
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngDoCheck = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        if (!this.chart) {
+            return;
+        }
+        /** @type {?} */
+        var updateRequired = UpdateType.Default;
+        /** @type {?} */
+        var wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        if (!!this.data !== this.old.dataExists) {
+            this.propagateDataToDatasets(this.data);
+            this.old.dataExists = !!this.data;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.data && this.data.length !== this.old.dataLength) {
+            this.old.dataLength = this.data && this.data.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.datasets !== this.old.datasetsExists) {
+            this.old.datasetsExists = !!this.datasets;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.length !== this.old.datasetsLength) {
+            this.old.datasetsLength = this.datasets && this.datasets.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return x.data !== _this.old.datasetsDataObjects[i]; })).length) {
+            this.old.datasetsDataObjects = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return x.data; }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return x.data.length !== _this.old.datasetsDataLengths[i]; })).length) {
+            this.old.datasetsDataLengths = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return x.data.length; }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.colors !== this.old.colorsExists) {
+            this.old.colorsExists = !!this.colors;
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        // This smells of inefficiency, might need to revisit this
+        if (this.colors && this.colors.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return !_this.colorsEqual(x, _this.old.colors[i]); })).length) {
+            this.old.colors = this.colors.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return _this.copyColor(x); }));
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.labels !== this.old.labelsExist) {
+            this.old.labelsExist = !!this.labels;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.labels && this.labels.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return !_this.labelsEqual(x, _this.old.labels[i]); })).length) {
+            this.old.labels = this.labels.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return _this.copyLabel(x); }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.options.legend !== this.old.legendExists) {
+            this.old.legendExists = !!this.options.legend;
+            wantUpdate(UpdateType.Refresh);
+        }
+        if (this.options.legend && this.options.legend.position !== this.old.legend.position) {
+            this.old.legend.position = this.options.legend.position;
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Default:
+                break;
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+                this.refresh();
+                break;
+        }
+    };
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    BaseChartDirective.prototype.copyLabel = /**
+     * @param {?} a
+     * @return {?}
+     */
+    function (a) {
+        if (Array.isArray(a)) {
+            return tslib_1.__spread(a);
+        }
+        return a;
+    };
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    BaseChartDirective.prototype.labelsEqual = /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    function (a, b) {
+        return true
+            && Array.isArray(a) === Array.isArray(b)
+            && (Array.isArray(a) || a === b)
+            && (!Array.isArray(a) || a.length === b.length)
+            && (!Array.isArray(a) || a.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return x !== b[i]; })).length === 0);
+    };
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    BaseChartDirective.prototype.copyColor = /**
+     * @param {?} a
+     * @return {?}
+     */
+    function (a) {
+        /** @type {?} */
+        var rc = {
+            backgroundColor: a.backgroundColor,
+            borderWidth: a.borderWidth,
+            borderColor: a.borderColor,
+            borderCapStyle: a.borderCapStyle,
+            borderDash: a.borderDash,
+            borderDashOffset: a.borderDashOffset,
+            borderJoinStyle: a.borderJoinStyle,
+            pointBorderColor: a.pointBorderColor,
+            pointBackgroundColor: a.pointBackgroundColor,
+            pointBorderWidth: a.pointBorderWidth,
+            pointRadius: a.pointRadius,
+            pointHoverRadius: a.pointHoverRadius,
+            pointHitRadius: a.pointHitRadius,
+            pointHoverBackgroundColor: a.pointHoverBackgroundColor,
+            pointHoverBorderColor: a.pointHoverBorderColor,
+            pointHoverBorderWidth: a.pointHoverBorderWidth,
+            pointStyle: a.pointStyle,
+            hoverBackgroundColor: a.hoverBackgroundColor,
+            hoverBorderColor: a.hoverBorderColor,
+            hoverBorderWidth: a.hoverBorderWidth,
+        };
+        return rc;
+    };
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    BaseChartDirective.prototype.colorsEqual = /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    function (a, b) {
+        if (!a !== !b) {
+            return false;
+        }
+        return !a || true
+            && (a.backgroundColor === b.backgroundColor)
+            && (a.borderWidth === b.borderWidth)
+            && (a.borderColor === b.borderColor)
+            && (a.borderCapStyle === b.borderCapStyle)
+            && (a.borderDash === b.borderDash)
+            && (a.borderDashOffset === b.borderDashOffset)
+            && (a.borderJoinStyle === b.borderJoinStyle)
+            && (a.pointBorderColor === b.pointBorderColor)
+            && (a.pointBackgroundColor === b.pointBackgroundColor)
+            && (a.pointBorderWidth === b.pointBorderWidth)
+            && (a.pointRadius === b.pointRadius)
+            && (a.pointHoverRadius === b.pointHoverRadius)
+            && (a.pointHitRadius === b.pointHitRadius)
+            && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)
+            && (a.pointHoverBorderColor === b.pointHoverBorderColor)
+            && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)
+            && (a.pointStyle === b.pointStyle)
+            && (a.hoverBackgroundColor === b.hoverBackgroundColor)
+            && (a.hoverBorderColor === b.hoverBorderColor)
+            && (a.hoverBorderWidth === b.hoverBorderWidth);
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.updateColors = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        this.datasets.forEach((/**
+         * @param {?} elm
+         * @param {?} index
+         * @return {?}
+         */
+        function (elm, index) {
+            if (_this.colors && _this.colors[index]) {
+                Object.assign(elm, _this.colors[index]);
+            }
+            else {
+                Object.assign(elm, getColors(_this.chartType, index, elm.data.length), tslib_1.__assign({}, elm));
+            }
+        }));
+    };
+    /**
+     * @param {?} changes
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnChanges = /**
+     * @param {?} changes
+     * @return {?}
+     */
+    function (changes) {
+        /** @type {?} */
+        var updateRequired = UpdateType.Default;
+        /** @type {?} */
+        var wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        // Check if the changes are in the data or datasets or labels or legend
+        if (changes.hasOwnProperty('data') && changes.data.currentValue) {
+            this.propagateDataToDatasets(changes.data.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {
+            this.propagateDatasetsToData(changes.datasets.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('labels')) {
+            if (this.chart) {
+                this.chart.data.labels = changes.labels.currentValue;
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('legend')) {
+            if (this.chart) {
+                this.chart.config.options.legend.display = changes.legend.currentValue;
+                this.chart.generateLegend();
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('options')) {
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+            case UpdateType.Default:
+                this.refresh();
+                break;
+        }
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnDestroy = /**
+     * @return {?}
+     */
+    function () {
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        this.subs.forEach((/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) { return x.unsubscribe(); }));
+    };
+    /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    BaseChartDirective.prototype.update = /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    function (duration, lazy) {
+        if (this.chart) {
+            return this.chart.update(duration, lazy);
+        }
+    };
+    /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    BaseChartDirective.prototype.hideDataset = /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    function (index, hidden) {
+        this.chart.getDatasetMeta(index).hidden = hidden;
+        this.chart.update();
+    };
+    /**
+     * @param {?} index
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isDatasetHidden = /**
+     * @param {?} index
+     * @return {?}
+     */
+    function (index) {
+        return this.chart.getDatasetMeta(index).hidden;
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.toBase64Image = /**
+     * @return {?}
+     */
+    function () {
+        return this.chart.toBase64Image();
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getChartConfiguration = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        /** @type {?} */
+        var datasets = this.getDatasets();
+        /** @type {?} */
+        var options = Object.assign({}, this.options);
+        if (this.legend === false) {
+            options.legend = { display: false };
+        }
+        // hook for onHover and onClick events
+        options.hover = options.hover || {};
+        if (!options.hover.onHover) {
+            options.hover.onHover = (/**
+             * @param {?} event
+             * @param {?} active
+             * @return {?}
+             */
+            function (event, active) {
+                if (active && !active.length) {
+                    return;
+                }
+                _this.chartHover.emit({ event: event, active: active });
+            });
+        }
+        if (!options.onClick) {
+            options.onClick = (/**
+             * @param {?=} event
+             * @param {?=} active
+             * @return {?}
+             */
+            function (event, active) {
+                _this.chartClick.emit({ event: event, active: active });
+            });
+        }
+        /** @type {?} */
+        var mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());
+        /** @type {?} */
+        var chartConfig = {
+            type: this.chartType,
+            data: {
+                labels: this.labels || [],
+                datasets: datasets
+            },
+            plugins: this.plugins,
+            options: mergedOptions,
+        };
+        return chartConfig;
+    };
+    /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getChartBuilder = /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    function (ctx /*, data:any[], options:any*/) {
+        /** @type {?} */
+        var chartConfig = this.getChartConfiguration();
+        return new chartJs.Chart(ctx, chartConfig);
+    };
+    /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    BaseChartDirective.prototype.smartMerge = /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    function (options, overrides, level) {
+        var _this = this;
+        if (level === void 0) { level = 0; }
+        if (level === 0) {
+            options = cloneDeep(options);
+        }
+        /** @type {?} */
+        var keysToUpdate = Object.keys(overrides);
+        keysToUpdate.forEach((/**
+         * @param {?} key
+         * @return {?}
+         */
+        function (key) {
+            if (Array.isArray(overrides[key])) {
+                /** @type {?} */
+                var arrayElements = options[key];
+                if (arrayElements) {
+                    arrayElements.forEach((/**
+                     * @param {?} r
+                     * @return {?}
+                     */
+                    function (r) {
+                        _this.smartMerge(r, overrides[key][0], level + 1);
+                    }));
+                }
+            }
+            else if (typeof (overrides[key]) === 'object') {
+                if (!(key in options)) {
+                    options[key] = {};
+                }
+                _this.smartMerge(options[key], overrides[key], level + 1);
+            }
+            else {
+                options[key] = overrides[key];
+            }
+        }));
+        if (level === 0) {
+            return options;
+        }
+    };
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isMultiLineLabel = /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    function (label) {
+        return Array.isArray(label);
+    };
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    BaseChartDirective.prototype.joinLabel = /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    function (label) {
+        if (!label) {
+            return null;
+        }
+        if (this.isMultiLineLabel(label)) {
+            return label.join(' ');
+        }
+        else {
+            return label;
+        }
+    };
+    /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    BaseChartDirective.prototype.propagateDatasetsToData = /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    function (datasets) {
+        this.data = this.datasets.map((/**
+         * @param {?} r
+         * @return {?}
+         */
+        function (r) { return r.data; }));
+        if (this.chart) {
+            this.chart.data.datasets = datasets;
+        }
+        this.updateColors();
+    };
+    /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    BaseChartDirective.prototype.propagateDataToDatasets = /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    function (newDataValues) {
+        var _this = this;
+        if (this.isMultiDataSet(newDataValues)) {
+            if (this.datasets && newDataValues.length === this.datasets.length) {
+                this.datasets.forEach((/**
+                 * @param {?} dataset
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (dataset, i) {
+                    dataset.data = newDataValues[i];
+                }));
+            }
+            else {
+                this.datasets = newDataValues.map((/**
+                 * @param {?} data
+                 * @param {?} index
+                 * @return {?}
+                 */
+                function (data, index) {
+                    return { data: data, label: _this.joinLabel(_this.labels[index]) || "Label " + index };
+                }));
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+        }
+        else {
+            if (!this.datasets) {
+                this.datasets = [{ data: newDataValues }];
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+            else {
+                this.datasets[0].data = newDataValues;
+                this.datasets.splice(1); // Remove all elements but the first
+            }
+        }
+        this.updateColors();
+    };
+    /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isMultiDataSet = /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    function (data) {
+        return Array.isArray(data[0]);
+    };
+    /**
+     * @private
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getDatasets = /**
+     * @private
+     * @return {?}
+     */
+    function () {
+        if (!this.datasets && !this.data) {
+            throw new Error("ng-charts configuration error, data or datasets field are required to render chart " + this.chartType);
+        }
+        // If `datasets` is defined, use it over the `data` property.
+        if (this.datasets) {
+            this.propagateDatasetsToData(this.datasets);
+            return this.datasets;
+        }
+        if (this.data) {
+            this.propagateDataToDatasets(this.data);
+            return this.datasets;
+        }
+    };
+    /**
+     * @private
+     * @return {?}
+     */
+    BaseChartDirective.prototype.refresh = /**
+     * @private
+     * @return {?}
+     */
+    function () {
+        // if (this.options && this.options.responsive) {
+        //   setTimeout(() => this.refresh(), 50);
+        // }
+        // todo: remove this line, it is producing flickering
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        if (this.ctx) {
+            this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
+        }
+    };
+    BaseChartDirective.decorators = [
+        { type: Directive, args: [{
+                    // tslint:disable-next-line:directive-selector
+                    selector: 'canvas[baseChart]',
+                    exportAs: 'base-chart'
+                },] }
+    ];
+    /** @nocollapse */
+    BaseChartDirective.ctorParameters = function () { return [
+        { type: ElementRef },
+        { type: ThemeService }
+    ]; };
+    BaseChartDirective.propDecorators = {
+        data: [{ type: Input }],
+        datasets: [{ type: Input }],
+        labels: [{ type: Input }],
+        options: [{ type: Input }],
+        chartType: [{ type: Input }],
+        colors: [{ type: Input }],
+        legend: [{ type: Input }],
+        plugins: [{ type: Input }],
+        chartClick: [{ type: Output }],
+        chartHover: [{ type: Output }]
+    };
+    return BaseChartDirective;
+}());
+export { BaseChartDirective };
+if (false) {
+    /** @type {?} */
+    BaseChartDirective.prototype.data;
+    /** @type {?} */
+    BaseChartDirective.prototype.datasets;
+    /** @type {?} */
+    BaseChartDirective.prototype.labels;
+    /** @type {?} */
+    BaseChartDirective.prototype.options;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartType;
+    /** @type {?} */
+    BaseChartDirective.prototype.colors;
+    /** @type {?} */
+    BaseChartDirective.prototype.legend;
+    /** @type {?} */
+    BaseChartDirective.prototype.plugins;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartClick;
+    /** @type {?} */
+    BaseChartDirective.prototype.chartHover;
+    /** @type {?} */
+    BaseChartDirective.prototype.ctx;
+    /** @type {?} */
+    BaseChartDirective.prototype.chart;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.old;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.subs;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.element;
+    /**
+     * @type {?}
+     * @private
+     */
+    BaseChartDirective.prototype.themeService;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZzItY2hhcnRzLyIsInNvdXJjZXMiOlsibGliL2Jhc2UtY2hhcnQuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFJVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixVQUFVLEdBR1gsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLE9BQU8sTUFBTSxVQUFVLENBQUM7QUFDcEMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUV6QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFFBQVEsQ0FBQzs7OztBQVduQyx1QkFlQzs7O0lBZEMsOEJBQW9COztJQUNwQiw4QkFBbUI7O0lBQ25CLGtDQUF3Qjs7SUFDeEIsa0NBQXVCOztJQUN2Qix1Q0FBMkI7O0lBQzNCLHVDQUE4Qjs7SUFDOUIsZ0NBQXNCOztJQUN0QiwwQkFBZ0I7O0lBQ2hCLCtCQUFxQjs7SUFDckIsMEJBQWdCOztJQUNoQixnQ0FBc0I7O0lBQ3RCLDBCQUVFOzs7O0lBSUYsVUFBTztJQUNQLFNBQU07SUFDTixVQUFPOzs7OztBQUdUO0lBaURFLDRCQUNVLE9BQW1CLEVBQ25CLFlBQTBCO1FBRDFCLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFDbkIsaUJBQVksR0FBWixZQUFZLENBQWM7UUExQ3BCLFlBQU8sR0FBeUIsRUFBRSxDQUFDO1FBTWxDLGVBQVUsR0FBd0QsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNyRixlQUFVLEdBQXNELElBQUksWUFBWSxFQUFFLENBQUM7UUFLNUYsUUFBRyxHQUFhO1lBQ3RCLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFVBQVUsRUFBRSxDQUFDO1lBQ2IsY0FBYyxFQUFFLEtBQUs7WUFDckIsY0FBYyxFQUFFLENBQUM7WUFD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QUVELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFdEMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCwwREFBMEQ7UUFDMUQsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTs7Ozs7UUFBQyxVQUFDLENBQUMsRUFBRSxDQUFDLElBQUssT0FBQSxDQUFDLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLEtBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQXhDLENBQXdDLEVBQUMsQ0FBQyxNQUFNLEVBQUU7WUFDaEcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHOzs7O1lBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFqQixDQUFpQixFQUFDLENBQUM7WUFFMUQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBRXBCLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFO1lBQzFDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRXJDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNOzs7OztRQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBeEMsQ0FBd0MsRUFBQyxDQUFDLE1BQU0sRUFBRTtZQUNoRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7Ozs7WUFBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQWpCLENBQWlCLEVBQUMsQ0FBQztZQUUxRCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBRTlDLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDaEM7UUFFRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7WUFDcEYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUV4RCxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2hDO1FBRUQsUUFBUSxtQkFBQSxjQUFjLEVBQWMsRUFBRTtZQUNwQyxLQUFLLFVBQVUsQ0FBQyxPQUFPO2dCQUNyQixNQUFNO1lBQ1IsS0FBSyxVQUFVLENBQUMsTUFBTTtnQkFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLE1BQU07WUFDUixLQUFLLFVBQVUsQ0FBQyxPQUFPO2dCQUNyQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ2YsTUFBTTtTQUNUO0lBQ0gsQ0FBQzs7Ozs7SUFFRCxzQ0FBUzs7OztJQUFULFVBQVUsQ0FBUTtRQUNoQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDcEIsd0JBQVcsQ0FBQyxFQUFFO1NBQ2Y7UUFDRCxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7Ozs7OztJQUVELHdDQUFXOzs7OztJQUFYLFVBQVksQ0FBUSxFQUFFLENBQVE7UUFDNUIsT0FBTyxJQUFJO2VBQ04sS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztlQUNyQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztlQUM3QixDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUM7ZUFDNUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU07Ozs7O1lBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBVixDQUFVLEVBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQ3BFO0lBQ0wsQ0FBQzs7Ozs7SUFFRCxzQ0FBUzs7OztJQUFULFVBQVUsQ0FBUTs7WUFDVixFQUFFLEdBQVU7WUFDaEIsZUFBZSxFQUFFLENBQUMsQ0FBQyxlQUFlO1lBQ2xDLFdBQVcsRUFBRSxDQUFDLENBQUMsV0FBVztZQUMxQixXQUFXLEVBQUUsQ0FBQyxDQUFDLFdBQVc7WUFDMUIsY0FBYyxFQUFFLENBQUMsQ0FBQyxjQUFjO1lBQ2hDLFVBQVUsRUFBRSxDQUFDLENBQUMsVUFBVTtZQUN4QixnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1lBQ3BDLGVBQWUsRUFBRSxDQUFDLENBQUMsZUFBZTtZQUNsQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1lBQ3BDLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxvQkFBb0I7WUFDNUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLFdBQVc7WUFDMUIsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLGNBQWM7WUFDaEMseUJBQXlCLEVBQUUsQ0FBQyxDQUFDLHlCQUF5QjtZQUN0RCxxQkFBcUIsRUFBRSxDQUFDLENBQUMscUJBQXFCO1lBQzlDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxxQkFBcUI7WUFDOUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxVQUFVO1lBQ3hCLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxvQkFBb0I7WUFDNUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLGdCQUFnQjtZQUNwQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsZ0JBQWdCO1NBQ3JDO1FBRUQsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDOzs7Ozs7SUFFRCx3Q0FBVzs7Ozs7SUFBWCxVQUFZLENBQVEsRUFBRSxDQUFRO1FBQzVCLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDYixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxDQUFDLENBQUMsSUFBSSxJQUFJO2VBQ1osQ0FBQyxDQUFDLENBQUMsZUFBZSxLQUFLLENBQUMsQ0FBQyxlQUFlLENBQUM7ZUFDekMsQ0FBQyxDQUFDLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUM7ZUFDakMsQ0FBQyxDQUFDLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUM7ZUFDakMsQ0FBQyxDQUFDLENBQUMsY0FBYyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUM7ZUFDdkMsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUM7ZUFDL0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLGVBQWUsS0FBSyxDQUFDLENBQUMsZUFBZSxDQUFDO2VBQ3pDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztlQUMzQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsS0FBSyxDQUFDLENBQUMsb0JBQW9CLENBQUM7ZUFDbkQsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLFdBQVcsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDO2VBQ2pDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztlQUMzQyxDQUFDLENBQUMsQ0FBQyxjQUFjLEtBQUssQ0FBQyxDQUFDLGNBQWMsQ0FBQztlQUN2QyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsS0FBSyxDQUFDLENBQUMseUJBQXlCLENBQUM7ZUFDN0QsQ0FBQyxDQUFDLENBQUMscUJBQXFCLEtBQUssQ0FBQyxDQUFDLHFCQUFxQixDQUFDO2VBQ3JELENBQUMsQ0FBQyxDQUFDLHFCQUFxQixLQUFLLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQztlQUNyRCxDQUFDLENBQUMsQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FBQztlQUMvQixDQUFDLENBQUMsQ0FBQyxvQkFBb0IsS0FBSyxDQUFDLENBQUMsb0JBQW9CLENBQUM7ZUFDbkQsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLGdCQUFnQixDQUFDO2VBQzNDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUM3QztJQUNMLENBQUM7Ozs7SUFFRCx5Q0FBWTs7O0lBQVo7UUFBQSxpQkFRQztRQVBDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTzs7Ozs7UUFBQyxVQUFDLEdBQUcsRUFBRSxLQUFLO1lBQy9CLElBQUksS0FBSSxDQUFDLE1BQU0sSUFBSSxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNyQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDeEM7aUJBQU07Z0JBQ0wsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEtBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLHVCQUFPLEdBQUcsRUFBRyxDQUFDO2FBQ25GO1FBQ0gsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7OztJQUVNLHdDQUFXOzs7O0lBQWxCLFVBQW1CLE9BQXNCOztZQUNuQyxjQUFjLEdBQUcsVUFBVSxDQUFDLE9BQU87O1lBQ2pDLFVBQVU7Ozs7UUFBRyxVQUFDLENBQWE7WUFDL0IsY0FBYyxHQUFHLENBQUMsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDO1FBQzNELENBQUMsQ0FBQTtRQUVELHVFQUF1RTtRQUV2RSxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDL0QsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7WUFFeEQsVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvQjtRQUVELElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRTtZQUN2RSxJQUFJLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUU1RCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7YUFDdEQ7WUFFRCxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQy9CO1FBRUQsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztnQkFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUM3QjtZQUVELFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDL0I7UUFFRCxJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDckMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNoQztRQUVELFFBQVEsbUJBQUEsY0FBYyxFQUFjLEVBQUU7WUFDcEMsS0FBSyxVQUFVLENBQUMsTUFBTTtnQkFDcEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLE1BQU07WUFDUixLQUFLLFVBQVUsQ0FBQyxPQUFPLENBQUM7WUFDeEIsS0FBSyxVQUFVLENBQUMsT0FBTztnQkFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNmLE1BQU07U0FDVDtJQUNILENBQUM7Ozs7SUFFTSx3Q0FBVzs7O0lBQWxCO1FBQ0UsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPOzs7O1FBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQWYsQ0FBZSxFQUFDLENBQUM7SUFDMUMsQ0FBQzs7Ozs7O0lBRU0sbUNBQU07Ozs7O0lBQWIsVUFBYyxRQUFjLEVBQUUsSUFBVTtRQUN0QyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMxQztJQUNILENBQUM7Ozs7OztJQUVNLHdDQUFXOzs7OztJQUFsQixVQUFtQixLQUFhLEVBQUUsTUFBZTtRQUMvQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7Ozs7SUFFTSw0Q0FBZTs7OztJQUF0QixVQUF1QixLQUFhO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2pELENBQUM7Ozs7SUFFTSwwQ0FBYTs7O0lBQXBCO1FBQ0UsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3BDLENBQUM7Ozs7SUFFTSxrREFBcUI7OztJQUE1QjtRQUFBLGlCQXFDQzs7WUFwQ08sUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7O1lBRTdCLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQy9DLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxLQUFLLEVBQUU7WUFDekIsT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQztTQUNyQztRQUNELHNDQUFzQztRQUN0QyxPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRTtZQUMxQixPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU87Ozs7O1lBQUcsVUFBQyxLQUFpQixFQUFFLE1BQVk7Z0JBQ3RELElBQUksTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtvQkFDNUIsT0FBTztpQkFDUjtnQkFDRCxLQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssT0FBQSxFQUFFLE1BQU0sUUFBQSxFQUFFLENBQUMsQ0FBQztZQUMxQyxDQUFDLENBQUEsQ0FBQztTQUNIO1FBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFDcEIsT0FBTyxDQUFDLE9BQU87Ozs7O1lBQUcsVUFBQyxLQUFrQixFQUFFLE1BQWE7Z0JBQ2xELEtBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxPQUFBLEVBQUUsTUFBTSxRQUFBLEVBQUUsQ0FBQyxDQUFDO1lBQzFDLENBQUMsQ0FBQSxDQUFDO1NBQ0g7O1lBRUssYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQXNCLEVBQUUsQ0FBQzs7WUFFcEYsV0FBVyxHQUErQjtZQUM5QyxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFDcEIsSUFBSSxFQUFFO2dCQUNKLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUU7Z0JBQ3pCLFFBQVEsVUFBQTthQUNUO1lBQ0QsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLE9BQU8sRUFBRSxhQUFhO1NBQ3ZCO1FBRUQsT0FBTyxXQUFXLENBQUM7SUFDckIsQ0FBQzs7Ozs7SUFFTSw0Q0FBZTs7OztJQUF0QixVQUF1QixHQUFXLENBQUEsNkJBQTZCOztZQUN2RCxXQUFXLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFO1FBQ2hELE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM3QyxDQUFDOzs7Ozs7O0lBRUQsdUNBQVU7Ozs7OztJQUFWLFVBQVcsT0FBWSxFQUFFLFNBQWMsRUFBRSxLQUFpQjtRQUExRCxpQkF5QkM7UUF6QndDLHNCQUFBLEVBQUEsU0FBaUI7UUFDeEQsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO1lBQ2YsT0FBTyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5Qjs7WUFDSyxZQUFZLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDM0MsWUFBWSxDQUFDLE9BQU87Ozs7UUFBQyxVQUFBLEdBQUc7WUFDdEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFOztvQkFDM0IsYUFBYSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7Z0JBQ2xDLElBQUksYUFBYSxFQUFFO29CQUNqQixhQUFhLENBQUMsT0FBTzs7OztvQkFBQyxVQUFBLENBQUM7d0JBQ3JCLEtBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELENBQUMsRUFBQyxDQUFDO2lCQUNKO2FBQ0Y7aUJBQU0sSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUMvQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLEVBQUU7b0JBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7aUJBQ25CO2dCQUNELEtBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDMUQ7aUJBQU07Z0JBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUMvQjtRQUNILENBQUMsRUFBQyxDQUFDO1FBQ0gsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO1lBQ2YsT0FBTyxPQUFPLENBQUM7U0FDaEI7SUFDSCxDQUFDOzs7Ozs7SUFFTyw2Q0FBZ0I7Ozs7O0lBQXhCLFVBQXlCLEtBQVk7UUFDbkMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlCLENBQUM7Ozs7OztJQUVPLHNDQUFTOzs7OztJQUFqQixVQUFrQixLQUFZO1FBQzVCLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDVixPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDaEMsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3hCO2FBQU07WUFDTCxPQUFPLEtBQUssQ0FBQztTQUNkO0lBQ0gsQ0FBQzs7Ozs7O0lBRU8sb0RBQXVCOzs7OztJQUEvQixVQUFnQyxRQUFpQztRQUMvRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRzs7OztRQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLElBQUksRUFBTixDQUFNLEVBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQ3JDO1FBQ0QsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RCLENBQUM7Ozs7OztJQUVPLG9EQUF1Qjs7Ozs7SUFBL0IsVUFBZ0MsYUFBbUM7UUFBbkUsaUJBMEJDO1FBekJDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUN0QyxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksYUFBYSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtnQkFDbEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPOzs7OztnQkFBQyxVQUFDLE9BQU8sRUFBRSxDQUFTO29CQUN2QyxPQUFPLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbEMsQ0FBQyxFQUFDLENBQUM7YUFDSjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQyxHQUFHOzs7OztnQkFBQyxVQUFDLElBQWMsRUFBRSxLQUFhO29CQUM5RCxPQUFPLEVBQUUsSUFBSSxNQUFBLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxTQUFTLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLFdBQVMsS0FBTyxFQUFFLENBQUM7Z0JBQ2pGLENBQUMsRUFBQyxDQUFDO2dCQUNILElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztpQkFDMUM7YUFDRjtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7Z0JBQzFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztpQkFDMUM7YUFDRjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsb0NBQW9DO2FBQzlEO1NBQ0Y7UUFDRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQzs7Ozs7O0lBRU8sMkNBQWM7Ozs7O0lBQXRCLFVBQXVCLElBQTBCO1FBQy9DLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoQyxDQUFDOzs7OztJQUVPLHdDQUFXOzs7O0lBQW5CO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQUMsd0ZBQXNGLElBQUksQ0FBQyxTQUFXLENBQUMsQ0FBQztTQUN6SDtRQUVELDZEQUE2RDtRQUM3RCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7U0FDdEI7UUFFRCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDYixJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztTQUN0QjtJQUNILENBQUM7Ozs7O0lBRU8sb0NBQU87Ozs7SUFBZjtRQUNFLGlEQUFpRDtRQUNqRCwwQ0FBMEM7UUFDMUMsSUFBSTtRQUVKLHFEQUFxRDtRQUNyRCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUM7U0FDckI7UUFDRCxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQSx3QkFBd0IsQ0FBQyxDQUFDO1NBQ3JFO0lBQ0gsQ0FBQzs7Z0JBaGVGLFNBQVMsU0FBQzs7b0JBRVQsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsUUFBUSxFQUFFLFlBQVk7aUJBQ3ZCOzs7O2dCQS9DQyxVQUFVO2dCQU9ILFlBQVk7Ozt1QkEwQ2xCLEtBQUs7MkJBQ0wsS0FBSzt5QkFDTCxLQUFLOzBCQUNMLEtBQUs7NEJBQ0wsS0FBSzt5QkFDTCxLQUFLO3lCQUNMLEtBQUs7MEJBQ0wsS0FBSzs2QkFFTCxNQUFNOzZCQUNOLE1BQU07O0lBaWRULHlCQUFDO0NBQUEsQUFqZUQsSUFpZUM7U0E1ZFksa0JBQWtCOzs7SUFDN0Isa0NBQTJDOztJQUMzQyxzQ0FBa0Q7O0lBQ2xELG9DQUFnQzs7SUFDaEMscUNBQW1EOztJQUNuRCx1Q0FBNkM7O0lBQzdDLG9DQUFnQzs7SUFDaEMsb0NBQWdDOztJQUNoQyxxQ0FBcUU7O0lBRXJFLHdDQUFzRzs7SUFDdEcsd0NBQW9HOztJQUVwRyxpQ0FBbUI7O0lBQ25CLG1DQUFvQjs7Ozs7SUFFcEIsaUNBYUU7Ozs7O0lBRUYsa0NBQWtDOzs7OztJQWNoQyxxQ0FBMkI7Ozs7O0lBQzNCLDBDQUFrQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLFxyXG4gIE9uRGVzdHJveSxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25Jbml0LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgRWxlbWVudFJlZixcclxuICBTaW1wbGVDaGFuZ2VzLFxyXG4gIERvQ2hlY2ssXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCAqIGFzIGNoYXJ0SnMgZnJvbSAnY2hhcnQuanMnO1xyXG5pbXBvcnQgeyBnZXRDb2xvcnMgfSBmcm9tICcuL2dldC1jb2xvcnMnO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4vY29sb3InO1xyXG5pbXBvcnQgeyBUaGVtZVNlcnZpY2UgfSBmcm9tICcuL3RoZW1lLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCB0eXBlIFNpbmdsZURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSk7XHJcbmV4cG9ydCB0eXBlIE11bHRpRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKVtdO1xyXG5leHBvcnQgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcblxyXG5leHBvcnQgdHlwZSBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyA9IGNoYXJ0SnMuUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbiAmIGNoYXJ0SnMuUGx1Z2luU2VydmljZVJlZ2lzdHJhdGlvbk9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IHR5cGUgTXVsdGlMaW5lTGFiZWwgPSBzdHJpbmdbXTtcclxuZXhwb3J0IHR5cGUgTGFiZWwgPSBTaW5nbGVMaW5lTGFiZWwgfCBNdWx0aUxpbmVMYWJlbDtcclxuXHJcbmludGVyZmFjZSBPbGRTdGF0ZSB7XHJcbiAgZGF0YUV4aXN0czogYm9vbGVhbjtcclxuICBkYXRhTGVuZ3RoOiBudW1iZXI7XHJcbiAgZGF0YXNldHNFeGlzdHM6IGJvb2xlYW47XHJcbiAgZGF0YXNldHNMZW5ndGg6IG51bWJlcjtcclxuICBkYXRhc2V0c0RhdGFPYmplY3RzOiBhbnlbXTtcclxuICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBudW1iZXJbXTtcclxuICBjb2xvcnNFeGlzdHM6IGJvb2xlYW47XHJcbiAgY29sb3JzOiBDb2xvcltdO1xyXG4gIGxhYmVsc0V4aXN0OiBib29sZWFuO1xyXG4gIGxhYmVsczogTGFiZWxbXTtcclxuICBsZWdlbmRFeGlzdHM6IGJvb2xlYW47XHJcbiAgbGVnZW5kOiB7XHJcbiAgICBwb3NpdGlvbj86IHN0cmluZztcclxuICB9O1xyXG59XHJcblxyXG5lbnVtIFVwZGF0ZVR5cGUge1xyXG4gIERlZmF1bHQsXHJcbiAgVXBkYXRlLFxyXG4gIFJlZnJlc2hcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxyXG4gIHNlbGVjdG9yOiAnY2FudmFzW2Jhc2VDaGFydF0nLFxyXG4gIGV4cG9ydEFzOiAnYmFzZS1jaGFydCdcclxufSlcclxuZXhwb3J0IGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgQElucHV0KCkgcHVibGljIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW107XHJcbiAgQElucHV0KCkgcHVibGljIGxhYmVsczogTGFiZWxbXTtcclxuICBASW5wdXQoKSBwdWJsaWMgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnMgPSB7fTtcclxuICBASW5wdXQoKSBwdWJsaWMgY2hhcnRUeXBlOiBjaGFydEpzLkNoYXJ0VHlwZTtcclxuICBASW5wdXQoKSBwdWJsaWMgY29sb3JzOiBDb2xvcltdO1xyXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWdlbmQ6IGJvb2xlYW47XHJcbiAgQElucHV0KCkgcHVibGljIHBsdWdpbnM6IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zW107XHJcblxyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRDbGljazogRXZlbnRFbWl0dGVyPHsgZXZlbnQ/OiBNb3VzZUV2ZW50LCBhY3RpdmU/OiB7fVtdIH0+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gIEBPdXRwdXQoKSBwdWJsaWMgY2hhcnRIb3ZlcjogRXZlbnRFbWl0dGVyPHsgZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHVibGljIGN0eDogc3RyaW5nO1xyXG4gIHB1YmxpYyBjaGFydDogQ2hhcnQ7XHJcblxyXG4gIHByaXZhdGUgb2xkOiBPbGRTdGF0ZSA9IHtcclxuICAgIGRhdGFFeGlzdHM6IGZhbHNlLFxyXG4gICAgZGF0YUxlbmd0aDogMCxcclxuICAgIGRhdGFzZXRzRXhpc3RzOiBmYWxzZSxcclxuICAgIGRhdGFzZXRzTGVuZ3RoOiAwLFxyXG4gICAgZGF0YXNldHNEYXRhT2JqZWN0czogW10sXHJcbiAgICBkYXRhc2V0c0RhdGFMZW5ndGhzOiBbXSxcclxuICAgIGNvbG9yc0V4aXN0czogZmFsc2UsXHJcbiAgICBjb2xvcnM6IFtdLFxyXG4gICAgbGFiZWxzRXhpc3Q6IGZhbHNlLFxyXG4gICAgbGFiZWxzOiBbXSxcclxuICAgIGxlZ2VuZEV4aXN0czogZmFsc2UsXHJcbiAgICBsZWdlbmQ6IHt9LFxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3ViczogU3Vic2NyaXB0aW9uW10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgYSBwbHVnaW4uXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMucmVnaXN0ZXIocGx1Z2luKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgdW5yZWdpc3RlclBsdWdpbihwbHVnaW46IFBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb25BbmRPcHRpb25zKSB7XHJcbiAgICBjaGFydEpzLkNoYXJ0LnBsdWdpbnMudW5yZWdpc3RlcihwbHVnaW4pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKFxyXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgcHJpdmF0ZSB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSxcclxuICApIHsgfVxyXG5cclxuICBwdWJsaWMgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmN0eCA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIHRoaXMuc3Vicy5wdXNoKHRoaXMudGhlbWVTZXJ2aWNlLmNvbG9yc2NoZW1lc09wdGlvbnMuc3Vic2NyaWJlKHIgPT4gdGhpcy50aGVtZUNoYW5nZWQocikpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdGhlbWVDaGFuZ2VkKG9wdGlvbnM6IHt9KSB7XHJcbiAgICB0aGlzLnJlZnJlc2goKTtcclxuICB9XHJcblxyXG4gIG5nRG9DaGVjaygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5jaGFydCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgdXBkYXRlUmVxdWlyZWQgPSBVcGRhdGVUeXBlLkRlZmF1bHQ7XHJcbiAgICBjb25zdCB3YW50VXBkYXRlID0gKHg6IFVwZGF0ZVR5cGUpID0+IHtcclxuICAgICAgdXBkYXRlUmVxdWlyZWQgPSB4ID4gdXBkYXRlUmVxdWlyZWQgPyB4IDogdXBkYXRlUmVxdWlyZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghIXRoaXMuZGF0YSAhPT0gdGhpcy5vbGQuZGF0YUV4aXN0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzKHRoaXMuZGF0YSk7XHJcblxyXG4gICAgICB0aGlzLm9sZC5kYXRhRXhpc3RzID0gISF0aGlzLmRhdGE7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFMZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuZGF0YUxlbmd0aCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoIHx8IDA7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISF0aGlzLmRhdGFzZXRzICE9PSB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cykge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0V4aXN0cyA9ICEhdGhpcy5kYXRhc2V0cztcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMubGVuZ3RoICE9PSB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0xlbmd0aCA9IHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5sZW5ndGggfHwgMDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIHRoaXMuZGF0YXNldHMuZmlsdGVyKCh4LCBpKSA9PiB4LmRhdGEgIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YU9iamVjdHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFPYmplY3RzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuZGF0YXNldHMgJiYgdGhpcy5kYXRhc2V0cy5maWx0ZXIoKHgsIGkpID0+IHguZGF0YS5sZW5ndGggIT09IHRoaXMub2xkLmRhdGFzZXRzRGF0YUxlbmd0aHNbaV0pLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLm9sZC5kYXRhc2V0c0RhdGFMZW5ndGhzID0gdGhpcy5kYXRhc2V0cy5tYXAoeCA9PiB4LmRhdGEubGVuZ3RoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMuY29sb3JzICE9PSB0aGlzLm9sZC5jb2xvcnNFeGlzdHMpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzRXhpc3RzID0gISF0aGlzLmNvbG9ycztcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlQ29sb3JzKCk7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGlzIHNtZWxscyBvZiBpbmVmZmljaWVuY3ksIG1pZ2h0IG5lZWQgdG8gcmV2aXNpdCB0aGlzXHJcbiAgICBpZiAodGhpcy5jb2xvcnMgJiYgdGhpcy5jb2xvcnMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5jb2xvcnNFcXVhbCh4LCB0aGlzLm9sZC5jb2xvcnNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQuY29sb3JzID0gdGhpcy5jb2xvcnMubWFwKHggPT4gdGhpcy5jb3B5Q29sb3IoeCkpO1xyXG5cclxuICAgICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghIXRoaXMubGFiZWxzICE9PSB0aGlzLm9sZC5sYWJlbHNFeGlzdCkge1xyXG4gICAgICB0aGlzLm9sZC5sYWJlbHNFeGlzdCA9ICEhdGhpcy5sYWJlbHM7XHJcblxyXG4gICAgICB3YW50VXBkYXRlKFVwZGF0ZVR5cGUuVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5sYWJlbHMgJiYgdGhpcy5sYWJlbHMuZmlsdGVyKCh4LCBpKSA9PiAhdGhpcy5sYWJlbHNFcXVhbCh4LCB0aGlzLm9sZC5sYWJlbHNbaV0pKS5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vbGQubGFiZWxzID0gdGhpcy5sYWJlbHMubWFwKHggPT4gdGhpcy5jb3B5TGFiZWwoeCkpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEhdGhpcy5vcHRpb25zLmxlZ2VuZCAhPT0gdGhpcy5vbGQubGVnZW5kRXhpc3RzKSB7XHJcbiAgICAgIHRoaXMub2xkLmxlZ2VuZEV4aXN0cyA9ICEhdGhpcy5vcHRpb25zLmxlZ2VuZDtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmxlZ2VuZCAmJiB0aGlzLm9wdGlvbnMubGVnZW5kLnBvc2l0aW9uICE9PSB0aGlzLm9sZC5sZWdlbmQucG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5vbGQubGVnZW5kLnBvc2l0aW9uID0gdGhpcy5vcHRpb25zLmxlZ2VuZC5wb3NpdGlvbjtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5SZWZyZXNoKTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHVwZGF0ZVJlcXVpcmVkIGFzIFVwZGF0ZVR5cGUpIHtcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLkRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5VcGRhdGU6XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBVcGRhdGVUeXBlLlJlZnJlc2g6XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb3B5TGFiZWwoYTogTGFiZWwpOiBMYWJlbCB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xyXG4gICAgICByZXR1cm4gWy4uLmFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG5cclxuICBsYWJlbHNFcXVhbChhOiBMYWJlbCwgYjogTGFiZWwpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgICAgICYmIEFycmF5LmlzQXJyYXkoYSkgPT09IEFycmF5LmlzQXJyYXkoYilcclxuICAgICAgJiYgKEFycmF5LmlzQXJyYXkoYSkgfHwgYSA9PT0gYilcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSBiLmxlbmd0aClcclxuICAgICAgJiYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEuZmlsdGVyKCh4LCBpKSA9PiB4ICE9PSBiW2ldKS5sZW5ndGggPT09IDApXHJcbiAgICAgIDtcclxuICB9XHJcblxyXG4gIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yIHtcclxuICAgIGNvbnN0IHJjOiBDb2xvciA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBhLmJhY2tncm91bmRDb2xvcixcclxuICAgICAgYm9yZGVyV2lkdGg6IGEuYm9yZGVyV2lkdGgsXHJcbiAgICAgIGJvcmRlckNvbG9yOiBhLmJvcmRlckNvbG9yLFxyXG4gICAgICBib3JkZXJDYXBTdHlsZTogYS5ib3JkZXJDYXBTdHlsZSxcclxuICAgICAgYm9yZGVyRGFzaDogYS5ib3JkZXJEYXNoLFxyXG4gICAgICBib3JkZXJEYXNoT2Zmc2V0OiBhLmJvcmRlckRhc2hPZmZzZXQsXHJcbiAgICAgIGJvcmRlckpvaW5TdHlsZTogYS5ib3JkZXJKb2luU3R5bGUsXHJcbiAgICAgIHBvaW50Qm9yZGVyQ29sb3I6IGEucG9pbnRCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgIHBvaW50Qm9yZGVyV2lkdGg6IGEucG9pbnRCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRSYWRpdXM6IGEucG9pbnRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJSYWRpdXM6IGEucG9pbnRIb3ZlclJhZGl1cyxcclxuICAgICAgcG9pbnRIaXRSYWRpdXM6IGEucG9pbnRIaXRSYWRpdXMsXHJcbiAgICAgIHBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3I6IGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlckNvbG9yOiBhLnBvaW50SG92ZXJCb3JkZXJDb2xvcixcclxuICAgICAgcG9pbnRIb3ZlckJvcmRlcldpZHRoOiBhLnBvaW50SG92ZXJCb3JkZXJXaWR0aCxcclxuICAgICAgcG9pbnRTdHlsZTogYS5wb2ludFN0eWxlLFxyXG4gICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogYS5ob3ZlckJhY2tncm91bmRDb2xvcixcclxuICAgICAgaG92ZXJCb3JkZXJDb2xvcjogYS5ob3ZlckJvcmRlckNvbG9yLFxyXG4gICAgICBob3ZlckJvcmRlcldpZHRoOiBhLmhvdmVyQm9yZGVyV2lkdGgsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiByYztcclxuICB9XHJcblxyXG4gIGNvbG9yc0VxdWFsKGE6IENvbG9yLCBiOiBDb2xvcikge1xyXG4gICAgaWYgKCFhICE9PSAhYikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gIWEgfHwgdHJ1ZVxyXG4gICAgICAmJiAoYS5iYWNrZ3JvdW5kQ29sb3IgPT09IGIuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ib3JkZXJXaWR0aCA9PT0gYi5ib3JkZXJXaWR0aClcclxuICAgICAgJiYgKGEuYm9yZGVyQ29sb3IgPT09IGIuYm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmJvcmRlckNhcFN0eWxlID09PSBiLmJvcmRlckNhcFN0eWxlKVxyXG4gICAgICAmJiAoYS5ib3JkZXJEYXNoID09PSBiLmJvcmRlckRhc2gpXHJcbiAgICAgICYmIChhLmJvcmRlckRhc2hPZmZzZXQgPT09IGIuYm9yZGVyRGFzaE9mZnNldClcclxuICAgICAgJiYgKGEuYm9yZGVySm9pblN0eWxlID09PSBiLmJvcmRlckpvaW5TdHlsZSlcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJDb2xvciA9PT0gYi5wb2ludEJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEJhY2tncm91bmRDb2xvcilcclxuICAgICAgJiYgKGEucG9pbnRCb3JkZXJXaWR0aCA9PT0gYi5wb2ludEJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFJhZGl1cyA9PT0gYi5wb2ludFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlclJhZGl1cyA9PT0gYi5wb2ludEhvdmVyUmFkaXVzKVxyXG4gICAgICAmJiAoYS5wb2ludEhpdFJhZGl1cyA9PT0gYi5wb2ludEhpdFJhZGl1cylcclxuICAgICAgJiYgKGEucG9pbnRIb3ZlckJhY2tncm91bmRDb2xvciA9PT0gYi5wb2ludEhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyQ29sb3IgPT09IGIucG9pbnRIb3ZlckJvcmRlckNvbG9yKVxyXG4gICAgICAmJiAoYS5wb2ludEhvdmVyQm9yZGVyV2lkdGggPT09IGIucG9pbnRIb3ZlckJvcmRlcldpZHRoKVxyXG4gICAgICAmJiAoYS5wb2ludFN0eWxlID09PSBiLnBvaW50U3R5bGUpXHJcbiAgICAgICYmIChhLmhvdmVyQmFja2dyb3VuZENvbG9yID09PSBiLmhvdmVyQmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAmJiAoYS5ob3ZlckJvcmRlckNvbG9yID09PSBiLmhvdmVyQm9yZGVyQ29sb3IpXHJcbiAgICAgICYmIChhLmhvdmVyQm9yZGVyV2lkdGggPT09IGIuaG92ZXJCb3JkZXJXaWR0aClcclxuICAgICAgO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ29sb3JzKCkge1xyXG4gICAgdGhpcy5kYXRhc2V0cy5mb3JFYWNoKChlbG0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmNvbG9ycyAmJiB0aGlzLmNvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgdGhpcy5jb2xvcnNbaW5kZXhdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVsbSwgZ2V0Q29sb3JzKHRoaXMuY2hhcnRUeXBlLCBpbmRleCwgZWxtLmRhdGEubGVuZ3RoKSwgeyAuLi5lbG0gfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcclxuICAgIGxldCB1cGRhdGVSZXF1aXJlZCA9IFVwZGF0ZVR5cGUuRGVmYXVsdDtcclxuICAgIGNvbnN0IHdhbnRVcGRhdGUgPSAoeDogVXBkYXRlVHlwZSkgPT4ge1xyXG4gICAgICB1cGRhdGVSZXF1aXJlZCA9IHggPiB1cGRhdGVSZXF1aXJlZCA/IHggOiB1cGRhdGVSZXF1aXJlZDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5nZXMgYXJlIGluIHRoZSBkYXRhIG9yIGRhdGFzZXRzIG9yIGxhYmVscyBvciBsZWdlbmRcclxuXHJcbiAgICBpZiAoY2hhbmdlcy5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpICYmIGNoYW5nZXMuZGF0YS5jdXJyZW50VmFsdWUpIHtcclxuICAgICAgdGhpcy5wcm9wYWdhdGVEYXRhVG9EYXRhc2V0cyhjaGFuZ2VzLmRhdGEuY3VycmVudFZhbHVlKTtcclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdkYXRhc2V0cycpICYmIGNoYW5nZXMuZGF0YXNldHMuY3VycmVudFZhbHVlKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YXNldHNUb0RhdGEoY2hhbmdlcy5kYXRhc2V0cy5jdXJyZW50VmFsdWUpO1xyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xhYmVscycpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5kYXRhLmxhYmVscyA9IGNoYW5nZXMubGFiZWxzLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoYW5nZXMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgdGhpcy5jaGFydC5jb25maWcub3B0aW9ucy5sZWdlbmQuZGlzcGxheSA9IGNoYW5nZXMubGVnZW5kLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICB0aGlzLmNoYXJ0LmdlbmVyYXRlTGVnZW5kKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdhbnRVcGRhdGUoVXBkYXRlVHlwZS5VcGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KCdvcHRpb25zJykpIHtcclxuICAgICAgd2FudFVwZGF0ZShVcGRhdGVUeXBlLlJlZnJlc2gpO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAodXBkYXRlUmVxdWlyZWQgYXMgVXBkYXRlVHlwZSkge1xyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuVXBkYXRlOlxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgVXBkYXRlVHlwZS5SZWZyZXNoOlxyXG4gICAgICBjYXNlIFVwZGF0ZVR5cGUuRGVmYXVsdDpcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmNoYXJ0ID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdWJzLmZvckVhY2goeCA9PiB4LnVuc3Vic2NyaWJlKCkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkdXJhdGlvbj86IGFueSwgbGF6eT86IGFueSkge1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQudXBkYXRlKGR1cmF0aW9uLCBsYXp5KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpLmhpZGRlbiA9IGhpZGRlbjtcclxuICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGluZGV4KS5oaWRkZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hhcnQudG9CYXNlNjRJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0Q29uZmlndXJhdGlvbigpOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiB7XHJcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZ2V0RGF0YXNldHMoKTtcclxuXHJcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgIGlmICh0aGlzLmxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgb3B0aW9ucy5sZWdlbmQgPSB7IGRpc3BsYXk6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgICAvLyBob29rIGZvciBvbkhvdmVyIGFuZCBvbkNsaWNrIGV2ZW50c1xyXG4gICAgb3B0aW9ucy5ob3ZlciA9IG9wdGlvbnMuaG92ZXIgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMuaG92ZXIub25Ib3Zlcikge1xyXG4gICAgICBvcHRpb25zLmhvdmVyLm9uSG92ZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQsIGFjdGl2ZToge31bXSkgPT4ge1xyXG4gICAgICAgIGlmIChhY3RpdmUgJiYgIWFjdGl2ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFydEhvdmVyLmVtaXQoeyBldmVudCwgYWN0aXZlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5vbkNsaWNrKSB7XHJcbiAgICAgIG9wdGlvbnMub25DbGljayA9IChldmVudD86IE1vdXNlRXZlbnQsIGFjdGl2ZT86IHt9W10pID0+IHtcclxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2suZW1pdCh7IGV2ZW50LCBhY3RpdmUgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHRoaXMuc21hcnRNZXJnZShvcHRpb25zLCB0aGlzLnRoZW1lU2VydmljZS5nZXRDb2xvcnNjaGVtZXNPcHRpb25zKCkpO1xyXG5cclxuICAgIGNvbnN0IGNoYXJ0Q29uZmlnOiBjaGFydEpzLkNoYXJ0Q29uZmlndXJhdGlvbiA9IHtcclxuICAgICAgdHlwZTogdGhpcy5jaGFydFR5cGUsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBsYWJlbHM6IHRoaXMubGFiZWxzIHx8IFtdLFxyXG4gICAgICAgIGRhdGFzZXRzXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucyxcclxuICAgICAgb3B0aW9uczogbWVyZ2VkT3B0aW9ucyxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGNoYXJ0Q29uZmlnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldENoYXJ0QnVpbGRlcihjdHg6IHN0cmluZy8qLCBkYXRhOmFueVtdLCBvcHRpb25zOmFueSovKTogQ2hhcnQge1xyXG4gICAgY29uc3QgY2hhcnRDb25maWcgPSB0aGlzLmdldENoYXJ0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgcmV0dXJuIG5ldyBjaGFydEpzLkNoYXJ0KGN0eCwgY2hhcnRDb25maWcpO1xyXG4gIH1cclxuXHJcbiAgc21hcnRNZXJnZShvcHRpb25zOiBhbnksIG92ZXJyaWRlczogYW55LCBsZXZlbDogbnVtYmVyID0gMCk6IGFueSB7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgb3B0aW9ucyA9IGNsb25lRGVlcChvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGtleXNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKG92ZXJyaWRlcyk7XHJcbiAgICBrZXlzVG9VcGRhdGUuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvdmVycmlkZXNba2V5XSkpIHtcclxuICAgICAgICBjb25zdCBhcnJheUVsZW1lbnRzID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmIChhcnJheUVsZW1lbnRzKSB7XHJcbiAgICAgICAgICBhcnJheUVsZW1lbnRzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRNZXJnZShyLCBvdmVycmlkZXNba2V5XVswXSwgbGV2ZWwgKyAxKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgKG92ZXJyaWRlc1trZXldKSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb3B0aW9ucykpIHtcclxuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNtYXJ0TWVyZ2Uob3B0aW9uc1trZXldLCBvdmVycmlkZXNba2V5XSwgbGV2ZWwgKyAxKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBvdmVycmlkZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWwobGFiZWw6IExhYmVsKTogbGFiZWwgaXMgTXVsdGlMaW5lTGFiZWwge1xyXG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobGFiZWwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBqb2luTGFiZWwobGFiZWw6IExhYmVsKTogc3RyaW5nIHtcclxuICAgIGlmICghbGFiZWwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5pc011bHRpTGluZUxhYmVsKGxhYmVsKSkge1xyXG4gICAgICByZXR1cm4gbGFiZWwuam9pbignICcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcm9wYWdhdGVEYXRhc2V0c1RvRGF0YShkYXRhc2V0czogY2hhcnRKcy5DaGFydERhdGFTZXRzW10pIHtcclxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YXNldHMubWFwKHIgPT4gci5kYXRhKTtcclxuICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0cyA9IGRhdGFzZXRzO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcHJvcGFnYXRlRGF0YVRvRGF0YXNldHMobmV3RGF0YVZhbHVlczogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmlzTXVsdGlEYXRhU2V0KG5ld0RhdGFWYWx1ZXMpKSB7XHJcbiAgICAgIGlmICh0aGlzLmRhdGFzZXRzICYmIG5ld0RhdGFWYWx1ZXMubGVuZ3RoID09PSB0aGlzLmRhdGFzZXRzLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBkYXRhc2V0LmRhdGEgPSBuZXdEYXRhVmFsdWVzW2ldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBuZXdEYXRhVmFsdWVzLm1hcCgoZGF0YTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIHJldHVybiB7IGRhdGEsIGxhYmVsOiB0aGlzLmpvaW5MYWJlbCh0aGlzLmxhYmVsc1tpbmRleF0pIHx8IGBMYWJlbCAke2luZGV4fWAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5jaGFydCkge1xyXG4gICAgICAgICAgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzID0gdGhpcy5kYXRhc2V0cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghdGhpcy5kYXRhc2V0cykge1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMgPSBbeyBkYXRhOiBuZXdEYXRhVmFsdWVzIH1dO1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XHJcbiAgICAgICAgICB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMgPSB0aGlzLmRhdGFzZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRhdGFzZXRzWzBdLmRhdGEgPSBuZXdEYXRhVmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGF0YXNldHMuc3BsaWNlKDEpOyAvLyBSZW1vdmUgYWxsIGVsZW1lbnRzIGJ1dCB0aGUgZmlyc3RcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVDb2xvcnMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNNdWx0aURhdGFTZXQoZGF0YTogU2luZ2xlT3JNdWx0aURhdGFTZXQpOiBkYXRhIGlzIE11bHRpRGF0YVNldCB7XHJcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhWzBdKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGF0YXNldHMoKSB7XHJcbiAgICBpZiAoIXRoaXMuZGF0YXNldHMgJiYgIXRoaXMuZGF0YSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYG5nLWNoYXJ0cyBjb25maWd1cmF0aW9uIGVycm9yLCBkYXRhIG9yIGRhdGFzZXRzIGZpZWxkIGFyZSByZXF1aXJlZCB0byByZW5kZXIgY2hhcnQgJHt0aGlzLmNoYXJ0VHlwZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBgZGF0YXNldHNgIGlzIGRlZmluZWQsIHVzZSBpdCBvdmVyIHRoZSBgZGF0YWAgcHJvcGVydHkuXHJcbiAgICBpZiAodGhpcy5kYXRhc2V0cykge1xyXG4gICAgICB0aGlzLnByb3BhZ2F0ZURhdGFzZXRzVG9EYXRhKHRoaXMuZGF0YXNldHMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5kYXRhc2V0cztcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5kYXRhKSB7XHJcbiAgICAgIHRoaXMucHJvcGFnYXRlRGF0YVRvRGF0YXNldHModGhpcy5kYXRhKTtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldHM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlZnJlc2goKSB7XHJcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlKSB7XHJcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZWZyZXNoKCksIDUwKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyB0b2RvOiByZW1vdmUgdGhpcyBsaW5lLCBpdCBpcyBwcm9kdWNpbmcgZmxpY2tlcmluZ1xyXG4gICAgaWYgKHRoaXMuY2hhcnQpIHtcclxuICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuY2hhcnQgPSB2b2lkIDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jdHgpIHtcclxuICAgICAgdGhpcy5jaGFydCA9IHRoaXMuZ2V0Q2hhcnRCdWlsZGVyKHRoaXMuY3R4LyosIGRhdGEsIHRoaXMub3B0aW9ucyovKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/charts.module.js b/node_modules/ng2-charts/esm5/lib/charts.module.js
index 0668392..f3e66ec 100644
--- a/node_modules/ng2-charts/esm5/lib/charts.module.js
+++ b/node_modules/ng2-charts/esm5/lib/charts.module.js
@@ -4,21 +4,26 @@
  */
 import { NgModule } from '@angular/core';
 import { BaseChartDirective } from './base-chart.directive';
+import * as ɵngcc0 from '@angular/core';
 var ChartsModule = /** @class */ (function () {
     function ChartsModule() {
     }
-    ChartsModule.decorators = [
-        { type: NgModule, args: [{
-                    declarations: [
-                        BaseChartDirective
-                    ],
-                    imports: [],
-                    exports: [
-                        BaseChartDirective
-                    ]
-                },] }
-    ];
+ChartsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ChartsModule });
+ChartsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ChartsModule_Factory(t) { return new (t || ChartsModule)(); }, imports: [[]] });
+(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartsModule, { declarations: function () { return [BaseChartDirective]; }, exports: function () { return [BaseChartDirective]; } }); })();
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChartsModule, [{
+        type: NgModule,
+        args: [{
+                declarations: [
+                    BaseChartDirective
+                ],
+                imports: [],
+                exports: [
+                    BaseChartDirective
+                ]
+            }]
+    }], function () { return []; }, null); })();
     return ChartsModule;
 }());
 export { ChartsModule };
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvY2hhcnRzLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU1RDtJQUFBO0lBVTRCLENBQUM7O2dCQVY1QixRQUFRLFNBQUM7b0JBQ1IsWUFBWSxFQUFFO3dCQUNaLGtCQUFrQjtxQkFDbkI7b0JBQ0QsT0FBTyxFQUFFLEVBQ1I7b0JBQ0QsT0FBTyxFQUFFO3dCQUNQLGtCQUFrQjtxQkFDbkI7aUJBQ0Y7O0lBQzJCLG1CQUFDO0NBQUEsQUFWN0IsSUFVNkI7U0FBaEIsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEJhc2VDaGFydERpcmVjdGl2ZSB9IGZyb20gJy4vYmFzZS1jaGFydC5kaXJlY3RpdmUnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIEJhc2VDaGFydERpcmVjdGl2ZVxyXG4gIF0sXHJcbiAgaW1wb3J0czogW1xyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgQmFzZUNoYXJ0RGlyZWN0aXZlXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2hhcnRzTW9kdWxlIHsgfVxyXG4iXX0=
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbGliL2NoYXJ0cy5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7O0FBRTVEO0lBQUE7SUFVNEIsQ0FBQztnREFWNUIsUUFBUSxTQUFDO2tCQUNSLFlBQVksRUFBRSwwQkFDWixrQkFBa0Isc0JBQ25CLHNCQUNELE9BQU8sRUFBRSxFQUNSO1FBQ0QsT0FBTyxFQUFFLDBCQUNQLGtCQUFrQixzQkFDbkIsa0JBQ0Y7Ozs7Ozs7Ozs7OztnREFDUTtJQUFtQixtQkFBQztDQUFBLEFBVjdCLElBVTZCO1NBQWhCLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBCYXNlQ2hhcnREaXJlY3RpdmUgfSBmcm9tICcuL2Jhc2UtY2hhcnQuZGlyZWN0aXZlJztcclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBCYXNlQ2hhcnREaXJlY3RpdmVcclxuICBdLFxyXG4gIGltcG9ydHM6IFtcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIEJhc2VDaGFydERpcmVjdGl2ZVxyXG4gIF1cclxufSlcclxuZXhwb3J0IGNsYXNzIENoYXJ0c01vZHVsZSB7IH1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/charts.module.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm5/lib/charts.module.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..0668392
--- /dev/null
+++ b/node_modules/ng2-charts/esm5/lib/charts.module.js.__ivy_ngcc_bak
@@ -0,0 +1,24 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import { NgModule } from '@angular/core';
+import { BaseChartDirective } from './base-chart.directive';
+var ChartsModule = /** @class */ (function () {
+    function ChartsModule() {
+    }
+    ChartsModule.decorators = [
+        { type: NgModule, args: [{
+                    declarations: [
+                        BaseChartDirective
+                    ],
+                    imports: [],
+                    exports: [
+                        BaseChartDirective
+                    ]
+                },] }
+    ];
+    return ChartsModule;
+}());
+export { ChartsModule };
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvY2hhcnRzLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU1RDtJQUFBO0lBVTRCLENBQUM7O2dCQVY1QixRQUFRLFNBQUM7b0JBQ1IsWUFBWSxFQUFFO3dCQUNaLGtCQUFrQjtxQkFDbkI7b0JBQ0QsT0FBTyxFQUFFLEVBQ1I7b0JBQ0QsT0FBTyxFQUFFO3dCQUNQLGtCQUFrQjtxQkFDbkI7aUJBQ0Y7O0lBQzJCLG1CQUFDO0NBQUEsQUFWN0IsSUFVNkI7U0FBaEIsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEJhc2VDaGFydERpcmVjdGl2ZSB9IGZyb20gJy4vYmFzZS1jaGFydC5kaXJlY3RpdmUnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIEJhc2VDaGFydERpcmVjdGl2ZVxyXG4gIF0sXHJcbiAgaW1wb3J0czogW1xyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgQmFzZUNoYXJ0RGlyZWN0aXZlXHJcbiAgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2hhcnRzTW9kdWxlIHsgfVxyXG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/theme.service.js b/node_modules/ng2-charts/esm5/lib/theme.service.js
index 3f9520a..57125c2 100644
--- a/node_modules/ng2-charts/esm5/lib/theme.service.js
+++ b/node_modules/ng2-charts/esm5/lib/theme.service.js
@@ -5,6 +5,7 @@
 import { Injectable } from '@angular/core';
 import { BehaviorSubject } from 'rxjs';
 import * as i0 from "@angular/core";
+import * as ɵngcc0 from '@angular/core';
 var ThemeService = /** @class */ (function () {
     function ThemeService() {
         this.pColorschemesOptions = {};
@@ -31,14 +32,17 @@ var ThemeService = /** @class */ (function () {
     function () {
         return this.pColorschemesOptions;
     };
-    ThemeService.decorators = [
-        { type: Injectable, args: [{
-                    providedIn: 'root'
-                },] }
-    ];
     /** @nocollapse */
     ThemeService.ctorParameters = function () { return []; };
     /** @nocollapse */ ThemeService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
+ThemeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ThemeService, factory: function (t) { return ThemeService.ɵfac(t); }, providedIn: 'root' });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
+        type: Injectable,
+        args: [{
+                providedIn: 'root'
+            }]
+    }], function () { return []; }, null); })();
     return ThemeService;
 }());
 export { ThemeService };
@@ -51,4 +55,4 @@ if (false) {
     /** @type {?} */
     ThemeService.prototype.colorschemesOptions;
 }
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQUd2QztJQU9FO1FBSFEseUJBQW9CLEdBQWlCLEVBQUUsQ0FBQztRQUN6Qyx3QkFBbUIsR0FBRyxJQUFJLGVBQWUsQ0FBZSxFQUFFLENBQUMsQ0FBQztJQUVuRCxDQUFDOzs7OztJQUVqQiw2Q0FBc0I7Ozs7SUFBdEIsVUFBdUIsT0FBcUI7UUFDMUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQztRQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Ozs7SUFFRCw2Q0FBc0I7OztJQUF0QjtRQUNFLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ25DLENBQUM7O2dCQWhCRixVQUFVLFNBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzs7Ozt1QkFORDtDQXFCQyxBQWpCRCxJQWlCQztTQWRZLFlBQVk7Ozs7OztJQUN2Qiw0Q0FBZ0Q7O0lBQ2hELDJDQUFtRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwQ29sb3JzY2hlbWVzT3B0aW9uczogQ2hhcnRPcHRpb25zID0ge307XHJcbiAgcHVibGljIGNvbG9yc2NoZW1lc09wdGlvbnMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENoYXJ0T3B0aW9ucz4oe30pO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBzZXRDb2xvcnNjaGVtZXNPcHRpb25zKG9wdGlvbnM6IENoYXJ0T3B0aW9ucykge1xyXG4gICAgdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLmNvbG9yc2NoZW1lc09wdGlvbnMubmV4dChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGdldENvbG9yc2NoZW1lc09wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucztcclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbGliL3RoZW1lLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7O0FBR3ZDO0lBT0U7UUFIUSx5QkFBb0IsR0FBaUIsRUFBRSxDQUFDO1FBQ3pDLHdCQUFtQixHQUFHLElBQUksZUFBZSxDQUFlLEVBQUUsQ0FBQyxDQUFDO0lBRW5ELENBQUM7Ozs7O0lBRWpCLDZDQUFzQjs7OztJQUF0QixVQUF1QixPQUFxQjtRQUMxQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsT0FBTyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekMsQ0FBQzs7OztJQUVELDZDQUFzQjs7O0lBQXRCO1FBQ0UsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbkMsQ0FBQyxDQUNILEFBZFM7O3lCQUhSLFVBQVUsU0FBQztJQUNWLFVBQVUsRUFBRSxNQUFNLGtCQUNuQjs7Ozs7Ozs7Z0RBUzBCO3VCQWYzQjtDQXFCQyxBQWpCRCxJQWlCQztTQWRZLFlBQVk7Ozs7OztJQUN2Qiw0Q0FBZ0Q7O0lBQ2hELDJDQUFtRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwQ29sb3JzY2hlbWVzT3B0aW9uczogQ2hhcnRPcHRpb25zID0ge307XHJcbiAgcHVibGljIGNvbG9yc2NoZW1lc09wdGlvbnMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENoYXJ0T3B0aW9ucz4oe30pO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBzZXRDb2xvcnNjaGVtZXNPcHRpb25zKG9wdGlvbnM6IENoYXJ0T3B0aW9ucykge1xyXG4gICAgdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLmNvbG9yc2NoZW1lc09wdGlvbnMubmV4dChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGdldENvbG9yc2NoZW1lc09wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucztcclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/lib/theme.service.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm5/lib/theme.service.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..3f9520a
--- /dev/null
+++ b/node_modules/ng2-charts/esm5/lib/theme.service.js.__ivy_ngcc_bak
@@ -0,0 +1,54 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+import { Injectable } from '@angular/core';
+import { BehaviorSubject } from 'rxjs';
+import * as i0 from "@angular/core";
+var ThemeService = /** @class */ (function () {
+    function ThemeService() {
+        this.pColorschemesOptions = {};
+        this.colorschemesOptions = new BehaviorSubject({});
+    }
+    /**
+     * @param {?} options
+     * @return {?}
+     */
+    ThemeService.prototype.setColorschemesOptions = /**
+     * @param {?} options
+     * @return {?}
+     */
+    function (options) {
+        this.pColorschemesOptions = options;
+        this.colorschemesOptions.next(options);
+    };
+    /**
+     * @return {?}
+     */
+    ThemeService.prototype.getColorschemesOptions = /**
+     * @return {?}
+     */
+    function () {
+        return this.pColorschemesOptions;
+    };
+    ThemeService.decorators = [
+        { type: Injectable, args: [{
+                    providedIn: 'root'
+                },] }
+    ];
+    /** @nocollapse */
+    ThemeService.ctorParameters = function () { return []; };
+    /** @nocollapse */ ThemeService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+    return ThemeService;
+}());
+export { ThemeService };
+if (false) {
+    /**
+     * @type {?}
+     * @private
+     */
+    ThemeService.prototype.pColorschemesOptions;
+    /** @type {?} */
+    ThemeService.prototype.colorschemesOptions;
+}
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJsaWIvdGhlbWUuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQUd2QztJQU9FO1FBSFEseUJBQW9CLEdBQWlCLEVBQUUsQ0FBQztRQUN6Qyx3QkFBbUIsR0FBRyxJQUFJLGVBQWUsQ0FBZSxFQUFFLENBQUMsQ0FBQztJQUVuRCxDQUFDOzs7OztJQUVqQiw2Q0FBc0I7Ozs7SUFBdEIsVUFBdUIsT0FBcUI7UUFDMUMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQztRQUNwQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Ozs7SUFFRCw2Q0FBc0I7OztJQUF0QjtRQUNFLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ25DLENBQUM7O2dCQWhCRixVQUFVLFNBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25COzs7Ozt1QkFORDtDQXFCQyxBQWpCRCxJQWlCQztTQWRZLFlBQVk7Ozs7OztJQUN2Qiw0Q0FBZ0Q7O0lBQ2hELDJDQUFtRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRoZW1lU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBwQ29sb3JzY2hlbWVzT3B0aW9uczogQ2hhcnRPcHRpb25zID0ge307XHJcbiAgcHVibGljIGNvbG9yc2NoZW1lc09wdGlvbnMgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENoYXJ0T3B0aW9ucz4oe30pO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICBzZXRDb2xvcnNjaGVtZXNPcHRpb25zKG9wdGlvbnM6IENoYXJ0T3B0aW9ucykge1xyXG4gICAgdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLmNvbG9yc2NoZW1lc09wdGlvbnMubmV4dChvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIGdldENvbG9yc2NoZW1lc09wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wQ29sb3JzY2hlbWVzT3B0aW9ucztcclxuICB9XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/ng2-charts.js b/node_modules/ng2-charts/esm5/ng2-charts.js
index 0bc80f2..a730f5e 100644
--- a/node_modules/ng2-charts/esm5/ng2-charts.js
+++ b/node_modules/ng2-charts/esm5/ng2-charts.js
@@ -6,4 +6,4 @@
  * Generated bundle index. Do not edit.
  */
 export { ChartsModule, BaseChartDirective, defaultColors, ThemeService, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from './public_api';
-//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJuZzItY2hhcnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQSxtSUFBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljX2FwaSc7XG4iXX0=
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZXMiOlsibmc6L25nMi1jaGFydHMvbmcyLWNoYXJ0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBSUEsbUlBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY19hcGknO1xuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/esm5/ng2-charts.js.__ivy_ngcc_bak b/node_modules/ng2-charts/esm5/ng2-charts.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..0bc80f2
--- /dev/null
+++ b/node_modules/ng2-charts/esm5/ng2-charts.js.__ivy_ngcc_bak
@@ -0,0 +1,9 @@
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/**
+ * Generated bundle index. Do not edit.
+ */
+export { ChartsModule, BaseChartDirective, defaultColors, ThemeService, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from './public_api';
+//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nMi1jaGFydHMvIiwic291cmNlcyI6WyJuZzItY2hhcnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQSxtSUFBYyxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljX2FwaSc7XG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm2015/ng2-charts.js b/node_modules/ng2-charts/fesm2015/ng2-charts.js
index b9a5ce1..ca6d9b5 100644
--- a/node_modules/ng2-charts/fesm2015/ng2-charts.js
+++ b/node_modules/ng2-charts/fesm2015/ng2-charts.js
@@ -8,6 +8,7 @@ import { cloneDeep } from 'lodash';
  * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
  */
 /** @type {?} */
+import * as ɵngcc0 from '@angular/core';
 const defaultColors = [
     [255, 99, 132],
     [54, 162, 235],
@@ -213,14 +214,17 @@ class ThemeService {
         return this.pColorschemesOptions;
     }
 }
-ThemeService.decorators = [
-    { type: Injectable, args: [{
-                providedIn: 'root'
-            },] }
-];
+ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
+ThemeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ThemeService, factory: ThemeService.ɵfac, providedIn: 'root' });
 /** @nocollapse */
 ThemeService.ctorParameters = () => [];
 /** @nocollapse */ ThemeService.ngInjectableDef = ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
+        type: Injectable,
+        args: [{
+                providedIn: 'root'
+            }]
+    }], function () { return []; }, null); })();
 
 /**
  * @fileoverview added by tsickle
@@ -845,13 +849,8 @@ class BaseChartDirective {
         }
     }
 }
-BaseChartDirective.decorators = [
-    { type: Directive, args: [{
-                // tslint:disable-next-line:directive-selector
-                selector: 'canvas[baseChart]',
-                exportAs: 'base-chart'
-            },] }
-];
+BaseChartDirective.ɵfac = function BaseChartDirective_Factory(t) { return new (t || BaseChartDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ThemeService)); };
+BaseChartDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseChartDirective, selectors: [["canvas", "baseChart", ""]], inputs: { options: "options", data: "data", datasets: "datasets", labels: "labels", chartType: "chartType", colors: "colors", legend: "legend", plugins: "plugins" }, outputs: { chartClick: "chartClick", chartHover: "chartHover" }, exportAs: ["base-chart"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
 /** @nocollapse */
 BaseChartDirective.ctorParameters = () => [
     { type: ElementRef },
@@ -869,6 +868,34 @@ BaseChartDirective.propDecorators = {
     chartClick: [{ type: Output }],
     chartHover: [{ type: Output }]
 };
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BaseChartDirective, [{
+        type: Directive,
+        args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            }]
+    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ThemeService }]; }, { options: [{
+            type: Input
+        }], chartClick: [{
+            type: Output
+        }], chartHover: [{
+            type: Output
+        }], data: [{
+            type: Input
+        }], datasets: [{
+            type: Input
+        }], labels: [{
+            type: Input
+        }], chartType: [{
+            type: Input
+        }], colors: [{
+            type: Input
+        }], legend: [{
+            type: Input
+        }], plugins: [{
+            type: Input
+        }] }); })();
 
 /**
  * @fileoverview added by tsickle
@@ -876,8 +903,12 @@ BaseChartDirective.propDecorators = {
  */
 class ChartsModule {
 }
-ChartsModule.decorators = [
-    { type: NgModule, args: [{
+ChartsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ChartsModule });
+ChartsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ChartsModule_Factory(t) { return new (t || ChartsModule)(); }, imports: [[]] });
+(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartsModule, { declarations: [BaseChartDirective], exports: [BaseChartDirective] }); })();
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChartsModule, [{
+        type: NgModule,
+        args: [{
                 declarations: [
                     BaseChartDirective
                 ],
@@ -885,8 +916,8 @@ ChartsModule.decorators = [
                 exports: [
                     BaseChartDirective
                 ]
-            },] }
-];
+            }]
+    }], null, null); })();
 
 /**
  * @fileoverview added by tsickle
@@ -1521,4 +1552,5 @@ function monkeyPatchChartJsTooltip() {
  */
 
 export { BaseChartDirective, ChartsModule, ThemeService, defaultColors, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip };
+
 //# sourceMappingURL=ng2-charts.js.map
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm2015/ng2-charts.js.__ivy_ngcc_bak b/node_modules/ng2-charts/fesm2015/ng2-charts.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..b9a5ce1
--- /dev/null
+++ b/node_modules/ng2-charts/fesm2015/ng2-charts.js.__ivy_ngcc_bak
@@ -0,0 +1,1524 @@
+import { Injectable, ɵɵdefineInjectable, EventEmitter, Directive, ElementRef, Input, Output, NgModule } from '@angular/core';
+import { Chart as Chart$1 } from 'chart.js';
+import { BehaviorSubject } from 'rxjs';
+import { cloneDeep } from 'lodash';
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/** @type {?} */
+const defaultColors = [
+    [255, 99, 132],
+    [54, 162, 235],
+    [255, 206, 86],
+    [231, 233, 237],
+    [75, 192, 192],
+    [151, 187, 205],
+    [220, 220, 220],
+    [247, 70, 74],
+    [70, 191, 189],
+    [253, 180, 92],
+    [148, 159, 177],
+    [77, 83, 96]
+];
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/**
+ * Generate colors by chart type
+ * @param {?} chartType
+ * @param {?} index
+ * @param {?} count
+ * @return {?}
+ */
+function getColors(chartType, index, count) {
+    if (chartType === 'pie' || chartType === 'doughnut') {
+        return formatPieColors(generateColors(count));
+    }
+    if (chartType === 'polarArea') {
+        return formatPolarAreaColors(generateColors(count));
+    }
+    if (chartType === 'line' || chartType === 'radar') {
+        return formatLineColor(generateColor(index));
+    }
+    if (chartType === 'bar' || chartType === 'horizontalBar') {
+        return formatBarColor(generateColor(index));
+    }
+    if (chartType === 'bubble') {
+        return formatPieColors(generateColors(count));
+    }
+    if (chartType === 'scatter') {
+        return formatPieColors(generateColors(count));
+    }
+    throw new Error(`getColors - Unsupported chart type ${chartType}`);
+}
+/**
+ * @param {?} colour
+ * @param {?} alpha
+ * @return {?}
+ */
+function rgba(colour, alpha) {
+    return 'rgba(' + colour.concat(alpha).join(',') + ')';
+}
+/**
+ * @param {?} min
+ * @param {?} max
+ * @return {?}
+ */
+function getRandomInt(min, max) {
+    return Math.floor(Math.random() * (max - min + 1)) + min;
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatLineColor(colors) {
+    return {
+        backgroundColor: rgba(colors, 0.4),
+        borderColor: rgba(colors, 1),
+        pointBackgroundColor: rgba(colors, 1),
+        pointBorderColor: '#fff',
+        pointHoverBackgroundColor: '#fff',
+        pointHoverBorderColor: rgba(colors, 0.8)
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatBarColor(colors) {
+    return {
+        backgroundColor: rgba(colors, 0.6),
+        borderColor: rgba(colors, 1),
+        hoverBackgroundColor: rgba(colors, 0.8),
+        hoverBorderColor: rgba(colors, 1)
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatPieColors(colors) {
+    return {
+        backgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 0.6))),
+        borderColor: colors.map((/**
+         * @return {?}
+         */
+        () => '#fff')),
+        pointBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 1))),
+        pointBorderColor: colors.map((/**
+         * @return {?}
+         */
+        () => '#fff')),
+        pointHoverBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 1))),
+        pointHoverBorderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 1)))
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatPolarAreaColors(colors) {
+    return {
+        backgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 0.6))),
+        borderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 1))),
+        hoverBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 0.8))),
+        hoverBorderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        (color) => rgba(color, 1)))
+    };
+}
+/**
+ * @return {?}
+ */
+function getRandomColor() {
+    return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];
+}
+/**
+ * Generate colors for line|bar charts
+ * @param {?} index
+ * @return {?}
+ */
+function generateColor(index) {
+    return defaultColors[index] || getRandomColor();
+}
+/**
+ * Generate colors for pie|doughnut charts
+ * @param {?} count
+ * @return {?}
+ */
+function generateColors(count) {
+    /** @type {?} */
+    const colorsArr = new Array(count);
+    for (let i = 0; i < count; i++) {
+        colorsArr[i] = defaultColors[i] || getRandomColor();
+    }
+    return colorsArr;
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+class ThemeService {
+    constructor() {
+        this.pColorschemesOptions = {};
+        this.colorschemesOptions = new BehaviorSubject({});
+    }
+    /**
+     * @param {?} options
+     * @return {?}
+     */
+    setColorschemesOptions(options) {
+        this.pColorschemesOptions = options;
+        this.colorschemesOptions.next(options);
+    }
+    /**
+     * @return {?}
+     */
+    getColorschemesOptions() {
+        return this.pColorschemesOptions;
+    }
+}
+ThemeService.decorators = [
+    { type: Injectable, args: [{
+                providedIn: 'root'
+            },] }
+];
+/** @nocollapse */
+ThemeService.ctorParameters = () => [];
+/** @nocollapse */ ThemeService.ngInjectableDef = ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/** @enum {number} */
+const UpdateType = {
+    Default: 0,
+    Update: 1,
+    Refresh: 2,
+};
+UpdateType[UpdateType.Default] = 'Default';
+UpdateType[UpdateType.Update] = 'Update';
+UpdateType[UpdateType.Refresh] = 'Refresh';
+class BaseChartDirective {
+    /**
+     * @param {?} element
+     * @param {?} themeService
+     */
+    constructor(element, themeService) {
+        this.element = element;
+        this.themeService = themeService;
+        this.options = {};
+        this.chartClick = new EventEmitter();
+        this.chartHover = new EventEmitter();
+        this.old = {
+            dataExists: false,
+            dataLength: 0,
+            datasetsExists: false,
+            datasetsLength: 0,
+            datasetsDataObjects: [],
+            datasetsDataLengths: [],
+            colorsExists: false,
+            colors: [],
+            labelsExist: false,
+            labels: [],
+            legendExists: false,
+            legend: {},
+        };
+        this.subs = [];
+    }
+    /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    static registerPlugin(plugin) {
+        Chart$1.plugins.register(plugin);
+    }
+    /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    static unregisterPlugin(plugin) {
+        Chart$1.plugins.unregister(plugin);
+    }
+    /**
+     * @return {?}
+     */
+    ngOnInit() {
+        this.ctx = this.element.nativeElement.getContext('2d');
+        this.refresh();
+        this.subs.push(this.themeService.colorschemesOptions.subscribe((/**
+         * @param {?} r
+         * @return {?}
+         */
+        r => this.themeChanged(r))));
+    }
+    /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    themeChanged(options) {
+        this.refresh();
+    }
+    /**
+     * @return {?}
+     */
+    ngDoCheck() {
+        if (!this.chart) {
+            return;
+        }
+        /** @type {?} */
+        let updateRequired = UpdateType.Default;
+        /** @type {?} */
+        const wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        (x) => {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        if (!!this.data !== this.old.dataExists) {
+            this.propagateDataToDatasets(this.data);
+            this.old.dataExists = !!this.data;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.data && this.data.length !== this.old.dataLength) {
+            this.old.dataLength = this.data && this.data.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.datasets !== this.old.datasetsExists) {
+            this.old.datasetsExists = !!this.datasets;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.length !== this.old.datasetsLength) {
+            this.old.datasetsLength = this.datasets && this.datasets.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => x.data !== this.old.datasetsDataObjects[i])).length) {
+            this.old.datasetsDataObjects = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => x.data));
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => x.data.length !== this.old.datasetsDataLengths[i])).length) {
+            this.old.datasetsDataLengths = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => x.data.length));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.colors !== this.old.colorsExists) {
+            this.old.colorsExists = !!this.colors;
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        // This smells of inefficiency, might need to revisit this
+        if (this.colors && this.colors.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => !this.colorsEqual(x, this.old.colors[i]))).length) {
+            this.old.colors = this.colors.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => this.copyColor(x)));
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.labels !== this.old.labelsExist) {
+            this.old.labelsExist = !!this.labels;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.labels && this.labels.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        (x, i) => !this.labelsEqual(x, this.old.labels[i]))).length) {
+            this.old.labels = this.labels.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            x => this.copyLabel(x)));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.options.legend !== this.old.legendExists) {
+            this.old.legendExists = !!this.options.legend;
+            wantUpdate(UpdateType.Refresh);
+        }
+        if (this.options.legend && this.options.legend.position !== this.old.legend.position) {
+            this.old.legend.position = this.options.legend.position;
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Default:
+                break;
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+                this.refresh();
+                break;
+        }
+    }
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    copyLabel(a) {
+        if (Array.isArray(a)) {
+            return [...a];
+        }
+        return a;
+    }
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    labelsEqual(a, b) {
+        return Array.isArray(a) === Array.isArray(b)
+            && (Array.isArray(a) || a === b)
+            && (!Array.isArray(a) || a.length === b.length)
+            && (!Array.isArray(a) || a.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            (x, i) => x !== b[i])).length === 0);
+    }
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    copyColor(a) {
+        /** @type {?} */
+        const rc = {
+            backgroundColor: a.backgroundColor,
+            borderWidth: a.borderWidth,
+            borderColor: a.borderColor,
+            borderCapStyle: a.borderCapStyle,
+            borderDash: a.borderDash,
+            borderDashOffset: a.borderDashOffset,
+            borderJoinStyle: a.borderJoinStyle,
+            pointBorderColor: a.pointBorderColor,
+            pointBackgroundColor: a.pointBackgroundColor,
+            pointBorderWidth: a.pointBorderWidth,
+            pointRadius: a.pointRadius,
+            pointHoverRadius: a.pointHoverRadius,
+            pointHitRadius: a.pointHitRadius,
+            pointHoverBackgroundColor: a.pointHoverBackgroundColor,
+            pointHoverBorderColor: a.pointHoverBorderColor,
+            pointHoverBorderWidth: a.pointHoverBorderWidth,
+            pointStyle: a.pointStyle,
+            hoverBackgroundColor: a.hoverBackgroundColor,
+            hoverBorderColor: a.hoverBorderColor,
+            hoverBorderWidth: a.hoverBorderWidth,
+        };
+        return rc;
+    }
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    colorsEqual(a, b) {
+        if (!a !== !b) {
+            return false;
+        }
+        return !a || a.backgroundColor === b.backgroundColor
+            && (a.borderWidth === b.borderWidth)
+            && (a.borderColor === b.borderColor)
+            && (a.borderCapStyle === b.borderCapStyle)
+            && (a.borderDash === b.borderDash)
+            && (a.borderDashOffset === b.borderDashOffset)
+            && (a.borderJoinStyle === b.borderJoinStyle)
+            && (a.pointBorderColor === b.pointBorderColor)
+            && (a.pointBackgroundColor === b.pointBackgroundColor)
+            && (a.pointBorderWidth === b.pointBorderWidth)
+            && (a.pointRadius === b.pointRadius)
+            && (a.pointHoverRadius === b.pointHoverRadius)
+            && (a.pointHitRadius === b.pointHitRadius)
+            && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)
+            && (a.pointHoverBorderColor === b.pointHoverBorderColor)
+            && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)
+            && (a.pointStyle === b.pointStyle)
+            && (a.hoverBackgroundColor === b.hoverBackgroundColor)
+            && (a.hoverBorderColor === b.hoverBorderColor)
+            && (a.hoverBorderWidth === b.hoverBorderWidth);
+    }
+    /**
+     * @return {?}
+     */
+    updateColors() {
+        this.datasets.forEach((/**
+         * @param {?} elm
+         * @param {?} index
+         * @return {?}
+         */
+        (elm, index) => {
+            if (this.colors && this.colors[index]) {
+                Object.assign(elm, this.colors[index]);
+            }
+            else {
+                Object.assign(elm, getColors(this.chartType, index, elm.data.length), Object.assign({}, elm));
+            }
+        }));
+    }
+    /**
+     * @param {?} changes
+     * @return {?}
+     */
+    ngOnChanges(changes) {
+        /** @type {?} */
+        let updateRequired = UpdateType.Default;
+        /** @type {?} */
+        const wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        (x) => {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        // Check if the changes are in the data or datasets or labels or legend
+        if (changes.hasOwnProperty('data') && changes.data.currentValue) {
+            this.propagateDataToDatasets(changes.data.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {
+            this.propagateDatasetsToData(changes.datasets.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('labels')) {
+            if (this.chart) {
+                this.chart.data.labels = changes.labels.currentValue;
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('legend')) {
+            if (this.chart) {
+                this.chart.config.options.legend.display = changes.legend.currentValue;
+                this.chart.generateLegend();
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('options')) {
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+            case UpdateType.Default:
+                this.refresh();
+                break;
+        }
+    }
+    /**
+     * @return {?}
+     */
+    ngOnDestroy() {
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        this.subs.forEach((/**
+         * @param {?} x
+         * @return {?}
+         */
+        x => x.unsubscribe()));
+    }
+    /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    update(duration, lazy) {
+        if (this.chart) {
+            return this.chart.update(duration, lazy);
+        }
+    }
+    /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    hideDataset(index, hidden) {
+        this.chart.getDatasetMeta(index).hidden = hidden;
+        this.chart.update();
+    }
+    /**
+     * @param {?} index
+     * @return {?}
+     */
+    isDatasetHidden(index) {
+        return this.chart.getDatasetMeta(index).hidden;
+    }
+    /**
+     * @return {?}
+     */
+    toBase64Image() {
+        return this.chart.toBase64Image();
+    }
+    /**
+     * @return {?}
+     */
+    getChartConfiguration() {
+        /** @type {?} */
+        const datasets = this.getDatasets();
+        /** @type {?} */
+        const options = Object.assign({}, this.options);
+        if (this.legend === false) {
+            options.legend = { display: false };
+        }
+        // hook for onHover and onClick events
+        options.hover = options.hover || {};
+        if (!options.hover.onHover) {
+            options.hover.onHover = (/**
+             * @param {?} event
+             * @param {?} active
+             * @return {?}
+             */
+            (event, active) => {
+                if (active && !active.length) {
+                    return;
+                }
+                this.chartHover.emit({ event, active });
+            });
+        }
+        if (!options.onClick) {
+            options.onClick = (/**
+             * @param {?=} event
+             * @param {?=} active
+             * @return {?}
+             */
+            (event, active) => {
+                this.chartClick.emit({ event, active });
+            });
+        }
+        /** @type {?} */
+        const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());
+        /** @type {?} */
+        const chartConfig = {
+            type: this.chartType,
+            data: {
+                labels: this.labels || [],
+                datasets
+            },
+            plugins: this.plugins,
+            options: mergedOptions,
+        };
+        return chartConfig;
+    }
+    /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    getChartBuilder(ctx /*, data:any[], options:any*/) {
+        /** @type {?} */
+        const chartConfig = this.getChartConfiguration();
+        return new Chart$1(ctx, chartConfig);
+    }
+    /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    smartMerge(options, overrides, level = 0) {
+        if (level === 0) {
+            options = cloneDeep(options);
+        }
+        /** @type {?} */
+        const keysToUpdate = Object.keys(overrides);
+        keysToUpdate.forEach((/**
+         * @param {?} key
+         * @return {?}
+         */
+        key => {
+            if (Array.isArray(overrides[key])) {
+                /** @type {?} */
+                const arrayElements = options[key];
+                if (arrayElements) {
+                    arrayElements.forEach((/**
+                     * @param {?} r
+                     * @return {?}
+                     */
+                    r => {
+                        this.smartMerge(r, overrides[key][0], level + 1);
+                    }));
+                }
+            }
+            else if (typeof (overrides[key]) === 'object') {
+                if (!(key in options)) {
+                    options[key] = {};
+                }
+                this.smartMerge(options[key], overrides[key], level + 1);
+            }
+            else {
+                options[key] = overrides[key];
+            }
+        }));
+        if (level === 0) {
+            return options;
+        }
+    }
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    isMultiLineLabel(label) {
+        return Array.isArray(label);
+    }
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    joinLabel(label) {
+        if (!label) {
+            return null;
+        }
+        if (this.isMultiLineLabel(label)) {
+            return label.join(' ');
+        }
+        else {
+            return label;
+        }
+    }
+    /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    propagateDatasetsToData(datasets) {
+        this.data = this.datasets.map((/**
+         * @param {?} r
+         * @return {?}
+         */
+        r => r.data));
+        if (this.chart) {
+            this.chart.data.datasets = datasets;
+        }
+        this.updateColors();
+    }
+    /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    propagateDataToDatasets(newDataValues) {
+        if (this.isMultiDataSet(newDataValues)) {
+            if (this.datasets && newDataValues.length === this.datasets.length) {
+                this.datasets.forEach((/**
+                 * @param {?} dataset
+                 * @param {?} i
+                 * @return {?}
+                 */
+                (dataset, i) => {
+                    dataset.data = newDataValues[i];
+                }));
+            }
+            else {
+                this.datasets = newDataValues.map((/**
+                 * @param {?} data
+                 * @param {?} index
+                 * @return {?}
+                 */
+                (data, index) => {
+                    return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };
+                }));
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+        }
+        else {
+            if (!this.datasets) {
+                this.datasets = [{ data: newDataValues }];
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+            else {
+                this.datasets[0].data = newDataValues;
+                this.datasets.splice(1); // Remove all elements but the first
+            }
+        }
+        this.updateColors();
+    }
+    /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    isMultiDataSet(data) {
+        return Array.isArray(data[0]);
+    }
+    /**
+     * @private
+     * @return {?}
+     */
+    getDatasets() {
+        if (!this.datasets && !this.data) {
+            throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);
+        }
+        // If `datasets` is defined, use it over the `data` property.
+        if (this.datasets) {
+            this.propagateDatasetsToData(this.datasets);
+            return this.datasets;
+        }
+        if (this.data) {
+            this.propagateDataToDatasets(this.data);
+            return this.datasets;
+        }
+    }
+    /**
+     * @private
+     * @return {?}
+     */
+    refresh() {
+        // if (this.options && this.options.responsive) {
+        //   setTimeout(() => this.refresh(), 50);
+        // }
+        // todo: remove this line, it is producing flickering
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        if (this.ctx) {
+            this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
+        }
+    }
+}
+BaseChartDirective.decorators = [
+    { type: Directive, args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            },] }
+];
+/** @nocollapse */
+BaseChartDirective.ctorParameters = () => [
+    { type: ElementRef },
+    { type: ThemeService }
+];
+BaseChartDirective.propDecorators = {
+    data: [{ type: Input }],
+    datasets: [{ type: Input }],
+    labels: [{ type: Input }],
+    options: [{ type: Input }],
+    chartType: [{ type: Input }],
+    colors: [{ type: Input }],
+    legend: [{ type: Input }],
+    plugins: [{ type: Input }],
+    chartClick: [{ type: Output }],
+    chartHover: [{ type: Output }]
+};
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+class ChartsModule {
+}
+ChartsModule.decorators = [
+    { type: NgModule, args: [{
+                declarations: [
+                    BaseChartDirective
+                ],
+                imports: [],
+                exports: [
+                    BaseChartDirective
+                ]
+            },] }
+];
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+// tslint:disable:variable-name
+// tslint:disable:no-var-keyword
+// tslint:disable:prefer-const
+// tslint:disable:only-arrow-functions
+// tslint:disable:one-variable-per-declaration
+// tslint:disable:object-literal-shorthand
+// tslint:disable:space-before-function-paren
+/**
+ * @return {?}
+ */
+function monkeyPatchChartJsLegend() {
+    if (typeof Chart === 'undefined') {
+        console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+        return;
+    }
+    /** @type {?} */
+    const plugins = Chart.plugins.getAll();
+    /** @type {?} */
+    const legend = plugins.filter((/**
+     * @param {?} p
+     * @return {?}
+     */
+    p => p.id === 'legend'))[0];
+    legend._element.prototype.fit = fit;
+    legend._element.prototype.draw = draw;
+    /** @type {?} */
+    const helpers = Chart.helpers;
+    /** @type {?} */
+    const defaults = Chart.defaults;
+    /** @type {?} */
+    const valueOrDefault = helpers.valueOrDefault;
+    /**
+     * @param {?} labelOpts
+     * @param {?} fontSize
+     * @return {?}
+     */
+    function getBoxWidth(labelOpts, fontSize) {
+        return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?
+            fontSize :
+            labelOpts.boxWidth;
+    }
+    /**
+     * @return {?}
+     */
+    function fit() {
+        /** @type {?} */
+        var me = this;
+        /** @type {?} */
+        var opts = me.options;
+        /** @type {?} */
+        var labelOpts = opts.labels;
+        /** @type {?} */
+        var display = opts.display;
+        /** @type {?} */
+        var ctx = me.ctx;
+        /** @type {?} */
+        var labelFont = helpers.options._parseFont(labelOpts);
+        /** @type {?} */
+        var fontSize = labelFont.size;
+        // Reset hit boxes
+        /** @type {?} */
+        var hitboxes = me.legendHitBoxes = [];
+        /** @type {?} */
+        var minSize = me.minSize;
+        /** @type {?} */
+        var isHorizontal = me.isHorizontal();
+        if (isHorizontal) {
+            minSize.width = me.maxWidth; // fill all the width
+            minSize.height = display ? 10 : 0;
+        }
+        else {
+            minSize.width = display ? 10 : 0;
+            minSize.height = me.maxHeight; // fill all the height
+        }
+        /** @type {?} */
+        var getMaxLineWidth = (/**
+         * @param {?} textLines
+         * @return {?}
+         */
+        function (textLines) {
+            return textLines.map((/**
+             * @param {?} textLine
+             * @return {?}
+             */
+            function (textLine) {
+                return ctx.measureText(textLine).width;
+            })).reduce((/**
+             * @param {?} acc
+             * @param {?} v
+             * @return {?}
+             */
+            function (acc, v) {
+                return v > acc ? v : acc;
+            }), 0);
+        });
+        // Increase sizes here
+        if (display) {
+            ctx.font = labelFont.string;
+            if (isHorizontal) {
+                // Labels
+                // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one
+                /** @type {?} */
+                var lineWidths = me.lineWidths = [0];
+                /** @type {?} */
+                var lineHeights = me.lineHeights = [];
+                /** @type {?} */
+                var currentLineHeight = 0;
+                /** @type {?} */
+                var lineIndex = 0;
+                ctx.textAlign = 'left';
+                ctx.textBaseline = 'top';
+                helpers.each(me.legendItems, (/**
+                 * @param {?} legendItem
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (legendItem, i) {
+                    /** @type {?} */
+                    var width;
+                    /** @type {?} */
+                    var height;
+                    if (helpers.isArray(legendItem.text)) {
+                        width = getMaxLineWidth(legendItem.text);
+                        height = fontSize * legendItem.text.length + labelOpts.padding;
+                    }
+                    else {
+                        width = ctx.measureText(legendItem.text).width;
+                        height = fontSize + labelOpts.padding;
+                    }
+                    width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                    if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {
+                        lineHeights.push(currentLineHeight);
+                        currentLineHeight = 0;
+                        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
+                        lineIndex++;
+                    }
+                    legendItem.lineOrColumnIndex = lineIndex;
+                    if (height > currentLineHeight) {
+                        currentLineHeight = height;
+                    }
+                    // Store the hitbox width and height here. Final position will be updated in `draw`
+                    hitboxes[i] = {
+                        left: 0,
+                        top: 0,
+                        width: width,
+                        height: height,
+                    };
+                    lineWidths[lineWidths.length - 1] += width + labelOpts.padding;
+                }));
+                lineHeights.push(currentLineHeight);
+                minSize.height += lineHeights.reduce((/**
+                 * @param {?} acc
+                 * @param {?} v
+                 * @return {?}
+                 */
+                function (acc, v) {
+                    return acc + v;
+                }), 0);
+            }
+            else {
+                /** @type {?} */
+                var vPadding = labelOpts.padding;
+                /** @type {?} */
+                var columnWidths = me.columnWidths = [];
+                /** @type {?} */
+                var columnHeights = me.columnHeights = [];
+                /** @type {?} */
+                var totalWidth = labelOpts.padding;
+                /** @type {?} */
+                var currentColWidth = 0;
+                /** @type {?} */
+                var currentColHeight = 0;
+                /** @type {?} */
+                var columnIndex = 0;
+                helpers.each(me.legendItems, (/**
+                 * @param {?} legendItem
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (legendItem, i) {
+                    /** @type {?} */
+                    var itemWidth;
+                    /** @type {?} */
+                    var height;
+                    if (helpers.isArray(legendItem.text)) {
+                        itemWidth = getMaxLineWidth(legendItem.text);
+                        height = fontSize * legendItem.text.length;
+                    }
+                    else {
+                        itemWidth = ctx.measureText(legendItem.text).width;
+                        height = fontSize;
+                    }
+                    itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                    // If too tall, go to new column
+                    if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {
+                        totalWidth += currentColWidth + labelOpts.padding;
+                        columnWidths.push(currentColWidth); // previous column width
+                        columnHeights.push(currentColHeight);
+                        currentColWidth = 0;
+                        currentColHeight = 0;
+                        columnIndex++;
+                    }
+                    legendItem.lineOrColumnIndex = columnIndex;
+                    // Get max width
+                    currentColWidth = Math.max(currentColWidth, itemWidth);
+                    currentColHeight += height + vPadding;
+                    // Store the hitbox width and height here. Final position will be updated in `draw`
+                    hitboxes[i] = {
+                        left: 0,
+                        top: 0,
+                        width: itemWidth,
+                        height: height
+                    };
+                }));
+                totalWidth += currentColWidth;
+                columnWidths.push(currentColWidth);
+                columnHeights.push(currentColHeight);
+                minSize.width += totalWidth;
+            }
+        }
+        me.width = minSize.width;
+        me.height = minSize.height;
+    }
+    /**
+     * @return {?}
+     */
+    function draw() {
+        /** @type {?} */
+        var me = this;
+        /** @type {?} */
+        var opts = me.options;
+        /** @type {?} */
+        var labelOpts = opts.labels;
+        /** @type {?} */
+        var globalDefaults = defaults.global;
+        /** @type {?} */
+        var defaultColor = globalDefaults.defaultColor;
+        /** @type {?} */
+        var lineDefault = globalDefaults.elements.line;
+        /** @type {?} */
+        var legendHeight = me.height;
+        /** @type {?} */
+        var columnHeights = me.columnHeights;
+        /** @type {?} */
+        var columnWidths = me.columnWidths;
+        /** @type {?} */
+        var legendWidth = me.width;
+        /** @type {?} */
+        var lineWidths = me.lineWidths;
+        /** @type {?} */
+        var lineHeights = me.lineHeights;
+        if (opts.display) {
+            /** @type {?} */
+            var ctx = me.ctx;
+            /** @type {?} */
+            var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);
+            /** @type {?} */
+            var labelFont = helpers.options._parseFont(labelOpts);
+            /** @type {?} */
+            var fontSize = labelFont.size;
+            /** @type {?} */
+            var cursor;
+            // Canvas setup
+            ctx.textAlign = 'left';
+            ctx.textBaseline = 'middle';
+            ctx.lineWidth = 0.5;
+            ctx.strokeStyle = fontColor; // for strikethrough effect
+            ctx.fillStyle = fontColor; // render in correct colour
+            ctx.font = labelFont.string;
+            /** @type {?} */
+            var boxWidth = getBoxWidth(labelOpts, fontSize);
+            /** @type {?} */
+            var hitboxes = me.legendHitBoxes;
+            // current position
+            /** @type {?} */
+            var drawLegendBox = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} legendItem
+             * @return {?}
+             */
+            function (x, y, legendItem) {
+                if (isNaN(boxWidth) || boxWidth <= 0) {
+                    return;
+                }
+                // Set the ctx for the box
+                ctx.save();
+                /** @type {?} */
+                var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);
+                ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);
+                ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);
+                ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);
+                ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);
+                ctx.lineWidth = lineWidth;
+                ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);
+                if (ctx.setLineDash) {
+                    // IE 9 and 10 do not support line dash
+                    ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));
+                }
+                if (opts.labels && opts.labels.usePointStyle) {
+                    // Recalculate x and y for drawPoint() because its expecting
+                    // x and y to be center of figure (instead of top left)
+                    /** @type {?} */
+                    var radius = boxWidth * Math.SQRT2 / 2;
+                    /** @type {?} */
+                    var centerX = x + boxWidth / 2;
+                    /** @type {?} */
+                    var centerY = y + fontSize / 2;
+                    // Draw pointStyle as legend symbol
+                    helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);
+                }
+                else {
+                    // Draw box as legend symbol
+                    if (lineWidth !== 0) {
+                        ctx.strokeRect(x, y, boxWidth, fontSize);
+                    }
+                    ctx.fillRect(x, y, boxWidth, fontSize);
+                }
+                ctx.restore();
+            });
+            /** @type {?} */
+            var drawStrikeThrough = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} w
+             * @return {?}
+             */
+            function (x, y, w) {
+                ctx.beginPath();
+                ctx.lineWidth = 2;
+                ctx.moveTo(x, y);
+                ctx.lineTo(x + w, y);
+                ctx.stroke();
+            });
+            /** @type {?} */
+            var drawCrossOver = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} w
+             * @param {?} h
+             * @return {?}
+             */
+            function (x, y, w, h) {
+                ctx.beginPath();
+                ctx.lineWidth = 2;
+                ctx.moveTo(x, y);
+                ctx.lineTo(x + w, y + h);
+                ctx.moveTo(x, y + h);
+                ctx.lineTo(x + w, y);
+                ctx.stroke();
+            });
+            /** @type {?} */
+            var fillText = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} legendItem
+             * @param {?} textWidth
+             * @return {?}
+             */
+            function (x, y, legendItem, textWidth) {
+                /** @type {?} */
+                var halfFontSize = fontSize / 2;
+                /** @type {?} */
+                var xLeft = boxWidth + halfFontSize + x;
+                /** @type {?} */
+                var yMiddle = y + halfFontSize;
+                if (helpers.isArray(legendItem.text)) {
+                    helpers.each(legendItem.text, (/**
+                     * @param {?} textLine
+                     * @param {?} index
+                     * @return {?}
+                     */
+                    function (textLine, index) {
+                        /** @type {?} */
+                        var lineOffset = index * fontSize;
+                        ctx.fillText(textLine, xLeft, yMiddle + lineOffset);
+                    }));
+                }
+                else {
+                    ctx.fillText(legendItem.text, xLeft, yMiddle);
+                }
+                if (legendItem.hidden) {
+                    if (helpers.isArray(legendItem.text)) {
+                        drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));
+                    }
+                    else {
+                        drawStrikeThrough(xLeft, yMiddle, textWidth);
+                    }
+                }
+            });
+            /** @type {?} */
+            var alignmentOffset = (/**
+             * @param {?} dimension
+             * @param {?} blockSize
+             * @return {?}
+             */
+            function (dimension, blockSize) {
+                switch (opts.align) {
+                    case 'start':
+                        return labelOpts.padding;
+                    case 'end':
+                        return dimension - blockSize;
+                    default: // center
+                        return (dimension - blockSize + labelOpts.padding) / 2;
+                }
+            });
+            // Horizontal
+            /** @type {?} */
+            var isHorizontal = me.isHorizontal();
+            if (isHorizontal) {
+                cursor = {
+                    x: me.left + alignmentOffset(legendWidth, lineWidths[0]),
+                    y: me.top + labelOpts.padding,
+                    line: 0
+                };
+            }
+            else {
+                cursor = {
+                    x: me.left + labelOpts.padding,
+                    y: me.top + alignmentOffset(legendHeight, columnHeights[0]),
+                    line: 0
+                };
+            }
+            helpers.each(me.legendItems, (/**
+             * @param {?} legendItem
+             * @param {?} i
+             * @return {?}
+             */
+            function (legendItem, i) {
+                /** @type {?} */
+                var textWidth;
+                /** @type {?} */
+                var height;
+                /** @type {?} */
+                var boxTopOffset;
+                if (legendItem.lineOrColumnIndex > cursor.line) {
+                    if (isHorizontal) {
+                        cursor.y += lineHeights[cursor.line];
+                        cursor.line = legendItem.lineOrColumnIndex;
+                        cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);
+                    }
+                    else {
+                        cursor.x += columnWidths[cursor.line] + labelOpts.padding;
+                        cursor.line = legendItem.lineOrColumnIndex;
+                        cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);
+                    }
+                }
+                if (helpers.isArray(legendItem.text)) {
+                    textWidth = legendItem.text.map((/**
+                     * @param {?} textLine
+                     * @return {?}
+                     */
+                    function (textLine) {
+                        return ctx.measureText(textLine).width;
+                    })).reduce((/**
+                     * @param {?} acc
+                     * @param {?} v
+                     * @return {?}
+                     */
+                    function (acc, v) {
+                        return v > acc ? v : acc;
+                    }), 0);
+                    boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);
+                    height = fontSize * legendItem.text.length;
+                }
+                else {
+                    textWidth = ctx.measureText(legendItem.text).width;
+                    boxTopOffset = 0;
+                    height = fontSize;
+                }
+                /** @type {?} */
+                var width = boxWidth + (fontSize / 2) + textWidth;
+                /** @type {?} */
+                var x = cursor.x;
+                /** @type {?} */
+                var y = cursor.y;
+                /** @type {?} */
+                var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;
+                drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);
+                hitboxes[i].left = x;
+                hitboxes[i].top = y;
+                // Fill the actual label
+                fillText(x, y + topOffset, legendItem, textWidth);
+                if (isHorizontal) {
+                    cursor.x += width + labelOpts.padding;
+                }
+                else {
+                    cursor.y += height + labelOpts.padding;
+                }
+            }));
+        }
+    }
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+// tslint:disable:variable-name
+// tslint:disable:no-var-keyword
+// tslint:disable:prefer-const
+// tslint:disable:only-arrow-functions
+// tslint:disable:one-variable-per-declaration
+// tslint:disable:object-literal-shorthand
+// tslint:disable:space-before-function-paren
+/**
+ * @return {?}
+ */
+function monkeyPatchChartJsTooltip() {
+    if (typeof Chart === 'undefined') {
+        console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+        return;
+    }
+    Chart.Tooltip.prototype.drawBody = drawBody;
+    /** @type {?} */
+    const helpers = Chart.helpers;
+    /**
+     * @param {?} vm
+     * @param {?} align
+     * @return {?}
+     */
+    function getAlignedX(vm, align) {
+        return align === 'center'
+            ? vm.x + vm.width / 2
+            : align === 'right'
+                ? vm.x + vm.width - vm.xPadding
+                : vm.x + vm.xPadding;
+    }
+    /**
+     * @param {?} pt
+     * @param {?} vm
+     * @param {?} ctx
+     * @return {?}
+     */
+    function drawBody(pt, vm, ctx) {
+        /** @type {?} */
+        var bodyFontSize = vm.bodyFontSize;
+        /** @type {?} */
+        var bodySpacing = vm.bodySpacing;
+        /** @type {?} */
+        var bodyAlign = vm._bodyAlign;
+        /** @type {?} */
+        var body = vm.body;
+        /** @type {?} */
+        var drawColorBoxes = vm.displayColors;
+        /** @type {?} */
+        var labelColors = vm.labelColors;
+        /** @type {?} */
+        var xLinePadding = 0;
+        /** @type {?} */
+        var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;
+        /** @type {?} */
+        var textColor;
+        ctx.textAlign = bodyAlign;
+        ctx.textBaseline = 'top';
+        ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);
+        pt.x = getAlignedX(vm, bodyAlign);
+        // Before Body
+        /** @type {?} */
+        var fillLineOfText = (/**
+         * @param {?} line
+         * @return {?}
+         */
+        function (line) {
+            ctx.fillText(line, pt.x + xLinePadding, pt.y);
+            pt.y += bodyFontSize + bodySpacing;
+        });
+        // Before body lines
+        ctx.fillStyle = vm.bodyFontColor;
+        helpers.each(vm.beforeBody, fillLineOfText);
+        xLinePadding = drawColorBoxes && bodyAlign !== 'right'
+            ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)
+            : 0;
+        // Draw body lines now
+        helpers.each(body, (/**
+         * @param {?} bodyItem
+         * @param {?} i
+         * @return {?}
+         */
+        function (bodyItem, i) {
+            textColor = vm.labelTextColors[i];
+            ctx.fillStyle = textColor;
+            helpers.each(bodyItem.before, fillLineOfText);
+            // Draw Legend-like boxes if needed
+            if (drawColorBoxes) {
+                // Fill a white rect so that colours merge nicely if the opacity is < 1
+                ctx.fillStyle = vm.legendColorBackground;
+                ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                // Border
+                ctx.lineWidth = 1;
+                ctx.strokeStyle = labelColors[i].borderColor;
+                ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                // Inner square
+                ctx.fillStyle = labelColors[i].backgroundColor;
+                ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);
+                ctx.fillStyle = textColor;
+            }
+            helpers.each(bodyItem.lines, fillLineOfText);
+            helpers.each(bodyItem.after, fillLineOfText);
+        }));
+        // Reset back to 0 for after body
+        xLinePadding = 0;
+        // After body lines
+        helpers.each(vm.afterBody, fillLineOfText);
+        pt.y -= bodySpacing; // Remove last body spacing
+    }
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+export { BaseChartDirective, ChartsModule, ThemeService, defaultColors, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip };
+//# sourceMappingURL=ng2-charts.js.map
diff --git a/node_modules/ng2-charts/fesm2015/ng2-charts.js.map b/node_modules/ng2-charts/fesm2015/ng2-charts.js.map
index 248184b..7c90cd2 100644
--- a/node_modules/ng2-charts/fesm2015/ng2-charts.js.map
+++ b/node_modules/ng2-charts/fesm2015/ng2-charts.js.map
@@ -1 +1 @@
-{"version":3,"file":"ng2-charts.js","sources":["ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["chartJs.Chart"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ng2-charts.js","sources":["ng:/ng2-charts/lib/default-colors.ts","ng:/ng2-charts/lib/get-colors.ts","ng:/ng2-charts/lib/theme.service.ts","ng:/ng2-charts/lib/base-chart.directive.ts","ng:/ng2-charts/lib/charts.module.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"names":["chartJs.Chart"],"mappings":"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","sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"]}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm2015/ng2-charts.js.map.__ivy_ngcc_bak b/node_modules/ng2-charts/fesm2015/ng2-charts.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..248184b
--- /dev/null
+++ b/node_modules/ng2-charts/fesm2015/ng2-charts.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ng2-charts.js","sources":["ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["chartJs.Chart"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm5/ng2-charts.js b/node_modules/ng2-charts/fesm5/ng2-charts.js
index 470e049..f97fceb 100644
--- a/node_modules/ng2-charts/fesm5/ng2-charts.js
+++ b/node_modules/ng2-charts/fesm5/ng2-charts.js
@@ -9,6 +9,7 @@ import { cloneDeep } from 'lodash';
  * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
  */
 /** @type {?} */
+import * as ɵngcc0 from '@angular/core';
 var defaultColors = [
     [255, 99, 132],
     [54, 162, 235],
@@ -36,7 +37,7 @@ var defaultColors = [
  * @return {?}
  */
 function getColors(chartType, index, count) {
-    if (chartType === 'pie' || chartType === 'doughnut') {
+    if (chartType === 'pie' || chartType === 'doughnut' || chartType === 'treemap') {
         return formatPieColors(generateColors(count));
     }
     if (chartType === 'polarArea') {
@@ -220,14 +221,17 @@ var ThemeService = /** @class */ (function () {
     function () {
         return this.pColorschemesOptions;
     };
-    ThemeService.decorators = [
-        { type: Injectable, args: [{
-                    providedIn: 'root'
-                },] }
-    ];
     /** @nocollapse */
     ThemeService.ctorParameters = function () { return []; };
     /** @nocollapse */ ThemeService.ngInjectableDef = ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
+ThemeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ThemeService, factory: function (t) { return ThemeService.ɵfac(t); }, providedIn: 'root' });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThemeService, [{
+        type: Injectable,
+        args: [{
+                providedIn: 'root'
+            }]
+    }], function () { return []; }, null); })();
     return ThemeService;
 }());
 
@@ -970,13 +974,6 @@ var BaseChartDirective = /** @class */ (function () {
             this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
         }
     };
-    BaseChartDirective.decorators = [
-        { type: Directive, args: [{
-                    // tslint:disable-next-line:directive-selector
-                    selector: 'canvas[baseChart]',
-                    exportAs: 'base-chart'
-                },] }
-    ];
     /** @nocollapse */
     BaseChartDirective.ctorParameters = function () { return [
         { type: ElementRef },
@@ -994,6 +991,36 @@ var BaseChartDirective = /** @class */ (function () {
         chartClick: [{ type: Output }],
         chartHover: [{ type: Output }]
     };
+BaseChartDirective.ɵfac = function BaseChartDirective_Factory(t) { return new (t || BaseChartDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ThemeService)); };
+BaseChartDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BaseChartDirective, selectors: [["canvas", "baseChart", ""]], inputs: { options: "options", data: "data", datasets: "datasets", labels: "labels", chartType: "chartType", colors: "colors", legend: "legend", plugins: "plugins" }, outputs: { chartClick: "chartClick", chartHover: "chartHover" }, exportAs: ["base-chart"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BaseChartDirective, [{
+        type: Directive,
+        args: [{
+                // tslint:disable-next-line:directive-selector
+                selector: 'canvas[baseChart]',
+                exportAs: 'base-chart'
+            }]
+    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ThemeService }]; }, { options: [{
+            type: Input
+        }], chartClick: [{
+            type: Output
+        }], chartHover: [{
+            type: Output
+        }], data: [{
+            type: Input
+        }], datasets: [{
+            type: Input
+        }], labels: [{
+            type: Input
+        }], chartType: [{
+            type: Input
+        }], colors: [{
+            type: Input
+        }], legend: [{
+            type: Input
+        }], plugins: [{
+            type: Input
+        }] }); })();
     return BaseChartDirective;
 }());
 
@@ -1004,17 +1031,21 @@ var BaseChartDirective = /** @class */ (function () {
 var ChartsModule = /** @class */ (function () {
     function ChartsModule() {
     }
-    ChartsModule.decorators = [
-        { type: NgModule, args: [{
-                    declarations: [
-                        BaseChartDirective
-                    ],
-                    imports: [],
-                    exports: [
-                        BaseChartDirective
-                    ]
-                },] }
-    ];
+ChartsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ChartsModule });
+ChartsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ChartsModule_Factory(t) { return new (t || ChartsModule)(); }, imports: [[]] });
+(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ChartsModule, { declarations: [BaseChartDirective], exports: [BaseChartDirective] }); })();
+/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ChartsModule, [{
+        type: NgModule,
+        args: [{
+                declarations: [
+                    BaseChartDirective
+                ],
+                imports: [],
+                exports: [
+                    BaseChartDirective
+                ]
+            }]
+    }], function () { return []; }, null); })();
     return ChartsModule;
 }());
 
@@ -1651,4 +1682,5 @@ function monkeyPatchChartJsTooltip() {
  */
 
 export { BaseChartDirective, ChartsModule, ThemeService, defaultColors, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip };
+
 //# sourceMappingURL=ng2-charts.js.map
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm5/ng2-charts.js.__ivy_ngcc_bak b/node_modules/ng2-charts/fesm5/ng2-charts.js.__ivy_ngcc_bak
new file mode 100644
index 0000000..470e049
--- /dev/null
+++ b/node_modules/ng2-charts/fesm5/ng2-charts.js.__ivy_ngcc_bak
@@ -0,0 +1,1654 @@
+import { Injectable, ɵɵdefineInjectable, Directive, ElementRef, Input, Output, EventEmitter, NgModule } from '@angular/core';
+import { __spread, __assign } from 'tslib';
+import { Chart as Chart$1 } from 'chart.js';
+import { BehaviorSubject } from 'rxjs';
+import { cloneDeep } from 'lodash';
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/** @type {?} */
+var defaultColors = [
+    [255, 99, 132],
+    [54, 162, 235],
+    [255, 206, 86],
+    [231, 233, 237],
+    [75, 192, 192],
+    [151, 187, 205],
+    [220, 220, 220],
+    [247, 70, 74],
+    [70, 191, 189],
+    [253, 180, 92],
+    [148, 159, 177],
+    [77, 83, 96]
+];
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/**
+ * Generate colors by chart type
+ * @param {?} chartType
+ * @param {?} index
+ * @param {?} count
+ * @return {?}
+ */
+function getColors(chartType, index, count) {
+    if (chartType === 'pie' || chartType === 'doughnut') {
+        return formatPieColors(generateColors(count));
+    }
+    if (chartType === 'polarArea') {
+        return formatPolarAreaColors(generateColors(count));
+    }
+    if (chartType === 'line' || chartType === 'radar') {
+        return formatLineColor(generateColor(index));
+    }
+    if (chartType === 'bar' || chartType === 'horizontalBar') {
+        return formatBarColor(generateColor(index));
+    }
+    if (chartType === 'bubble') {
+        return formatPieColors(generateColors(count));
+    }
+    if (chartType === 'scatter') {
+        return formatPieColors(generateColors(count));
+    }
+    throw new Error("getColors - Unsupported chart type " + chartType);
+}
+/**
+ * @param {?} colour
+ * @param {?} alpha
+ * @return {?}
+ */
+function rgba(colour, alpha) {
+    return 'rgba(' + colour.concat(alpha).join(',') + ')';
+}
+/**
+ * @param {?} min
+ * @param {?} max
+ * @return {?}
+ */
+function getRandomInt(min, max) {
+    return Math.floor(Math.random() * (max - min + 1)) + min;
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatLineColor(colors) {
+    return {
+        backgroundColor: rgba(colors, 0.4),
+        borderColor: rgba(colors, 1),
+        pointBackgroundColor: rgba(colors, 1),
+        pointBorderColor: '#fff',
+        pointHoverBackgroundColor: '#fff',
+        pointHoverBorderColor: rgba(colors, 0.8)
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatBarColor(colors) {
+    return {
+        backgroundColor: rgba(colors, 0.6),
+        borderColor: rgba(colors, 1),
+        hoverBackgroundColor: rgba(colors, 0.8),
+        hoverBorderColor: rgba(colors, 1)
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatPieColors(colors) {
+    return {
+        backgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 0.6); })),
+        borderColor: colors.map((/**
+         * @return {?}
+         */
+        function () { return '#fff'; })),
+        pointBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 1); })),
+        pointBorderColor: colors.map((/**
+         * @return {?}
+         */
+        function () { return '#fff'; })),
+        pointHoverBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 1); })),
+        pointHoverBorderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 1); }))
+    };
+}
+/**
+ * @param {?} colors
+ * @return {?}
+ */
+function formatPolarAreaColors(colors) {
+    return {
+        backgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 0.6); })),
+        borderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 1); })),
+        hoverBackgroundColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 0.8); })),
+        hoverBorderColor: colors.map((/**
+         * @param {?} color
+         * @return {?}
+         */
+        function (color) { return rgba(color, 1); }))
+    };
+}
+/**
+ * @return {?}
+ */
+function getRandomColor() {
+    return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];
+}
+/**
+ * Generate colors for line|bar charts
+ * @param {?} index
+ * @return {?}
+ */
+function generateColor(index) {
+    return defaultColors[index] || getRandomColor();
+}
+/**
+ * Generate colors for pie|doughnut charts
+ * @param {?} count
+ * @return {?}
+ */
+function generateColors(count) {
+    /** @type {?} */
+    var colorsArr = new Array(count);
+    for (var i = 0; i < count; i++) {
+        colorsArr[i] = defaultColors[i] || getRandomColor();
+    }
+    return colorsArr;
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+var ThemeService = /** @class */ (function () {
+    function ThemeService() {
+        this.pColorschemesOptions = {};
+        this.colorschemesOptions = new BehaviorSubject({});
+    }
+    /**
+     * @param {?} options
+     * @return {?}
+     */
+    ThemeService.prototype.setColorschemesOptions = /**
+     * @param {?} options
+     * @return {?}
+     */
+    function (options) {
+        this.pColorschemesOptions = options;
+        this.colorschemesOptions.next(options);
+    };
+    /**
+     * @return {?}
+     */
+    ThemeService.prototype.getColorschemesOptions = /**
+     * @return {?}
+     */
+    function () {
+        return this.pColorschemesOptions;
+    };
+    ThemeService.decorators = [
+        { type: Injectable, args: [{
+                    providedIn: 'root'
+                },] }
+    ];
+    /** @nocollapse */
+    ThemeService.ctorParameters = function () { return []; };
+    /** @nocollapse */ ThemeService.ngInjectableDef = ɵɵdefineInjectable({ factory: function ThemeService_Factory() { return new ThemeService(); }, token: ThemeService, providedIn: "root" });
+    return ThemeService;
+}());
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+/** @enum {number} */
+var UpdateType = {
+    Default: 0,
+    Update: 1,
+    Refresh: 2,
+};
+UpdateType[UpdateType.Default] = 'Default';
+UpdateType[UpdateType.Update] = 'Update';
+UpdateType[UpdateType.Refresh] = 'Refresh';
+var BaseChartDirective = /** @class */ (function () {
+    function BaseChartDirective(element, themeService) {
+        this.element = element;
+        this.themeService = themeService;
+        this.options = {};
+        this.chartClick = new EventEmitter();
+        this.chartHover = new EventEmitter();
+        this.old = {
+            dataExists: false,
+            dataLength: 0,
+            datasetsExists: false,
+            datasetsLength: 0,
+            datasetsDataObjects: [],
+            datasetsDataLengths: [],
+            colorsExists: false,
+            colors: [],
+            labelsExist: false,
+            labels: [],
+            legendExists: false,
+            legend: {},
+        };
+        this.subs = [];
+    }
+    /**
+     * Register a plugin.
+     */
+    /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    BaseChartDirective.registerPlugin = /**
+     * Register a plugin.
+     * @param {?} plugin
+     * @return {?}
+     */
+    function (plugin) {
+        Chart$1.plugins.register(plugin);
+    };
+    /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    BaseChartDirective.unregisterPlugin = /**
+     * @param {?} plugin
+     * @return {?}
+     */
+    function (plugin) {
+        Chart$1.plugins.unregister(plugin);
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnInit = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        this.ctx = this.element.nativeElement.getContext('2d');
+        this.refresh();
+        this.subs.push(this.themeService.colorschemesOptions.subscribe((/**
+         * @param {?} r
+         * @return {?}
+         */
+        function (r) { return _this.themeChanged(r); })));
+    };
+    /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    BaseChartDirective.prototype.themeChanged = /**
+     * @private
+     * @param {?} options
+     * @return {?}
+     */
+    function (options) {
+        this.refresh();
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngDoCheck = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        if (!this.chart) {
+            return;
+        }
+        /** @type {?} */
+        var updateRequired = UpdateType.Default;
+        /** @type {?} */
+        var wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        if (!!this.data !== this.old.dataExists) {
+            this.propagateDataToDatasets(this.data);
+            this.old.dataExists = !!this.data;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.data && this.data.length !== this.old.dataLength) {
+            this.old.dataLength = this.data && this.data.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.datasets !== this.old.datasetsExists) {
+            this.old.datasetsExists = !!this.datasets;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.length !== this.old.datasetsLength) {
+            this.old.datasetsLength = this.datasets && this.datasets.length || 0;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return x.data !== _this.old.datasetsDataObjects[i]; })).length) {
+            this.old.datasetsDataObjects = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return x.data; }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.datasets && this.datasets.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return x.data.length !== _this.old.datasetsDataLengths[i]; })).length) {
+            this.old.datasetsDataLengths = this.datasets.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return x.data.length; }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.colors !== this.old.colorsExists) {
+            this.old.colorsExists = !!this.colors;
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        // This smells of inefficiency, might need to revisit this
+        if (this.colors && this.colors.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return !_this.colorsEqual(x, _this.old.colors[i]); })).length) {
+            this.old.colors = this.colors.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return _this.copyColor(x); }));
+            this.updateColors();
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.labels !== this.old.labelsExist) {
+            this.old.labelsExist = !!this.labels;
+            wantUpdate(UpdateType.Update);
+        }
+        if (this.labels && this.labels.filter((/**
+         * @param {?} x
+         * @param {?} i
+         * @return {?}
+         */
+        function (x, i) { return !_this.labelsEqual(x, _this.old.labels[i]); })).length) {
+            this.old.labels = this.labels.map((/**
+             * @param {?} x
+             * @return {?}
+             */
+            function (x) { return _this.copyLabel(x); }));
+            wantUpdate(UpdateType.Update);
+        }
+        if (!!this.options.legend !== this.old.legendExists) {
+            this.old.legendExists = !!this.options.legend;
+            wantUpdate(UpdateType.Refresh);
+        }
+        if (this.options.legend && this.options.legend.position !== this.old.legend.position) {
+            this.old.legend.position = this.options.legend.position;
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Default:
+                break;
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+                this.refresh();
+                break;
+        }
+    };
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    BaseChartDirective.prototype.copyLabel = /**
+     * @param {?} a
+     * @return {?}
+     */
+    function (a) {
+        if (Array.isArray(a)) {
+            return __spread(a);
+        }
+        return a;
+    };
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    BaseChartDirective.prototype.labelsEqual = /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    function (a, b) {
+        return Array.isArray(a) === Array.isArray(b)
+            && (Array.isArray(a) || a === b)
+            && (!Array.isArray(a) || a.length === b.length)
+            && (!Array.isArray(a) || a.filter((/**
+             * @param {?} x
+             * @param {?} i
+             * @return {?}
+             */
+            function (x, i) { return x !== b[i]; })).length === 0);
+    };
+    /**
+     * @param {?} a
+     * @return {?}
+     */
+    BaseChartDirective.prototype.copyColor = /**
+     * @param {?} a
+     * @return {?}
+     */
+    function (a) {
+        /** @type {?} */
+        var rc = {
+            backgroundColor: a.backgroundColor,
+            borderWidth: a.borderWidth,
+            borderColor: a.borderColor,
+            borderCapStyle: a.borderCapStyle,
+            borderDash: a.borderDash,
+            borderDashOffset: a.borderDashOffset,
+            borderJoinStyle: a.borderJoinStyle,
+            pointBorderColor: a.pointBorderColor,
+            pointBackgroundColor: a.pointBackgroundColor,
+            pointBorderWidth: a.pointBorderWidth,
+            pointRadius: a.pointRadius,
+            pointHoverRadius: a.pointHoverRadius,
+            pointHitRadius: a.pointHitRadius,
+            pointHoverBackgroundColor: a.pointHoverBackgroundColor,
+            pointHoverBorderColor: a.pointHoverBorderColor,
+            pointHoverBorderWidth: a.pointHoverBorderWidth,
+            pointStyle: a.pointStyle,
+            hoverBackgroundColor: a.hoverBackgroundColor,
+            hoverBorderColor: a.hoverBorderColor,
+            hoverBorderWidth: a.hoverBorderWidth,
+        };
+        return rc;
+    };
+    /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    BaseChartDirective.prototype.colorsEqual = /**
+     * @param {?} a
+     * @param {?} b
+     * @return {?}
+     */
+    function (a, b) {
+        if (!a !== !b) {
+            return false;
+        }
+        return !a || a.backgroundColor === b.backgroundColor
+            && (a.borderWidth === b.borderWidth)
+            && (a.borderColor === b.borderColor)
+            && (a.borderCapStyle === b.borderCapStyle)
+            && (a.borderDash === b.borderDash)
+            && (a.borderDashOffset === b.borderDashOffset)
+            && (a.borderJoinStyle === b.borderJoinStyle)
+            && (a.pointBorderColor === b.pointBorderColor)
+            && (a.pointBackgroundColor === b.pointBackgroundColor)
+            && (a.pointBorderWidth === b.pointBorderWidth)
+            && (a.pointRadius === b.pointRadius)
+            && (a.pointHoverRadius === b.pointHoverRadius)
+            && (a.pointHitRadius === b.pointHitRadius)
+            && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)
+            && (a.pointHoverBorderColor === b.pointHoverBorderColor)
+            && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)
+            && (a.pointStyle === b.pointStyle)
+            && (a.hoverBackgroundColor === b.hoverBackgroundColor)
+            && (a.hoverBorderColor === b.hoverBorderColor)
+            && (a.hoverBorderWidth === b.hoverBorderWidth);
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.updateColors = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        this.datasets.forEach((/**
+         * @param {?} elm
+         * @param {?} index
+         * @return {?}
+         */
+        function (elm, index) {
+            if (_this.colors && _this.colors[index]) {
+                Object.assign(elm, _this.colors[index]);
+            }
+            else {
+                Object.assign(elm, getColors(_this.chartType, index, elm.data.length), __assign({}, elm));
+            }
+        }));
+    };
+    /**
+     * @param {?} changes
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnChanges = /**
+     * @param {?} changes
+     * @return {?}
+     */
+    function (changes) {
+        /** @type {?} */
+        var updateRequired = UpdateType.Default;
+        /** @type {?} */
+        var wantUpdate = (/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) {
+            updateRequired = x > updateRequired ? x : updateRequired;
+        });
+        // Check if the changes are in the data or datasets or labels or legend
+        if (changes.hasOwnProperty('data') && changes.data.currentValue) {
+            this.propagateDataToDatasets(changes.data.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {
+            this.propagateDatasetsToData(changes.datasets.currentValue);
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('labels')) {
+            if (this.chart) {
+                this.chart.data.labels = changes.labels.currentValue;
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('legend')) {
+            if (this.chart) {
+                this.chart.config.options.legend.display = changes.legend.currentValue;
+                this.chart.generateLegend();
+            }
+            wantUpdate(UpdateType.Update);
+        }
+        if (changes.hasOwnProperty('options')) {
+            wantUpdate(UpdateType.Refresh);
+        }
+        switch ((/** @type {?} */ (updateRequired))) {
+            case UpdateType.Update:
+                this.update();
+                break;
+            case UpdateType.Refresh:
+            case UpdateType.Default:
+                this.refresh();
+                break;
+        }
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.ngOnDestroy = /**
+     * @return {?}
+     */
+    function () {
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        this.subs.forEach((/**
+         * @param {?} x
+         * @return {?}
+         */
+        function (x) { return x.unsubscribe(); }));
+    };
+    /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    BaseChartDirective.prototype.update = /**
+     * @param {?=} duration
+     * @param {?=} lazy
+     * @return {?}
+     */
+    function (duration, lazy) {
+        if (this.chart) {
+            return this.chart.update(duration, lazy);
+        }
+    };
+    /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    BaseChartDirective.prototype.hideDataset = /**
+     * @param {?} index
+     * @param {?} hidden
+     * @return {?}
+     */
+    function (index, hidden) {
+        this.chart.getDatasetMeta(index).hidden = hidden;
+        this.chart.update();
+    };
+    /**
+     * @param {?} index
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isDatasetHidden = /**
+     * @param {?} index
+     * @return {?}
+     */
+    function (index) {
+        return this.chart.getDatasetMeta(index).hidden;
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.toBase64Image = /**
+     * @return {?}
+     */
+    function () {
+        return this.chart.toBase64Image();
+    };
+    /**
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getChartConfiguration = /**
+     * @return {?}
+     */
+    function () {
+        var _this = this;
+        /** @type {?} */
+        var datasets = this.getDatasets();
+        /** @type {?} */
+        var options = Object.assign({}, this.options);
+        if (this.legend === false) {
+            options.legend = { display: false };
+        }
+        // hook for onHover and onClick events
+        options.hover = options.hover || {};
+        if (!options.hover.onHover) {
+            options.hover.onHover = (/**
+             * @param {?} event
+             * @param {?} active
+             * @return {?}
+             */
+            function (event, active) {
+                if (active && !active.length) {
+                    return;
+                }
+                _this.chartHover.emit({ event: event, active: active });
+            });
+        }
+        if (!options.onClick) {
+            options.onClick = (/**
+             * @param {?=} event
+             * @param {?=} active
+             * @return {?}
+             */
+            function (event, active) {
+                _this.chartClick.emit({ event: event, active: active });
+            });
+        }
+        /** @type {?} */
+        var mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());
+        /** @type {?} */
+        var chartConfig = {
+            type: this.chartType,
+            data: {
+                labels: this.labels || [],
+                datasets: datasets
+            },
+            plugins: this.plugins,
+            options: mergedOptions,
+        };
+        return chartConfig;
+    };
+    /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getChartBuilder = /**
+     * @param {?} ctx
+     * @return {?}
+     */
+    function (ctx /*, data:any[], options:any*/) {
+        /** @type {?} */
+        var chartConfig = this.getChartConfiguration();
+        return new Chart$1(ctx, chartConfig);
+    };
+    /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    BaseChartDirective.prototype.smartMerge = /**
+     * @param {?} options
+     * @param {?} overrides
+     * @param {?=} level
+     * @return {?}
+     */
+    function (options, overrides, level) {
+        var _this = this;
+        if (level === void 0) { level = 0; }
+        if (level === 0) {
+            options = cloneDeep(options);
+        }
+        /** @type {?} */
+        var keysToUpdate = Object.keys(overrides);
+        keysToUpdate.forEach((/**
+         * @param {?} key
+         * @return {?}
+         */
+        function (key) {
+            if (Array.isArray(overrides[key])) {
+                /** @type {?} */
+                var arrayElements = options[key];
+                if (arrayElements) {
+                    arrayElements.forEach((/**
+                     * @param {?} r
+                     * @return {?}
+                     */
+                    function (r) {
+                        _this.smartMerge(r, overrides[key][0], level + 1);
+                    }));
+                }
+            }
+            else if (typeof (overrides[key]) === 'object') {
+                if (!(key in options)) {
+                    options[key] = {};
+                }
+                _this.smartMerge(options[key], overrides[key], level + 1);
+            }
+            else {
+                options[key] = overrides[key];
+            }
+        }));
+        if (level === 0) {
+            return options;
+        }
+    };
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isMultiLineLabel = /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    function (label) {
+        return Array.isArray(label);
+    };
+    /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    BaseChartDirective.prototype.joinLabel = /**
+     * @private
+     * @param {?} label
+     * @return {?}
+     */
+    function (label) {
+        if (!label) {
+            return null;
+        }
+        if (this.isMultiLineLabel(label)) {
+            return label.join(' ');
+        }
+        else {
+            return label;
+        }
+    };
+    /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    BaseChartDirective.prototype.propagateDatasetsToData = /**
+     * @private
+     * @param {?} datasets
+     * @return {?}
+     */
+    function (datasets) {
+        this.data = this.datasets.map((/**
+         * @param {?} r
+         * @return {?}
+         */
+        function (r) { return r.data; }));
+        if (this.chart) {
+            this.chart.data.datasets = datasets;
+        }
+        this.updateColors();
+    };
+    /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    BaseChartDirective.prototype.propagateDataToDatasets = /**
+     * @private
+     * @param {?} newDataValues
+     * @return {?}
+     */
+    function (newDataValues) {
+        var _this = this;
+        if (this.isMultiDataSet(newDataValues)) {
+            if (this.datasets && newDataValues.length === this.datasets.length) {
+                this.datasets.forEach((/**
+                 * @param {?} dataset
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (dataset, i) {
+                    dataset.data = newDataValues[i];
+                }));
+            }
+            else {
+                this.datasets = newDataValues.map((/**
+                 * @param {?} data
+                 * @param {?} index
+                 * @return {?}
+                 */
+                function (data, index) {
+                    return { data: data, label: _this.joinLabel(_this.labels[index]) || "Label " + index };
+                }));
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+        }
+        else {
+            if (!this.datasets) {
+                this.datasets = [{ data: newDataValues }];
+                if (this.chart) {
+                    this.chart.data.datasets = this.datasets;
+                }
+            }
+            else {
+                this.datasets[0].data = newDataValues;
+                this.datasets.splice(1); // Remove all elements but the first
+            }
+        }
+        this.updateColors();
+    };
+    /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    BaseChartDirective.prototype.isMultiDataSet = /**
+     * @private
+     * @param {?} data
+     * @return {?}
+     */
+    function (data) {
+        return Array.isArray(data[0]);
+    };
+    /**
+     * @private
+     * @return {?}
+     */
+    BaseChartDirective.prototype.getDatasets = /**
+     * @private
+     * @return {?}
+     */
+    function () {
+        if (!this.datasets && !this.data) {
+            throw new Error("ng-charts configuration error, data or datasets field are required to render chart " + this.chartType);
+        }
+        // If `datasets` is defined, use it over the `data` property.
+        if (this.datasets) {
+            this.propagateDatasetsToData(this.datasets);
+            return this.datasets;
+        }
+        if (this.data) {
+            this.propagateDataToDatasets(this.data);
+            return this.datasets;
+        }
+    };
+    /**
+     * @private
+     * @return {?}
+     */
+    BaseChartDirective.prototype.refresh = /**
+     * @private
+     * @return {?}
+     */
+    function () {
+        // if (this.options && this.options.responsive) {
+        //   setTimeout(() => this.refresh(), 50);
+        // }
+        // todo: remove this line, it is producing flickering
+        if (this.chart) {
+            this.chart.destroy();
+            this.chart = void 0;
+        }
+        if (this.ctx) {
+            this.chart = this.getChartBuilder(this.ctx /*, data, this.options*/);
+        }
+    };
+    BaseChartDirective.decorators = [
+        { type: Directive, args: [{
+                    // tslint:disable-next-line:directive-selector
+                    selector: 'canvas[baseChart]',
+                    exportAs: 'base-chart'
+                },] }
+    ];
+    /** @nocollapse */
+    BaseChartDirective.ctorParameters = function () { return [
+        { type: ElementRef },
+        { type: ThemeService }
+    ]; };
+    BaseChartDirective.propDecorators = {
+        data: [{ type: Input }],
+        datasets: [{ type: Input }],
+        labels: [{ type: Input }],
+        options: [{ type: Input }],
+        chartType: [{ type: Input }],
+        colors: [{ type: Input }],
+        legend: [{ type: Input }],
+        plugins: [{ type: Input }],
+        chartClick: [{ type: Output }],
+        chartHover: [{ type: Output }]
+    };
+    return BaseChartDirective;
+}());
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+var ChartsModule = /** @class */ (function () {
+    function ChartsModule() {
+    }
+    ChartsModule.decorators = [
+        { type: NgModule, args: [{
+                    declarations: [
+                        BaseChartDirective
+                    ],
+                    imports: [],
+                    exports: [
+                        BaseChartDirective
+                    ]
+                },] }
+    ];
+    return ChartsModule;
+}());
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+// tslint:disable:variable-name
+// tslint:disable:no-var-keyword
+// tslint:disable:prefer-const
+// tslint:disable:only-arrow-functions
+// tslint:disable:one-variable-per-declaration
+// tslint:disable:object-literal-shorthand
+// tslint:disable:space-before-function-paren
+/**
+ * @return {?}
+ */
+function monkeyPatchChartJsLegend() {
+    if (typeof Chart === 'undefined') {
+        console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+        return;
+    }
+    /** @type {?} */
+    var plugins = Chart.plugins.getAll();
+    /** @type {?} */
+    var legend = plugins.filter((/**
+     * @param {?} p
+     * @return {?}
+     */
+    function (p) { return p.id === 'legend'; }))[0];
+    legend._element.prototype.fit = fit;
+    legend._element.prototype.draw = draw;
+    /** @type {?} */
+    var helpers = Chart.helpers;
+    /** @type {?} */
+    var defaults = Chart.defaults;
+    /** @type {?} */
+    var valueOrDefault = helpers.valueOrDefault;
+    /**
+     * @param {?} labelOpts
+     * @param {?} fontSize
+     * @return {?}
+     */
+    function getBoxWidth(labelOpts, fontSize) {
+        return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?
+            fontSize :
+            labelOpts.boxWidth;
+    }
+    /**
+     * @return {?}
+     */
+    function fit() {
+        /** @type {?} */
+        var me = this;
+        /** @type {?} */
+        var opts = me.options;
+        /** @type {?} */
+        var labelOpts = opts.labels;
+        /** @type {?} */
+        var display = opts.display;
+        /** @type {?} */
+        var ctx = me.ctx;
+        /** @type {?} */
+        var labelFont = helpers.options._parseFont(labelOpts);
+        /** @type {?} */
+        var fontSize = labelFont.size;
+        // Reset hit boxes
+        /** @type {?} */
+        var hitboxes = me.legendHitBoxes = [];
+        /** @type {?} */
+        var minSize = me.minSize;
+        /** @type {?} */
+        var isHorizontal = me.isHorizontal();
+        if (isHorizontal) {
+            minSize.width = me.maxWidth; // fill all the width
+            minSize.height = display ? 10 : 0;
+        }
+        else {
+            minSize.width = display ? 10 : 0;
+            minSize.height = me.maxHeight; // fill all the height
+        }
+        /** @type {?} */
+        var getMaxLineWidth = (/**
+         * @param {?} textLines
+         * @return {?}
+         */
+        function (textLines) {
+            return textLines.map((/**
+             * @param {?} textLine
+             * @return {?}
+             */
+            function (textLine) {
+                return ctx.measureText(textLine).width;
+            })).reduce((/**
+             * @param {?} acc
+             * @param {?} v
+             * @return {?}
+             */
+            function (acc, v) {
+                return v > acc ? v : acc;
+            }), 0);
+        });
+        // Increase sizes here
+        if (display) {
+            ctx.font = labelFont.string;
+            if (isHorizontal) {
+                // Labels
+                // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one
+                /** @type {?} */
+                var lineWidths = me.lineWidths = [0];
+                /** @type {?} */
+                var lineHeights = me.lineHeights = [];
+                /** @type {?} */
+                var currentLineHeight = 0;
+                /** @type {?} */
+                var lineIndex = 0;
+                ctx.textAlign = 'left';
+                ctx.textBaseline = 'top';
+                helpers.each(me.legendItems, (/**
+                 * @param {?} legendItem
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (legendItem, i) {
+                    /** @type {?} */
+                    var width;
+                    /** @type {?} */
+                    var height;
+                    if (helpers.isArray(legendItem.text)) {
+                        width = getMaxLineWidth(legendItem.text);
+                        height = fontSize * legendItem.text.length + labelOpts.padding;
+                    }
+                    else {
+                        width = ctx.measureText(legendItem.text).width;
+                        height = fontSize + labelOpts.padding;
+                    }
+                    width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                    if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {
+                        lineHeights.push(currentLineHeight);
+                        currentLineHeight = 0;
+                        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
+                        lineIndex++;
+                    }
+                    legendItem.lineOrColumnIndex = lineIndex;
+                    if (height > currentLineHeight) {
+                        currentLineHeight = height;
+                    }
+                    // Store the hitbox width and height here. Final position will be updated in `draw`
+                    hitboxes[i] = {
+                        left: 0,
+                        top: 0,
+                        width: width,
+                        height: height,
+                    };
+                    lineWidths[lineWidths.length - 1] += width + labelOpts.padding;
+                }));
+                lineHeights.push(currentLineHeight);
+                minSize.height += lineHeights.reduce((/**
+                 * @param {?} acc
+                 * @param {?} v
+                 * @return {?}
+                 */
+                function (acc, v) {
+                    return acc + v;
+                }), 0);
+            }
+            else {
+                /** @type {?} */
+                var vPadding = labelOpts.padding;
+                /** @type {?} */
+                var columnWidths = me.columnWidths = [];
+                /** @type {?} */
+                var columnHeights = me.columnHeights = [];
+                /** @type {?} */
+                var totalWidth = labelOpts.padding;
+                /** @type {?} */
+                var currentColWidth = 0;
+                /** @type {?} */
+                var currentColHeight = 0;
+                /** @type {?} */
+                var columnIndex = 0;
+                helpers.each(me.legendItems, (/**
+                 * @param {?} legendItem
+                 * @param {?} i
+                 * @return {?}
+                 */
+                function (legendItem, i) {
+                    /** @type {?} */
+                    var itemWidth;
+                    /** @type {?} */
+                    var height;
+                    if (helpers.isArray(legendItem.text)) {
+                        itemWidth = getMaxLineWidth(legendItem.text);
+                        height = fontSize * legendItem.text.length;
+                    }
+                    else {
+                        itemWidth = ctx.measureText(legendItem.text).width;
+                        height = fontSize;
+                    }
+                    itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);
+                    // If too tall, go to new column
+                    if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {
+                        totalWidth += currentColWidth + labelOpts.padding;
+                        columnWidths.push(currentColWidth); // previous column width
+                        columnHeights.push(currentColHeight);
+                        currentColWidth = 0;
+                        currentColHeight = 0;
+                        columnIndex++;
+                    }
+                    legendItem.lineOrColumnIndex = columnIndex;
+                    // Get max width
+                    currentColWidth = Math.max(currentColWidth, itemWidth);
+                    currentColHeight += height + vPadding;
+                    // Store the hitbox width and height here. Final position will be updated in `draw`
+                    hitboxes[i] = {
+                        left: 0,
+                        top: 0,
+                        width: itemWidth,
+                        height: height
+                    };
+                }));
+                totalWidth += currentColWidth;
+                columnWidths.push(currentColWidth);
+                columnHeights.push(currentColHeight);
+                minSize.width += totalWidth;
+            }
+        }
+        me.width = minSize.width;
+        me.height = minSize.height;
+    }
+    /**
+     * @return {?}
+     */
+    function draw() {
+        /** @type {?} */
+        var me = this;
+        /** @type {?} */
+        var opts = me.options;
+        /** @type {?} */
+        var labelOpts = opts.labels;
+        /** @type {?} */
+        var globalDefaults = defaults.global;
+        /** @type {?} */
+        var defaultColor = globalDefaults.defaultColor;
+        /** @type {?} */
+        var lineDefault = globalDefaults.elements.line;
+        /** @type {?} */
+        var legendHeight = me.height;
+        /** @type {?} */
+        var columnHeights = me.columnHeights;
+        /** @type {?} */
+        var columnWidths = me.columnWidths;
+        /** @type {?} */
+        var legendWidth = me.width;
+        /** @type {?} */
+        var lineWidths = me.lineWidths;
+        /** @type {?} */
+        var lineHeights = me.lineHeights;
+        if (opts.display) {
+            /** @type {?} */
+            var ctx = me.ctx;
+            /** @type {?} */
+            var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);
+            /** @type {?} */
+            var labelFont = helpers.options._parseFont(labelOpts);
+            /** @type {?} */
+            var fontSize = labelFont.size;
+            /** @type {?} */
+            var cursor;
+            // Canvas setup
+            ctx.textAlign = 'left';
+            ctx.textBaseline = 'middle';
+            ctx.lineWidth = 0.5;
+            ctx.strokeStyle = fontColor; // for strikethrough effect
+            ctx.fillStyle = fontColor; // render in correct colour
+            ctx.font = labelFont.string;
+            /** @type {?} */
+            var boxWidth = getBoxWidth(labelOpts, fontSize);
+            /** @type {?} */
+            var hitboxes = me.legendHitBoxes;
+            // current position
+            /** @type {?} */
+            var drawLegendBox = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} legendItem
+             * @return {?}
+             */
+            function (x, y, legendItem) {
+                if (isNaN(boxWidth) || boxWidth <= 0) {
+                    return;
+                }
+                // Set the ctx for the box
+                ctx.save();
+                /** @type {?} */
+                var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);
+                ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);
+                ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);
+                ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);
+                ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);
+                ctx.lineWidth = lineWidth;
+                ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);
+                if (ctx.setLineDash) {
+                    // IE 9 and 10 do not support line dash
+                    ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));
+                }
+                if (opts.labels && opts.labels.usePointStyle) {
+                    // Recalculate x and y for drawPoint() because its expecting
+                    // x and y to be center of figure (instead of top left)
+                    /** @type {?} */
+                    var radius = boxWidth * Math.SQRT2 / 2;
+                    /** @type {?} */
+                    var centerX = x + boxWidth / 2;
+                    /** @type {?} */
+                    var centerY = y + fontSize / 2;
+                    // Draw pointStyle as legend symbol
+                    helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);
+                }
+                else {
+                    // Draw box as legend symbol
+                    if (lineWidth !== 0) {
+                        ctx.strokeRect(x, y, boxWidth, fontSize);
+                    }
+                    ctx.fillRect(x, y, boxWidth, fontSize);
+                }
+                ctx.restore();
+            });
+            /** @type {?} */
+            var drawStrikeThrough = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} w
+             * @return {?}
+             */
+            function (x, y, w) {
+                ctx.beginPath();
+                ctx.lineWidth = 2;
+                ctx.moveTo(x, y);
+                ctx.lineTo(x + w, y);
+                ctx.stroke();
+            });
+            /** @type {?} */
+            var drawCrossOver = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} w
+             * @param {?} h
+             * @return {?}
+             */
+            function (x, y, w, h) {
+                ctx.beginPath();
+                ctx.lineWidth = 2;
+                ctx.moveTo(x, y);
+                ctx.lineTo(x + w, y + h);
+                ctx.moveTo(x, y + h);
+                ctx.lineTo(x + w, y);
+                ctx.stroke();
+            });
+            /** @type {?} */
+            var fillText = (/**
+             * @param {?} x
+             * @param {?} y
+             * @param {?} legendItem
+             * @param {?} textWidth
+             * @return {?}
+             */
+            function (x, y, legendItem, textWidth) {
+                /** @type {?} */
+                var halfFontSize = fontSize / 2;
+                /** @type {?} */
+                var xLeft = boxWidth + halfFontSize + x;
+                /** @type {?} */
+                var yMiddle = y + halfFontSize;
+                if (helpers.isArray(legendItem.text)) {
+                    helpers.each(legendItem.text, (/**
+                     * @param {?} textLine
+                     * @param {?} index
+                     * @return {?}
+                     */
+                    function (textLine, index) {
+                        /** @type {?} */
+                        var lineOffset = index * fontSize;
+                        ctx.fillText(textLine, xLeft, yMiddle + lineOffset);
+                    }));
+                }
+                else {
+                    ctx.fillText(legendItem.text, xLeft, yMiddle);
+                }
+                if (legendItem.hidden) {
+                    if (helpers.isArray(legendItem.text)) {
+                        drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));
+                    }
+                    else {
+                        drawStrikeThrough(xLeft, yMiddle, textWidth);
+                    }
+                }
+            });
+            /** @type {?} */
+            var alignmentOffset = (/**
+             * @param {?} dimension
+             * @param {?} blockSize
+             * @return {?}
+             */
+            function (dimension, blockSize) {
+                switch (opts.align) {
+                    case 'start':
+                        return labelOpts.padding;
+                    case 'end':
+                        return dimension - blockSize;
+                    default: // center
+                        return (dimension - blockSize + labelOpts.padding) / 2;
+                }
+            });
+            // Horizontal
+            /** @type {?} */
+            var isHorizontal = me.isHorizontal();
+            if (isHorizontal) {
+                cursor = {
+                    x: me.left + alignmentOffset(legendWidth, lineWidths[0]),
+                    y: me.top + labelOpts.padding,
+                    line: 0
+                };
+            }
+            else {
+                cursor = {
+                    x: me.left + labelOpts.padding,
+                    y: me.top + alignmentOffset(legendHeight, columnHeights[0]),
+                    line: 0
+                };
+            }
+            helpers.each(me.legendItems, (/**
+             * @param {?} legendItem
+             * @param {?} i
+             * @return {?}
+             */
+            function (legendItem, i) {
+                /** @type {?} */
+                var textWidth;
+                /** @type {?} */
+                var height;
+                /** @type {?} */
+                var boxTopOffset;
+                if (legendItem.lineOrColumnIndex > cursor.line) {
+                    if (isHorizontal) {
+                        cursor.y += lineHeights[cursor.line];
+                        cursor.line = legendItem.lineOrColumnIndex;
+                        cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);
+                    }
+                    else {
+                        cursor.x += columnWidths[cursor.line] + labelOpts.padding;
+                        cursor.line = legendItem.lineOrColumnIndex;
+                        cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);
+                    }
+                }
+                if (helpers.isArray(legendItem.text)) {
+                    textWidth = legendItem.text.map((/**
+                     * @param {?} textLine
+                     * @return {?}
+                     */
+                    function (textLine) {
+                        return ctx.measureText(textLine).width;
+                    })).reduce((/**
+                     * @param {?} acc
+                     * @param {?} v
+                     * @return {?}
+                     */
+                    function (acc, v) {
+                        return v > acc ? v : acc;
+                    }), 0);
+                    boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);
+                    height = fontSize * legendItem.text.length;
+                }
+                else {
+                    textWidth = ctx.measureText(legendItem.text).width;
+                    boxTopOffset = 0;
+                    height = fontSize;
+                }
+                /** @type {?} */
+                var width = boxWidth + (fontSize / 2) + textWidth;
+                /** @type {?} */
+                var x = cursor.x;
+                /** @type {?} */
+                var y = cursor.y;
+                /** @type {?} */
+                var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;
+                drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);
+                hitboxes[i].left = x;
+                hitboxes[i].top = y;
+                // Fill the actual label
+                fillText(x, y + topOffset, legendItem, textWidth);
+                if (isHorizontal) {
+                    cursor.x += width + labelOpts.padding;
+                }
+                else {
+                    cursor.y += height + labelOpts.padding;
+                }
+            }));
+        }
+    }
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+// tslint:disable:variable-name
+// tslint:disable:no-var-keyword
+// tslint:disable:prefer-const
+// tslint:disable:only-arrow-functions
+// tslint:disable:one-variable-per-declaration
+// tslint:disable:object-literal-shorthand
+// tslint:disable:space-before-function-paren
+/**
+ * @return {?}
+ */
+function monkeyPatchChartJsTooltip() {
+    if (typeof Chart === 'undefined') {
+        console.log('Chart not defined (guessing this is a universal build, and I don\'t know why this happens -- Aviad)');
+        return;
+    }
+    Chart.Tooltip.prototype.drawBody = drawBody;
+    /** @type {?} */
+    var helpers = Chart.helpers;
+    /**
+     * @param {?} vm
+     * @param {?} align
+     * @return {?}
+     */
+    function getAlignedX(vm, align) {
+        return align === 'center'
+            ? vm.x + vm.width / 2
+            : align === 'right'
+                ? vm.x + vm.width - vm.xPadding
+                : vm.x + vm.xPadding;
+    }
+    /**
+     * @param {?} pt
+     * @param {?} vm
+     * @param {?} ctx
+     * @return {?}
+     */
+    function drawBody(pt, vm, ctx) {
+        /** @type {?} */
+        var bodyFontSize = vm.bodyFontSize;
+        /** @type {?} */
+        var bodySpacing = vm.bodySpacing;
+        /** @type {?} */
+        var bodyAlign = vm._bodyAlign;
+        /** @type {?} */
+        var body = vm.body;
+        /** @type {?} */
+        var drawColorBoxes = vm.displayColors;
+        /** @type {?} */
+        var labelColors = vm.labelColors;
+        /** @type {?} */
+        var xLinePadding = 0;
+        /** @type {?} */
+        var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;
+        /** @type {?} */
+        var textColor;
+        ctx.textAlign = bodyAlign;
+        ctx.textBaseline = 'top';
+        ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);
+        pt.x = getAlignedX(vm, bodyAlign);
+        // Before Body
+        /** @type {?} */
+        var fillLineOfText = (/**
+         * @param {?} line
+         * @return {?}
+         */
+        function (line) {
+            ctx.fillText(line, pt.x + xLinePadding, pt.y);
+            pt.y += bodyFontSize + bodySpacing;
+        });
+        // Before body lines
+        ctx.fillStyle = vm.bodyFontColor;
+        helpers.each(vm.beforeBody, fillLineOfText);
+        xLinePadding = drawColorBoxes && bodyAlign !== 'right'
+            ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)
+            : 0;
+        // Draw body lines now
+        helpers.each(body, (/**
+         * @param {?} bodyItem
+         * @param {?} i
+         * @return {?}
+         */
+        function (bodyItem, i) {
+            textColor = vm.labelTextColors[i];
+            ctx.fillStyle = textColor;
+            helpers.each(bodyItem.before, fillLineOfText);
+            // Draw Legend-like boxes if needed
+            if (drawColorBoxes) {
+                // Fill a white rect so that colours merge nicely if the opacity is < 1
+                ctx.fillStyle = vm.legendColorBackground;
+                ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                // Border
+                ctx.lineWidth = 1;
+                ctx.strokeStyle = labelColors[i].borderColor;
+                ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);
+                // Inner square
+                ctx.fillStyle = labelColors[i].backgroundColor;
+                ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);
+                ctx.fillStyle = textColor;
+            }
+            helpers.each(bodyItem.lines, fillLineOfText);
+            helpers.each(bodyItem.after, fillLineOfText);
+        }));
+        // Reset back to 0 for after body
+        xLinePadding = 0;
+        // After body lines
+        helpers.each(vm.afterBody, fillLineOfText);
+        pt.y -= bodySpacing; // Remove last body spacing
+    }
+}
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+/**
+ * @fileoverview added by tsickle
+ * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
+ */
+
+export { BaseChartDirective, ChartsModule, ThemeService, defaultColors, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip };
+//# sourceMappingURL=ng2-charts.js.map
diff --git a/node_modules/ng2-charts/fesm5/ng2-charts.js.map b/node_modules/ng2-charts/fesm5/ng2-charts.js.map
index 41e14ed..3472677 100644
--- a/node_modules/ng2-charts/fesm5/ng2-charts.js.map
+++ b/node_modules/ng2-charts/fesm5/ng2-charts.js.map
@@ -1 +1 @@
-{"version":3,"file":"ng2-charts.js","sources":["ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["chartJs.Chart"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ng2-charts.js","sources":["ng:/ng2-charts/lib/default-colors.ts","ng:/ng2-charts/lib/get-colors.ts","ng:/ng2-charts/lib/theme.service.ts","ng:/ng2-charts/lib/base-chart.directive.ts","ng:/ng2-charts/lib/charts.module.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng:/ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"names":["chartJs.Chart"],"mappings":"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","sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"]}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/fesm5/ng2-charts.js.map.__ivy_ngcc_bak b/node_modules/ng2-charts/fesm5/ng2-charts.js.map.__ivy_ngcc_bak
new file mode 100644
index 0000000..41e14ed
--- /dev/null
+++ b/node_modules/ng2-charts/fesm5/ng2-charts.js.map.__ivy_ngcc_bak
@@ -0,0 +1 @@
+{"version":3,"file":"ng2-charts.js","sources":["ng://ng2-charts/lib/default-colors.ts","ng://ng2-charts/lib/get-colors.ts","ng://ng2-charts/lib/theme.service.ts","ng://ng2-charts/lib/base-chart.directive.ts","ng://ng2-charts/lib/charts.module.ts","ng://ng2-charts/lib/monkey-patch-chart-js-legend.ts","ng://ng2-charts/lib/monkey-patch-chart-js-tooltip.ts"],"sourcesContent":["export const defaultColors: Array<number[]> = [\r\n  [255, 99, 132],\r\n  [54, 162, 235],\r\n  [255, 206, 86],\r\n  [231, 233, 237],\r\n  [75, 192, 192],\r\n  [151, 187, 205],\r\n  [220, 220, 220],\r\n  [247, 70, 74],\r\n  [70, 191, 189],\r\n  [253, 180, 92],\r\n  [148, 159, 177],\r\n  [77, 83, 96]\r\n];\r\n","import { Color } from './color';\r\nimport { Colors } from './colors';\r\nimport { defaultColors } from './default-colors';\r\n\r\n/**\r\n * Generate colors by chart type\r\n */\r\nexport function getColors(chartType: string, index: number, count: number): Color {\r\n  if (chartType === 'pie' || chartType === 'doughnut') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'polarArea') {\r\n    return formatPolarAreaColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'line' || chartType === 'radar') {\r\n    return formatLineColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bar' || chartType === 'horizontalBar') {\r\n    return formatBarColor(generateColor(index));\r\n  }\r\n\r\n  if (chartType === 'bubble') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  if (chartType === 'scatter') {\r\n    return formatPieColors(generateColors(count));\r\n  }\r\n\r\n  throw new Error(`getColors - Unsupported chart type ${chartType}`);\r\n}\r\n\r\nfunction rgba(colour: Array<number>, alpha: number): string {\r\n  return 'rgba(' + colour.concat(alpha).join(',') + ')';\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction formatLineColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.4),\r\n    borderColor: rgba(colors, 1),\r\n    pointBackgroundColor: rgba(colors, 1),\r\n    pointBorderColor: '#fff',\r\n    pointHoverBackgroundColor: '#fff',\r\n    pointHoverBorderColor: rgba(colors, 0.8)\r\n  };\r\n}\r\n\r\nfunction formatBarColor(colors: Array<number>): Color {\r\n  return {\r\n    backgroundColor: rgba(colors, 0.6),\r\n    borderColor: rgba(colors, 1),\r\n    hoverBackgroundColor: rgba(colors, 0.8),\r\n    hoverBorderColor: rgba(colors, 1)\r\n  };\r\n}\r\n\r\nfunction formatPieColors(colors: Array<number[]>): Colors {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map(() => '#fff'),\r\n    pointBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointBorderColor: colors.map(() => '#fff'),\r\n    pointHoverBackgroundColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    pointHoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction formatPolarAreaColors(colors: Array<number[]>): Color {\r\n  return {\r\n    backgroundColor: colors.map((color: number[]) => rgba(color, 0.6)),\r\n    borderColor: colors.map((color: number[]) => rgba(color, 1)),\r\n    hoverBackgroundColor: colors.map((color: number[]) => rgba(color, 0.8)),\r\n    hoverBorderColor: colors.map((color: number[]) => rgba(color, 1))\r\n  };\r\n}\r\n\r\nfunction getRandomColor(): number[] {\r\n  return [getRandomInt(0, 255), getRandomInt(0, 255), getRandomInt(0, 255)];\r\n}\r\n\r\n/**\r\n * Generate colors for line|bar charts\r\n */\r\nfunction generateColor(index: number): number[] {\r\n  return defaultColors[index] || getRandomColor();\r\n}\r\n\r\n/**\r\n * Generate colors for pie|doughnut charts\r\n */\r\nfunction generateColors(count: number): Array<number[]> {\r\n  const colorsArr: Array<number[]> = new Array(count);\r\n  for (let i = 0; i < count; i++) {\r\n    colorsArr[i] = defaultColors[i] || getRandomColor();\r\n  }\r\n  return colorsArr;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ChartOptions } from 'chart.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ThemeService {\r\n  private pColorschemesOptions: ChartOptions = {};\r\n  public colorschemesOptions = new BehaviorSubject<ChartOptions>({});\r\n\r\n  constructor() { }\r\n\r\n  setColorschemesOptions(options: ChartOptions) {\r\n    this.pColorschemesOptions = options;\r\n    this.colorschemesOptions.next(options);\r\n  }\r\n\r\n  getColorschemesOptions() {\r\n    return this.pColorschemesOptions;\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ElementRef,\r\n  SimpleChanges,\r\n  DoCheck,\r\n} from '@angular/core';\r\nimport * as chartJs from 'chart.js';\r\nimport { getColors } from './get-colors';\r\nimport { Color } from './color';\r\nimport { ThemeService } from './theme.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport type SingleDataSet = (number[] | chartJs.ChartPoint[]);\r\nexport type MultiDataSet = (number[] | chartJs.ChartPoint[])[];\r\nexport type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;\r\n\r\nexport type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;\r\nexport type SingleLineLabel = string;\r\nexport type MultiLineLabel = string[];\r\nexport type Label = SingleLineLabel | MultiLineLabel;\r\n\r\ninterface OldState {\r\n  dataExists: boolean;\r\n  dataLength: number;\r\n  datasetsExists: boolean;\r\n  datasetsLength: number;\r\n  datasetsDataObjects: any[];\r\n  datasetsDataLengths: number[];\r\n  colorsExists: boolean;\r\n  colors: Color[];\r\n  labelsExist: boolean;\r\n  labels: Label[];\r\n  legendExists: boolean;\r\n  legend: {\r\n    position?: string;\r\n  };\r\n}\r\n\r\nenum UpdateType {\r\n  Default,\r\n  Update,\r\n  Refresh\r\n}\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'canvas[baseChart]',\r\n  exportAs: 'base-chart'\r\n})\r\nexport class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {\r\n  @Input() public data: SingleOrMultiDataSet;\r\n  @Input() public datasets: chartJs.ChartDataSets[];\r\n  @Input() public labels: Label[];\r\n  @Input() public options: chartJs.ChartOptions = {};\r\n  @Input() public chartType: chartJs.ChartType;\r\n  @Input() public colors: Color[];\r\n  @Input() public legend: boolean;\r\n  @Input() public plugins: PluginServiceGlobalRegistrationAndOptions[];\r\n\r\n  @Output() public chartClick: EventEmitter<{ event?: MouseEvent, active?: {}[] }> = new EventEmitter();\r\n  @Output() public chartHover: EventEmitter<{ event: MouseEvent, active: {}[] }> = new EventEmitter();\r\n\r\n  public ctx: string;\r\n  public chart: Chart;\r\n\r\n  private old: OldState = {\r\n    dataExists: false,\r\n    dataLength: 0,\r\n    datasetsExists: false,\r\n    datasetsLength: 0,\r\n    datasetsDataObjects: [],\r\n    datasetsDataLengths: [],\r\n    colorsExists: false,\r\n    colors: [],\r\n    labelsExist: false,\r\n    labels: [],\r\n    legendExists: false,\r\n    legend: {},\r\n  };\r\n\r\n  private subs: Subscription[] = [];\r\n\r\n  /**\r\n   * Register a plugin.\r\n   */\r\n  public static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.register(plugin);\r\n  }\r\n\r\n  public static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions) {\r\n    chartJs.Chart.plugins.unregister(plugin);\r\n  }\r\n\r\n  public constructor(\r\n    private element: ElementRef,\r\n    private themeService: ThemeService,\r\n  ) { }\r\n\r\n  public ngOnInit() {\r\n    this.ctx = this.element.nativeElement.getContext('2d');\r\n    this.refresh();\r\n    this.subs.push(this.themeService.colorschemesOptions.subscribe(r => this.themeChanged(r)));\r\n  }\r\n\r\n  private themeChanged(options: {}) {\r\n    this.refresh();\r\n  }\r\n\r\n  ngDoCheck(): void {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    if (!!this.data !== this.old.dataExists) {\r\n      this.propagateDataToDatasets(this.data);\r\n\r\n      this.old.dataExists = !!this.data;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.data && this.data.length !== this.old.dataLength) {\r\n      this.old.dataLength = this.data && this.data.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.datasets !== this.old.datasetsExists) {\r\n      this.old.datasetsExists = !!this.datasets;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.length !== this.old.datasetsLength) {\r\n      this.old.datasetsLength = this.datasets && this.datasets.length || 0;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data !== this.old.datasetsDataObjects[i]).length) {\r\n      this.old.datasetsDataObjects = this.datasets.map(x => x.data);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.datasets && this.datasets.filter((x, i) => x.data.length !== this.old.datasetsDataLengths[i]).length) {\r\n      this.old.datasetsDataLengths = this.datasets.map(x => x.data.length);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.colors !== this.old.colorsExists) {\r\n      this.old.colorsExists = !!this.colors;\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    // This smells of inefficiency, might need to revisit this\r\n    if (this.colors && this.colors.filter((x, i) => !this.colorsEqual(x, this.old.colors[i])).length) {\r\n      this.old.colors = this.colors.map(x => this.copyColor(x));\r\n\r\n      this.updateColors();\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.labels !== this.old.labelsExist) {\r\n      this.old.labelsExist = !!this.labels;\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (this.labels && this.labels.filter((x, i) => !this.labelsEqual(x, this.old.labels[i])).length) {\r\n      this.old.labels = this.labels.map(x => this.copyLabel(x));\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (!!this.options.legend !== this.old.legendExists) {\r\n      this.old.legendExists = !!this.options.legend;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    if (this.options.legend && this.options.legend.position !== this.old.legend.position) {\r\n      this.old.legend.position = this.options.legend.position;\r\n\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Default:\r\n        break;\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  copyLabel(a: Label): Label {\r\n    if (Array.isArray(a)) {\r\n      return [...a];\r\n    }\r\n    return a;\r\n  }\r\n\r\n  labelsEqual(a: Label, b: Label) {\r\n    return true\r\n      && Array.isArray(a) === Array.isArray(b)\r\n      && (Array.isArray(a) || a === b)\r\n      && (!Array.isArray(a) || a.length === b.length)\r\n      && (!Array.isArray(a) || a.filter((x, i) => x !== b[i]).length === 0)\r\n      ;\r\n  }\r\n\r\n  copyColor(a: Color): Color {\r\n    const rc: Color = {\r\n      backgroundColor: a.backgroundColor,\r\n      borderWidth: a.borderWidth,\r\n      borderColor: a.borderColor,\r\n      borderCapStyle: a.borderCapStyle,\r\n      borderDash: a.borderDash,\r\n      borderDashOffset: a.borderDashOffset,\r\n      borderJoinStyle: a.borderJoinStyle,\r\n      pointBorderColor: a.pointBorderColor,\r\n      pointBackgroundColor: a.pointBackgroundColor,\r\n      pointBorderWidth: a.pointBorderWidth,\r\n      pointRadius: a.pointRadius,\r\n      pointHoverRadius: a.pointHoverRadius,\r\n      pointHitRadius: a.pointHitRadius,\r\n      pointHoverBackgroundColor: a.pointHoverBackgroundColor,\r\n      pointHoverBorderColor: a.pointHoverBorderColor,\r\n      pointHoverBorderWidth: a.pointHoverBorderWidth,\r\n      pointStyle: a.pointStyle,\r\n      hoverBackgroundColor: a.hoverBackgroundColor,\r\n      hoverBorderColor: a.hoverBorderColor,\r\n      hoverBorderWidth: a.hoverBorderWidth,\r\n    };\r\n\r\n    return rc;\r\n  }\r\n\r\n  colorsEqual(a: Color, b: Color) {\r\n    if (!a !== !b) {\r\n      return false;\r\n    }\r\n    return !a || true\r\n      && (a.backgroundColor === b.backgroundColor)\r\n      && (a.borderWidth === b.borderWidth)\r\n      && (a.borderColor === b.borderColor)\r\n      && (a.borderCapStyle === b.borderCapStyle)\r\n      && (a.borderDash === b.borderDash)\r\n      && (a.borderDashOffset === b.borderDashOffset)\r\n      && (a.borderJoinStyle === b.borderJoinStyle)\r\n      && (a.pointBorderColor === b.pointBorderColor)\r\n      && (a.pointBackgroundColor === b.pointBackgroundColor)\r\n      && (a.pointBorderWidth === b.pointBorderWidth)\r\n      && (a.pointRadius === b.pointRadius)\r\n      && (a.pointHoverRadius === b.pointHoverRadius)\r\n      && (a.pointHitRadius === b.pointHitRadius)\r\n      && (a.pointHoverBackgroundColor === b.pointHoverBackgroundColor)\r\n      && (a.pointHoverBorderColor === b.pointHoverBorderColor)\r\n      && (a.pointHoverBorderWidth === b.pointHoverBorderWidth)\r\n      && (a.pointStyle === b.pointStyle)\r\n      && (a.hoverBackgroundColor === b.hoverBackgroundColor)\r\n      && (a.hoverBorderColor === b.hoverBorderColor)\r\n      && (a.hoverBorderWidth === b.hoverBorderWidth)\r\n      ;\r\n  }\r\n\r\n  updateColors() {\r\n    this.datasets.forEach((elm, index) => {\r\n      if (this.colors && this.colors[index]) {\r\n        Object.assign(elm, this.colors[index]);\r\n      } else {\r\n        Object.assign(elm, getColors(this.chartType, index, elm.data.length), { ...elm });\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnChanges(changes: SimpleChanges) {\r\n    let updateRequired = UpdateType.Default;\r\n    const wantUpdate = (x: UpdateType) => {\r\n      updateRequired = x > updateRequired ? x : updateRequired;\r\n    };\r\n\r\n    // Check if the changes are in the data or datasets or labels or legend\r\n\r\n    if (changes.hasOwnProperty('data') && changes.data.currentValue) {\r\n      this.propagateDataToDatasets(changes.data.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('datasets') && changes.datasets.currentValue) {\r\n      this.propagateDatasetsToData(changes.datasets.currentValue);\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('labels')) {\r\n      if (this.chart) {\r\n        this.chart.data.labels = changes.labels.currentValue;\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('legend')) {\r\n      if (this.chart) {\r\n        this.chart.config.options.legend.display = changes.legend.currentValue;\r\n        this.chart.generateLegend();\r\n      }\r\n\r\n      wantUpdate(UpdateType.Update);\r\n    }\r\n\r\n    if (changes.hasOwnProperty('options')) {\r\n      wantUpdate(UpdateType.Refresh);\r\n    }\r\n\r\n    switch (updateRequired as UpdateType) {\r\n      case UpdateType.Update:\r\n        this.update();\r\n        break;\r\n      case UpdateType.Refresh:\r\n      case UpdateType.Default:\r\n        this.refresh();\r\n        break;\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    this.subs.forEach(x => x.unsubscribe());\r\n  }\r\n\r\n  public update(duration?: any, lazy?: any) {\r\n    if (this.chart) {\r\n      return this.chart.update(duration, lazy);\r\n    }\r\n  }\r\n\r\n  public hideDataset(index: number, hidden: boolean) {\r\n    this.chart.getDatasetMeta(index).hidden = hidden;\r\n    this.chart.update();\r\n  }\r\n\r\n  public isDatasetHidden(index: number): boolean {\r\n    return this.chart.getDatasetMeta(index).hidden;\r\n  }\r\n\r\n  public toBase64Image(): string {\r\n    return this.chart.toBase64Image();\r\n  }\r\n\r\n  public getChartConfiguration(): chartJs.ChartConfiguration {\r\n    const datasets = this.getDatasets();\r\n\r\n    const options = Object.assign({}, this.options);\r\n    if (this.legend === false) {\r\n      options.legend = { display: false };\r\n    }\r\n    // hook for onHover and onClick events\r\n    options.hover = options.hover || {};\r\n    if (!options.hover.onHover) {\r\n      options.hover.onHover = (event: MouseEvent, active: {}[]) => {\r\n        if (active && !active.length) {\r\n          return;\r\n        }\r\n        this.chartHover.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    if (!options.onClick) {\r\n      options.onClick = (event?: MouseEvent, active?: {}[]) => {\r\n        this.chartClick.emit({ event, active });\r\n      };\r\n    }\r\n\r\n    const mergedOptions = this.smartMerge(options, this.themeService.getColorschemesOptions());\r\n\r\n    const chartConfig: chartJs.ChartConfiguration = {\r\n      type: this.chartType,\r\n      data: {\r\n        labels: this.labels || [],\r\n        datasets\r\n      },\r\n      plugins: this.plugins,\r\n      options: mergedOptions,\r\n    };\r\n\r\n    return chartConfig;\r\n  }\r\n\r\n  public getChartBuilder(ctx: string/*, data:any[], options:any*/): Chart {\r\n    const chartConfig = this.getChartConfiguration();\r\n    return new chartJs.Chart(ctx, chartConfig);\r\n  }\r\n\r\n  smartMerge(options: any, overrides: any, level: number = 0): any {\r\n    if (level === 0) {\r\n      options = cloneDeep(options);\r\n    }\r\n    const keysToUpdate = Object.keys(overrides);\r\n    keysToUpdate.forEach(key => {\r\n      if (Array.isArray(overrides[key])) {\r\n        const arrayElements = options[key];\r\n        if (arrayElements) {\r\n          arrayElements.forEach(r => {\r\n            this.smartMerge(r, overrides[key][0], level + 1);\r\n          });\r\n        }\r\n      } else if (typeof (overrides[key]) === 'object') {\r\n        if (!(key in options)) {\r\n          options[key] = {};\r\n        }\r\n        this.smartMerge(options[key], overrides[key], level + 1);\r\n      } else {\r\n        options[key] = overrides[key];\r\n      }\r\n    });\r\n    if (level === 0) {\r\n      return options;\r\n    }\r\n  }\r\n\r\n  private isMultiLineLabel(label: Label): label is MultiLineLabel {\r\n    return Array.isArray(label);\r\n  }\r\n\r\n  private joinLabel(label: Label): string {\r\n    if (!label) {\r\n      return null;\r\n    }\r\n    if (this.isMultiLineLabel(label)) {\r\n      return label.join(' ');\r\n    } else {\r\n      return label;\r\n    }\r\n  }\r\n\r\n  private propagateDatasetsToData(datasets: chartJs.ChartDataSets[]) {\r\n    this.data = this.datasets.map(r => r.data);\r\n    if (this.chart) {\r\n      this.chart.data.datasets = datasets;\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private propagateDataToDatasets(newDataValues: SingleOrMultiDataSet): void {\r\n    if (this.isMultiDataSet(newDataValues)) {\r\n      if (this.datasets && newDataValues.length === this.datasets.length) {\r\n        this.datasets.forEach((dataset, i: number) => {\r\n          dataset.data = newDataValues[i];\r\n        });\r\n      } else {\r\n        this.datasets = newDataValues.map((data: number[], index: number) => {\r\n          return { data, label: this.joinLabel(this.labels[index]) || `Label ${index}` };\r\n        });\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.datasets) {\r\n        this.datasets = [{ data: newDataValues }];\r\n        if (this.chart) {\r\n          this.chart.data.datasets = this.datasets;\r\n        }\r\n      } else {\r\n        this.datasets[0].data = newDataValues;\r\n        this.datasets.splice(1); // Remove all elements but the first\r\n      }\r\n    }\r\n    this.updateColors();\r\n  }\r\n\r\n  private isMultiDataSet(data: SingleOrMultiDataSet): data is MultiDataSet {\r\n    return Array.isArray(data[0]);\r\n  }\r\n\r\n  private getDatasets() {\r\n    if (!this.datasets && !this.data) {\r\n      throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);\r\n    }\r\n\r\n    // If `datasets` is defined, use it over the `data` property.\r\n    if (this.datasets) {\r\n      this.propagateDatasetsToData(this.datasets);\r\n      return this.datasets;\r\n    }\r\n\r\n    if (this.data) {\r\n      this.propagateDataToDatasets(this.data);\r\n      return this.datasets;\r\n    }\r\n  }\r\n\r\n  private refresh() {\r\n    // if (this.options && this.options.responsive) {\r\n    //   setTimeout(() => this.refresh(), 50);\r\n    // }\r\n\r\n    // todo: remove this line, it is producing flickering\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = void 0;\r\n    }\r\n    if (this.ctx) {\r\n      this.chart = this.getChartBuilder(this.ctx/*, data, this.options*/);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BaseChartDirective } from './base-chart.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BaseChartDirective\r\n  ],\r\n  imports: [\r\n  ],\r\n  exports: [\r\n    BaseChartDirective\r\n  ]\r\n})\r\nexport class ChartsModule { }\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsLegend() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  const plugins = Chart.plugins.getAll();\r\n  const legend = plugins.filter(p => p.id === 'legend')[0];\r\n  legend._element.prototype.fit = fit;\r\n  legend._element.prototype.draw = draw;\r\n\r\n  const helpers = Chart.helpers;\r\n  const defaults = Chart.defaults;\r\n  const valueOrDefault = helpers.valueOrDefault;\r\n\r\n  function getBoxWidth(labelOpts, fontSize) {\r\n    return labelOpts.usePointStyle && labelOpts.boxWidth > fontSize ?\r\n      fontSize :\r\n      labelOpts.boxWidth;\r\n  }\r\n\r\n  function fit() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var display = opts.display;\r\n\r\n    var ctx = me.ctx;\r\n\r\n    var labelFont = helpers.options._parseFont(labelOpts);\r\n    var fontSize = labelFont.size;\r\n\r\n    // Reset hit boxes\r\n    var hitboxes = me.legendHitBoxes = [];\r\n\r\n    var minSize = me.minSize;\r\n    var isHorizontal = me.isHorizontal();\r\n\r\n    if (isHorizontal) {\r\n      minSize.width = me.maxWidth; // fill all the width\r\n      minSize.height = display ? 10 : 0;\r\n    } else {\r\n      minSize.width = display ? 10 : 0;\r\n      minSize.height = me.maxHeight; // fill all the height\r\n    }\r\n\r\n    var getMaxLineWidth = function (textLines) {\r\n      return textLines.map(function (textLine) {\r\n        return ctx.measureText(textLine).width;\r\n      }).reduce(function (acc, v) {\r\n        return v > acc ? v : acc;\r\n      }, 0);\r\n    };\r\n\r\n    // Increase sizes here\r\n    if (display) {\r\n      ctx.font = labelFont.string;\r\n\r\n      if (isHorizontal) {\r\n\r\n        // Labels\r\n\r\n        // Width of each line of legend boxes. Labels wrap onto multiple lines when there are too many to fit on one\r\n        var lineWidths = me.lineWidths = [0];\r\n        var lineHeights = me.lineHeights = [];\r\n        var currentLineHeight = 0;\r\n        var lineIndex = 0;\r\n\r\n        ctx.textAlign = 'left';\r\n        ctx.textBaseline = 'top';\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var width, height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            width = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length + labelOpts.padding;\r\n          } else {\r\n            width = ctx.measureText(legendItem.text).width;\r\n            height = fontSize + labelOpts.padding;\r\n          }\r\n          width += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          if (lineWidths[lineWidths.length - 1] + width + 2 * labelOpts.padding > minSize.width) {\r\n            lineHeights.push(currentLineHeight);\r\n            currentLineHeight = 0;\r\n            lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\r\n            lineIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = lineIndex;\r\n\r\n          if (height > currentLineHeight) {\r\n            currentLineHeight = height;\r\n          }\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: width,\r\n            height: height,\r\n          };\r\n\r\n          lineWidths[lineWidths.length - 1] += width + labelOpts.padding;\r\n        });\r\n\r\n        lineHeights.push(currentLineHeight);\r\n        minSize.height += lineHeights.reduce(function (acc, v) {\r\n          return acc + v;\r\n        }, 0);\r\n\r\n      } else {\r\n        var vPadding = labelOpts.padding;\r\n        var columnWidths = me.columnWidths = [];\r\n        var columnHeights = me.columnHeights = [];\r\n        var totalWidth = labelOpts.padding;\r\n        var currentColWidth = 0;\r\n        var currentColHeight = 0;\r\n        var columnIndex = 0;\r\n\r\n        helpers.each(me.legendItems, function (legendItem, i) {\r\n          var itemWidth;\r\n          var height;\r\n\r\n          if (helpers.isArray(legendItem.text)) {\r\n            itemWidth = getMaxLineWidth(legendItem.text);\r\n            height = fontSize * legendItem.text.length;\r\n          } else {\r\n            itemWidth = ctx.measureText(legendItem.text).width;\r\n            height = fontSize;\r\n          }\r\n          itemWidth += getBoxWidth(labelOpts, fontSize) + (fontSize / 2);\r\n\r\n          // If too tall, go to new column\r\n          if (currentColHeight + fontSize + 2 * vPadding > minSize.height) {\r\n            totalWidth += currentColWidth + labelOpts.padding;\r\n            columnWidths.push(currentColWidth); // previous column width\r\n            columnHeights.push(currentColHeight);\r\n            currentColWidth = 0;\r\n            currentColHeight = 0;\r\n            columnIndex++;\r\n          }\r\n\r\n          legendItem.lineOrColumnIndex = columnIndex;\r\n\r\n          // Get max width\r\n          currentColWidth = Math.max(currentColWidth, itemWidth);\r\n          currentColHeight += height + vPadding;\r\n\r\n          // Store the hitbox width and height here. Final position will be updated in `draw`\r\n          hitboxes[i] = {\r\n            left: 0,\r\n            top: 0,\r\n            width: itemWidth,\r\n            height: height\r\n          };\r\n        });\r\n\r\n        totalWidth += currentColWidth;\r\n        columnWidths.push(currentColWidth);\r\n        columnHeights.push(currentColHeight);\r\n        minSize.width += totalWidth;\r\n      }\r\n    }\r\n\r\n    me.width = minSize.width;\r\n    me.height = minSize.height;\r\n  }\r\n\r\n  function draw() {\r\n    var me = this;\r\n    var opts = me.options;\r\n    var labelOpts = opts.labels;\r\n    var globalDefaults = defaults.global;\r\n    var defaultColor = globalDefaults.defaultColor;\r\n    var lineDefault = globalDefaults.elements.line;\r\n    var legendHeight = me.height;\r\n    var columnHeights = me.columnHeights;\r\n    var columnWidths = me.columnWidths;\r\n    var legendWidth = me.width;\r\n    var lineWidths = me.lineWidths;\r\n    var lineHeights = me.lineHeights;\r\n\r\n    if (opts.display) {\r\n      var ctx = me.ctx;\r\n      var fontColor = valueOrDefault(labelOpts.fontColor, globalDefaults.defaultFontColor);\r\n      var labelFont = helpers.options._parseFont(labelOpts);\r\n      var fontSize = labelFont.size;\r\n      var cursor;\r\n\r\n      // Canvas setup\r\n      ctx.textAlign = 'left';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.lineWidth = 0.5;\r\n      ctx.strokeStyle = fontColor; // for strikethrough effect\r\n      ctx.fillStyle = fontColor; // render in correct colour\r\n      ctx.font = labelFont.string;\r\n\r\n      var boxWidth = getBoxWidth(labelOpts, fontSize);\r\n      var hitboxes = me.legendHitBoxes;\r\n\r\n      // current position\r\n      var drawLegendBox = function (x, y, legendItem) {\r\n        if (isNaN(boxWidth) || boxWidth <= 0) {\r\n          return;\r\n        }\r\n\r\n        // Set the ctx for the box\r\n        ctx.save();\r\n\r\n        var lineWidth = valueOrDefault(legendItem.lineWidth, lineDefault.borderWidth);\r\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\r\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, lineDefault.borderCapStyle);\r\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, lineDefault.borderDashOffset);\r\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, lineDefault.borderJoinStyle);\r\n        ctx.lineWidth = lineWidth;\r\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\r\n\r\n        if (ctx.setLineDash) {\r\n          // IE 9 and 10 do not support line dash\r\n          ctx.setLineDash(valueOrDefault(legendItem.lineDash, lineDefault.borderDash));\r\n        }\r\n\r\n        if (opts.labels && opts.labels.usePointStyle) {\r\n          // Recalculate x and y for drawPoint() because its expecting\r\n          // x and y to be center of figure (instead of top left)\r\n          var radius = boxWidth * Math.SQRT2 / 2;\r\n          var centerX = x + boxWidth / 2;\r\n          var centerY = y + fontSize / 2;\r\n\r\n          // Draw pointStyle as legend symbol\r\n          helpers.canvas.drawPoint(ctx, legendItem.pointStyle, radius, centerX, centerY);\r\n        } else {\r\n          // Draw box as legend symbol\r\n          if (lineWidth !== 0) {\r\n            ctx.strokeRect(x, y, boxWidth, fontSize);\r\n          }\r\n          ctx.fillRect(x, y, boxWidth, fontSize);\r\n        }\r\n\r\n        ctx.restore();\r\n      };\r\n\r\n      var drawStrikeThrough = function (x, y, w) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var drawCrossOver = function (x, y, w, h) {\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 2;\r\n        ctx.moveTo(x, y);\r\n        ctx.lineTo(x + w, y + h);\r\n        ctx.moveTo(x, y + h);\r\n        ctx.lineTo(x + w, y);\r\n        ctx.stroke();\r\n      };\r\n\r\n      var fillText = function (x, y, legendItem, textWidth) {\r\n        var halfFontSize = fontSize / 2;\r\n        var xLeft = boxWidth + halfFontSize + x;\r\n        var yMiddle = y + halfFontSize;\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          helpers.each(legendItem.text, function (textLine, index) {\r\n            var lineOffset = index * fontSize;\r\n            ctx.fillText(textLine, xLeft, yMiddle + lineOffset);\r\n          });\r\n        } else {\r\n          ctx.fillText(legendItem.text, xLeft, yMiddle);\r\n        }\r\n\r\n        if (legendItem.hidden) {\r\n          if (helpers.isArray(legendItem.text)) {\r\n            drawCrossOver(xLeft, yMiddle, textWidth, (legendItem.text.length - 1) * (fontSize - 1));\r\n          } else {\r\n            drawStrikeThrough(xLeft, yMiddle, textWidth);\r\n          }\r\n        }\r\n      };\r\n\r\n      var alignmentOffset = function (dimension, blockSize) {\r\n        switch (opts.align) {\r\n          case 'start':\r\n            return labelOpts.padding;\r\n          case 'end':\r\n            return dimension - blockSize;\r\n          default: // center\r\n            return (dimension - blockSize + labelOpts.padding) / 2;\r\n        }\r\n      };\r\n\r\n      // Horizontal\r\n      var isHorizontal = me.isHorizontal();\r\n      if (isHorizontal) {\r\n        cursor = {\r\n          x: me.left + alignmentOffset(legendWidth, lineWidths[0]),\r\n          y: me.top + labelOpts.padding,\r\n          line: 0\r\n        };\r\n      } else {\r\n        cursor = {\r\n          x: me.left + labelOpts.padding,\r\n          y: me.top + alignmentOffset(legendHeight, columnHeights[0]),\r\n          line: 0\r\n        };\r\n      }\r\n\r\n      helpers.each(me.legendItems, function (legendItem, i) {\r\n        var textWidth, height, boxTopOffset;\r\n\r\n        if (legendItem.lineOrColumnIndex > cursor.line) {\r\n          if (isHorizontal) {\r\n            cursor.y += lineHeights[cursor.line];\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.x = me.left + alignmentOffset(legendWidth, lineWidths[cursor.line]);\r\n          } else {\r\n            cursor.x += columnWidths[cursor.line] + labelOpts.padding;\r\n            cursor.line = legendItem.lineOrColumnIndex;\r\n            cursor.y = me.top + alignmentOffset(legendHeight, columnHeights[cursor.line]);\r\n          }\r\n        }\r\n\r\n        if (helpers.isArray(legendItem.text)) {\r\n          textWidth = legendItem.text.map(function (textLine) {\r\n            return ctx.measureText(textLine).width;\r\n          }).reduce(function (acc, v) {\r\n            return v > acc ? v : acc;\r\n          }, 0);\r\n          boxTopOffset = fontSize / 2 * (legendItem.text.length - 1);\r\n          height = fontSize * legendItem.text.length;\r\n        } else {\r\n          textWidth = ctx.measureText(legendItem.text).width;\r\n          boxTopOffset = 0;\r\n          height = fontSize;\r\n        }\r\n\r\n        var width = boxWidth + (fontSize / 2) + textWidth;\r\n        var x = cursor.x;\r\n        var y = cursor.y;\r\n\r\n        var topOffset = isHorizontal ? Math.trunc((lineHeights[cursor.line] - hitboxes[i].height) / 2) : 0;\r\n\r\n        drawLegendBox(x, y + boxTopOffset + topOffset, legendItem);\r\n\r\n        hitboxes[i].left = x;\r\n        hitboxes[i].top = y;\r\n\r\n        // Fill the actual label\r\n        fillText(x, y + topOffset, legendItem, textWidth);\r\n\r\n        if (isHorizontal) {\r\n          cursor.x += width + labelOpts.padding;\r\n        } else {\r\n          cursor.y += height + labelOpts.padding;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// tslint:disable:variable-name\r\n// tslint:disable:no-var-keyword\r\n// tslint:disable:prefer-const\r\n// tslint:disable:only-arrow-functions\r\n// tslint:disable:one-variable-per-declaration\r\n// tslint:disable:object-literal-shorthand\r\n// tslint:disable:space-before-function-paren\r\n\r\ndeclare class Chart {\r\n  static readonly Chart: typeof Chart;\r\n  static readonly Tooltip: any;\r\n  static readonly helpers: any;\r\n  static readonly defaults: any;\r\n  static readonly plugins: any;\r\n}\r\n\r\nexport function monkeyPatchChartJsTooltip() {\r\n  if (typeof Chart === 'undefined') {\r\n    console.log('Chart not defined (guessing this is a universal build, and I don\\'t know why this happens -- Aviad)');\r\n    return;\r\n  }\r\n  Chart.Tooltip.prototype.drawBody = drawBody;\r\n  const helpers = Chart.helpers;\r\n\r\n  function getAlignedX(vm, align) {\r\n    return align === 'center'\r\n      ? vm.x + vm.width / 2\r\n      : align === 'right'\r\n        ? vm.x + vm.width - vm.xPadding\r\n        : vm.x + vm.xPadding;\r\n  }\r\n\r\n  function drawBody(pt, vm, ctx) {\r\n    var bodyFontSize = vm.bodyFontSize;\r\n    var bodySpacing = vm.bodySpacing;\r\n    var bodyAlign = vm._bodyAlign;\r\n    var body = vm.body;\r\n    var drawColorBoxes = vm.displayColors;\r\n    var labelColors = vm.labelColors;\r\n    var xLinePadding = 0;\r\n    var colorX = drawColorBoxes ? getAlignedX(vm, 'left') : 0;\r\n    var textColor;\r\n\r\n    ctx.textAlign = bodyAlign;\r\n    ctx.textBaseline = 'top';\r\n    ctx.font = helpers.fontString(bodyFontSize, vm._bodyFontStyle, vm._bodyFontFamily);\r\n\r\n    pt.x = getAlignedX(vm, bodyAlign);\r\n\r\n    // Before Body\r\n    var fillLineOfText = function (line) {\r\n      ctx.fillText(line, pt.x + xLinePadding, pt.y);\r\n      pt.y += bodyFontSize + bodySpacing;\r\n    };\r\n\r\n    // Before body lines\r\n    ctx.fillStyle = vm.bodyFontColor;\r\n    helpers.each(vm.beforeBody, fillLineOfText);\r\n\r\n    xLinePadding = drawColorBoxes && bodyAlign !== 'right'\r\n      ? bodyAlign === 'center' ? (bodyFontSize / 2 + 1) : (bodyFontSize + 2)\r\n      : 0;\r\n\r\n    // Draw body lines now\r\n    helpers.each(body, function (bodyItem, i) {\r\n      textColor = vm.labelTextColors[i];\r\n      ctx.fillStyle = textColor;\r\n      helpers.each(bodyItem.before, fillLineOfText);\r\n\r\n      // Draw Legend-like boxes if needed\r\n      if (drawColorBoxes) {\r\n        // Fill a white rect so that colours merge nicely if the opacity is < 1\r\n        ctx.fillStyle = vm.legendColorBackground;\r\n        ctx.fillRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Border\r\n        ctx.lineWidth = 1;\r\n        ctx.strokeStyle = labelColors[i].borderColor;\r\n        ctx.strokeRect(colorX, pt.y, bodyFontSize, bodyFontSize);\r\n\r\n        // Inner square\r\n        ctx.fillStyle = labelColors[i].backgroundColor;\r\n        ctx.fillRect(colorX + 1, pt.y + 1, bodyFontSize - 2, bodyFontSize - 2);\r\n        ctx.fillStyle = textColor;\r\n      }\r\n\r\n      helpers.each(bodyItem.lines, fillLineOfText);\r\n\r\n      helpers.each(bodyItem.after, fillLineOfText);\r\n    });\r\n\r\n    // Reset back to 0 for after body\r\n    xLinePadding = 0;\r\n\r\n    // After body lines\r\n    helpers.each(vm.afterBody, fillLineOfText);\r\n    pt.y -= bodySpacing; // Remove last body spacing\r\n  }\r\n}\r\n"],"names":["chartJs.Chart"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/ng2-charts/lib/base-chart.directive.d.ts b/node_modules/ng2-charts/lib/base-chart.directive.d.ts
index d5975bc..c0bb0a5 100644
--- a/node_modules/ng2-charts/lib/base-chart.directive.d.ts
+++ b/node_modules/ng2-charts/lib/base-chart.directive.d.ts
@@ -2,6 +2,7 @@ import { OnDestroy, OnChanges, OnInit, EventEmitter, ElementRef, SimpleChanges,
 import * as chartJs from 'chart.js';
 import { Color } from './color';
 import { ThemeService } from './theme.service';
+import * as ɵngcc0 from '@angular/core';
 export declare type SingleDataSet = (number[] | chartJs.ChartPoint[]);
 export declare type MultiDataSet = (number[] | chartJs.ChartPoint[])[];
 export declare type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;
@@ -62,4 +63,8 @@ export declare class BaseChartDirective implements OnDestroy, OnChanges, OnInit,
     private isMultiDataSet;
     private getDatasets;
     private refresh;
+    static ɵfac: ɵngcc0.ɵɵFactoryDef<BaseChartDirective, never>;
+    static ɵdir: ɵngcc0.ɵɵDirectiveDefWithMeta<BaseChartDirective, "canvas[baseChart]", ["base-chart"], { "options": "options"; "data": "data"; "datasets": "datasets"; "labels": "labels"; "chartType": "chartType"; "colors": "colors"; "legend": "legend"; "plugins": "plugins"; }, { "chartClick": "chartClick"; "chartHover": "chartHover"; }, never>;
 }
+
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jaGFydC5kaXJlY3RpdmUuZC50cyIsInNvdXJjZXMiOlsiYmFzZS1jaGFydC5kaXJlY3RpdmUuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0REEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPbkRlc3Ryb3ksIE9uQ2hhbmdlcywgT25Jbml0LCBFdmVudEVtaXR0ZXIsIEVsZW1lbnRSZWYsIFNpbXBsZUNoYW5nZXMsIERvQ2hlY2sgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0ICogYXMgY2hhcnRKcyBmcm9tICdjaGFydC5qcyc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi9jb2xvcic7XHJcbmltcG9ydCB7IFRoZW1lU2VydmljZSB9IGZyb20gJy4vdGhlbWUuc2VydmljZSc7XHJcbmV4cG9ydCBkZWNsYXJlIHR5cGUgU2luZ2xlRGF0YVNldCA9IChudW1iZXJbXSB8IGNoYXJ0SnMuQ2hhcnRQb2ludFtdKTtcclxuZXhwb3J0IGRlY2xhcmUgdHlwZSBNdWx0aURhdGFTZXQgPSAobnVtYmVyW10gfCBjaGFydEpzLkNoYXJ0UG9pbnRbXSlbXTtcclxuZXhwb3J0IGRlY2xhcmUgdHlwZSBTaW5nbGVPck11bHRpRGF0YVNldCA9IFNpbmdsZURhdGFTZXQgfCBNdWx0aURhdGFTZXQ7XHJcbmV4cG9ydCBkZWNsYXJlIHR5cGUgUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbkFuZE9wdGlvbnMgPSBjaGFydEpzLlBsdWdpblNlcnZpY2VHbG9iYWxSZWdpc3RyYXRpb24gJiBjaGFydEpzLlBsdWdpblNlcnZpY2VSZWdpc3RyYXRpb25PcHRpb25zO1xyXG5leHBvcnQgZGVjbGFyZSB0eXBlIFNpbmdsZUxpbmVMYWJlbCA9IHN0cmluZztcclxuZXhwb3J0IGRlY2xhcmUgdHlwZSBNdWx0aUxpbmVMYWJlbCA9IHN0cmluZ1tdO1xyXG5leHBvcnQgZGVjbGFyZSB0eXBlIExhYmVsID0gU2luZ2xlTGluZUxhYmVsIHwgTXVsdGlMaW5lTGFiZWw7XHJcbmV4cG9ydCBkZWNsYXJlIGNsYXNzIEJhc2VDaGFydERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzLCBPbkluaXQsIE9uRGVzdHJveSwgRG9DaGVjayB7XHJcbiAgICBwcml2YXRlIGVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRoZW1lU2VydmljZTtcclxuICAgIGRhdGE6IFNpbmdsZU9yTXVsdGlEYXRhU2V0O1xyXG4gICAgZGF0YXNldHM6IGNoYXJ0SnMuQ2hhcnREYXRhU2V0c1tdO1xyXG4gICAgbGFiZWxzOiBMYWJlbFtdO1xyXG4gICAgb3B0aW9uczogY2hhcnRKcy5DaGFydE9wdGlvbnM7XHJcbiAgICBjaGFydFR5cGU6IGNoYXJ0SnMuQ2hhcnRUeXBlO1xyXG4gICAgY29sb3JzOiBDb2xvcltdO1xyXG4gICAgbGVnZW5kOiBib29sZWFuO1xyXG4gICAgcGx1Z2luczogUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbkFuZE9wdGlvbnNbXTtcclxuICAgIGNoYXJ0Q2xpY2s6IEV2ZW50RW1pdHRlcjx7XHJcbiAgICAgICAgZXZlbnQ/OiBNb3VzZUV2ZW50O1xyXG4gICAgICAgIGFjdGl2ZT86IHt9W107XHJcbiAgICB9PjtcclxuICAgIGNoYXJ0SG92ZXI6IEV2ZW50RW1pdHRlcjx7XHJcbiAgICAgICAgZXZlbnQ6IE1vdXNlRXZlbnQ7XHJcbiAgICAgICAgYWN0aXZlOiB7fVtdO1xyXG4gICAgfT47XHJcbiAgICBjdHg6IHN0cmluZztcclxuICAgIGNoYXJ0OiBDaGFydDtcclxuICAgIHByaXZhdGUgb2xkO1xyXG4gICAgcHJpdmF0ZSBzdWJzO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbjogUGx1Z2luU2VydmljZUdsb2JhbFJlZ2lzdHJhdGlvbkFuZE9wdGlvbnMpOiB2b2lkO1xyXG4gICAgc3RhdGljIHVucmVnaXN0ZXJQbHVnaW4ocGx1Z2luOiBQbHVnaW5TZXJ2aWNlR2xvYmFsUmVnaXN0cmF0aW9uQW5kT3B0aW9ucyk6IHZvaWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBFbGVtZW50UmVmLCB0aGVtZVNlcnZpY2U6IFRoZW1lU2VydmljZSk7XHJcbiAgICBuZ09uSW5pdCgpOiB2b2lkO1xyXG4gICAgcHJpdmF0ZSB0aGVtZUNoYW5nZWQ7XHJcbiAgICBuZ0RvQ2hlY2soKTogdm9pZDtcclxuICAgIGNvcHlMYWJlbChhOiBMYWJlbCk6IExhYmVsO1xyXG4gICAgbGFiZWxzRXF1YWwoYTogTGFiZWwsIGI6IExhYmVsKTogYm9vbGVhbjtcclxuICAgIGNvcHlDb2xvcihhOiBDb2xvcik6IENvbG9yO1xyXG4gICAgY29sb3JzRXF1YWwoYTogQ29sb3IsIGI6IENvbG9yKTogYm9vbGVhbjtcclxuICAgIHVwZGF0ZUNvbG9ycygpOiB2b2lkO1xyXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQ7XHJcbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkO1xyXG4gICAgdXBkYXRlKGR1cmF0aW9uPzogYW55LCBsYXp5PzogYW55KToge307XHJcbiAgICBoaWRlRGF0YXNldChpbmRleDogbnVtYmVyLCBoaWRkZW46IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgaXNEYXRhc2V0SGlkZGVuKGluZGV4OiBudW1iZXIpOiBib29sZWFuO1xyXG4gICAgdG9CYXNlNjRJbWFnZSgpOiBzdHJpbmc7XHJcbiAgICBnZXRDaGFydENvbmZpZ3VyYXRpb24oKTogY2hhcnRKcy5DaGFydENvbmZpZ3VyYXRpb247XHJcbiAgICBnZXRDaGFydEJ1aWxkZXIoY3R4OiBzdHJpbmcpOiBDaGFydDtcclxuICAgIHNtYXJ0TWVyZ2Uob3B0aW9uczogYW55LCBvdmVycmlkZXM6IGFueSwgbGV2ZWw/OiBudW1iZXIpOiBhbnk7XHJcbiAgICBwcml2YXRlIGlzTXVsdGlMaW5lTGFiZWw7XHJcbiAgICBwcml2YXRlIGpvaW5MYWJlbDtcclxuICAgIHByaXZhdGUgcHJvcGFnYXRlRGF0YXNldHNUb0RhdGE7XHJcbiAgICBwcml2YXRlIHByb3BhZ2F0ZURhdGFUb0RhdGFzZXRzO1xyXG4gICAgcHJpdmF0ZSBpc011bHRpRGF0YVNldDtcclxuICAgIHByaXZhdGUgZ2V0RGF0YXNldHM7XHJcbiAgICBwcml2YXRlIHJlZnJlc2g7XHJcbn1cclxuIl19
\ No newline at end of file
diff --git a/node_modules/ng2-charts/lib/base-chart.directive.d.ts.__ivy_ngcc_bak b/node_modules/ng2-charts/lib/base-chart.directive.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..d5975bc
--- /dev/null
+++ b/node_modules/ng2-charts/lib/base-chart.directive.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,65 @@
+import { OnDestroy, OnChanges, OnInit, EventEmitter, ElementRef, SimpleChanges, DoCheck } from '@angular/core';
+import * as chartJs from 'chart.js';
+import { Color } from './color';
+import { ThemeService } from './theme.service';
+export declare type SingleDataSet = (number[] | chartJs.ChartPoint[]);
+export declare type MultiDataSet = (number[] | chartJs.ChartPoint[])[];
+export declare type SingleOrMultiDataSet = SingleDataSet | MultiDataSet;
+export declare type PluginServiceGlobalRegistrationAndOptions = chartJs.PluginServiceGlobalRegistration & chartJs.PluginServiceRegistrationOptions;
+export declare type SingleLineLabel = string;
+export declare type MultiLineLabel = string[];
+export declare type Label = SingleLineLabel | MultiLineLabel;
+export declare class BaseChartDirective implements OnDestroy, OnChanges, OnInit, OnDestroy, DoCheck {
+    private element;
+    private themeService;
+    data: SingleOrMultiDataSet;
+    datasets: chartJs.ChartDataSets[];
+    labels: Label[];
+    options: chartJs.ChartOptions;
+    chartType: chartJs.ChartType;
+    colors: Color[];
+    legend: boolean;
+    plugins: PluginServiceGlobalRegistrationAndOptions[];
+    chartClick: EventEmitter<{
+        event?: MouseEvent;
+        active?: {}[];
+    }>;
+    chartHover: EventEmitter<{
+        event: MouseEvent;
+        active: {}[];
+    }>;
+    ctx: string;
+    chart: Chart;
+    private old;
+    private subs;
+    /**
+     * Register a plugin.
+     */
+    static registerPlugin(plugin: PluginServiceGlobalRegistrationAndOptions): void;
+    static unregisterPlugin(plugin: PluginServiceGlobalRegistrationAndOptions): void;
+    constructor(element: ElementRef, themeService: ThemeService);
+    ngOnInit(): void;
+    private themeChanged;
+    ngDoCheck(): void;
+    copyLabel(a: Label): Label;
+    labelsEqual(a: Label, b: Label): boolean;
+    copyColor(a: Color): Color;
+    colorsEqual(a: Color, b: Color): boolean;
+    updateColors(): void;
+    ngOnChanges(changes: SimpleChanges): void;
+    ngOnDestroy(): void;
+    update(duration?: any, lazy?: any): {};
+    hideDataset(index: number, hidden: boolean): void;
+    isDatasetHidden(index: number): boolean;
+    toBase64Image(): string;
+    getChartConfiguration(): chartJs.ChartConfiguration;
+    getChartBuilder(ctx: string): Chart;
+    smartMerge(options: any, overrides: any, level?: number): any;
+    private isMultiLineLabel;
+    private joinLabel;
+    private propagateDatasetsToData;
+    private propagateDataToDatasets;
+    private isMultiDataSet;
+    private getDatasets;
+    private refresh;
+}
diff --git a/node_modules/ng2-charts/lib/charts.module.d.ts b/node_modules/ng2-charts/lib/charts.module.d.ts
index c2c9590..1a43a0a 100644
--- a/node_modules/ng2-charts/lib/charts.module.d.ts
+++ b/node_modules/ng2-charts/lib/charts.module.d.ts
@@ -1,2 +1,8 @@
+import * as ɵngcc0 from '@angular/core';
+import * as ɵngcc1 from './base-chart.directive';
 export declare class ChartsModule {
+    static ɵmod: ɵngcc0.ɵɵNgModuleDefWithMeta<ChartsModule, [typeof ɵngcc1.BaseChartDirective], never, [typeof ɵngcc1.BaseChartDirective]>;
+    static ɵinj: ɵngcc0.ɵɵInjectorDef<ChartsModule>;
 }
+
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhcnRzLm1vZHVsZS5kLnRzIiwic291cmNlcyI6WyJjaGFydHMubW9kdWxlLmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7O0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVjbGFyZSBjbGFzcyBDaGFydHNNb2R1bGUge1xyXG59XHJcbiJdfQ==
\ No newline at end of file
diff --git a/node_modules/ng2-charts/lib/charts.module.d.ts.__ivy_ngcc_bak b/node_modules/ng2-charts/lib/charts.module.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..c2c9590
--- /dev/null
+++ b/node_modules/ng2-charts/lib/charts.module.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,2 @@
+export declare class ChartsModule {
+}
diff --git a/node_modules/ng2-charts/lib/theme.service.d.ts b/node_modules/ng2-charts/lib/theme.service.d.ts
index 7b7c224..4f257c6 100644
--- a/node_modules/ng2-charts/lib/theme.service.d.ts
+++ b/node_modules/ng2-charts/lib/theme.service.d.ts
@@ -1,9 +1,14 @@
 import { BehaviorSubject } from 'rxjs';
 import { ChartOptions } from 'chart.js';
+import * as ɵngcc0 from '@angular/core';
 export declare class ThemeService {
     private pColorschemesOptions;
     colorschemesOptions: BehaviorSubject<ChartOptions>;
     constructor();
     setColorschemesOptions(options: ChartOptions): void;
     getColorschemesOptions(): ChartOptions;
+    static ɵfac: ɵngcc0.ɵɵFactoryDef<ThemeService, never>;
+    static ɵprov: ɵngcc0.ɵɵInjectableDef<ThemeService>;
 }
+
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuc2VydmljZS5kLnRzIiwic291cmNlcyI6WyJ0aGVtZS5zZXJ2aWNlLmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQUVBOzs7Ozs7OztBQU1BIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IENoYXJ0T3B0aW9ucyB9IGZyb20gJ2NoYXJ0LmpzJztcclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgVGhlbWVTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgcENvbG9yc2NoZW1lc09wdGlvbnM7XHJcbiAgICBjb2xvcnNjaGVtZXNPcHRpb25zOiBCZWhhdmlvclN1YmplY3Q8Q2hhcnRPcHRpb25zPjtcclxuICAgIGNvbnN0cnVjdG9yKCk7XHJcbiAgICBzZXRDb2xvcnNjaGVtZXNPcHRpb25zKG9wdGlvbnM6IENoYXJ0T3B0aW9ucyk6IHZvaWQ7XHJcbiAgICBnZXRDb2xvcnNjaGVtZXNPcHRpb25zKCk6IENoYXJ0T3B0aW9ucztcclxufVxyXG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/lib/theme.service.d.ts.__ivy_ngcc_bak b/node_modules/ng2-charts/lib/theme.service.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..7b7c224
--- /dev/null
+++ b/node_modules/ng2-charts/lib/theme.service.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,9 @@
+import { BehaviorSubject } from 'rxjs';
+import { ChartOptions } from 'chart.js';
+export declare class ThemeService {
+    private pColorschemesOptions;
+    colorschemesOptions: BehaviorSubject<ChartOptions>;
+    constructor();
+    setColorschemesOptions(options: ChartOptions): void;
+    getColorschemesOptions(): ChartOptions;
+}
diff --git a/node_modules/ng2-charts/ng2-charts.d.ts b/node_modules/ng2-charts/ng2-charts.d.ts
index 42f65a5..3d3c475 100644
--- a/node_modules/ng2-charts/ng2-charts.d.ts
+++ b/node_modules/ng2-charts/ng2-charts.d.ts
@@ -2,3 +2,5 @@
  * Generated bundle index. Do not edit.
  */
 export * from './public_api';
+
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWNoYXJ0cy5kLnRzIiwic291cmNlcyI6WyJuZzItY2hhcnRzLmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXHJcbiAqL1xyXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpY19hcGknO1xyXG4iXX0=
\ No newline at end of file
diff --git a/node_modules/ng2-charts/ng2-charts.d.ts.__ivy_ngcc_bak b/node_modules/ng2-charts/ng2-charts.d.ts.__ivy_ngcc_bak
new file mode 100644
index 0000000..42f65a5
--- /dev/null
+++ b/node_modules/ng2-charts/ng2-charts.d.ts.__ivy_ngcc_bak
@@ -0,0 +1,4 @@
+/**
+ * Generated bundle index. Do not edit.
+ */
+export * from './public_api';
