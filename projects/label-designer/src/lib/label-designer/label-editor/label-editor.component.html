<table>
  <tr>
    <td>
      <div class="editor-area">
        @if (init) {
          <div class="editor" id="{{_backSide ? 'back-side-label-editor' : 'label-editor'}}" [ngStyle]="_magnifiedStyle">
            @if (gridVisible) {
              <ll-editor-grid [grid]="grid" [magnification]="_magnification"></ll-editor-grid>
            }
            @if (_backSide) {
              @for (item of _setup.backSideLabelItems; track item; let i = $index) {
                <ll-editor-item
                  [grid]="grid"
                  [magnification]="_magnification"
                  [item]="item"
                  [boundary]="'#back-side-label-editor'"
                  (done)="done.emit()"
                  (itemClick)="setActiveItem($event)"
                  (itemChange)="onItemChange(item, $event)"
                  [active]="item === active"
                  [maxWidth]="_setup.label['width.mm']!"
                  [maxHeight]="_setup.label['height.mm']!"
                  (showSettings)="showSettings.emit($event)"
                ></ll-editor-item>
              }
            } @else {
              @for (item of _setup.labelItems; track item; let i = $index) {
                <ll-editor-item
                  [grid]="grid"
                  [magnification]="_magnification"
                  [item]="item"
                  [boundary]="'#label-editor'"
                  (done)="done.emit()"
                  (itemClick)="setActiveItem($event)"
                  (itemChange)="onItemChange(item, $event)"
                  [active]="item === active"
                  [maxWidth]="_setup.label['width.mm']!"
                  [maxHeight]="_setup.label['height.mm']!"
                  (showSettings)="showSettings.emit($event)"
                ></ll-editor-item>
              }
            }
          </div>
        }
      </div>
    </td>
    @if (!_backSide) {
      <td class="height-settings">
        <input style="width: 30px" type="text" [value]="_setup.label['height.mm']" (change)="updateDimensions($event, 'height.mm', 'label')">mm.
      </td>
    }
  </tr>
  @if (!_backSide) {
    <tr>
      <td class="width-settings">
        <input style="width: 30px" type="text" [value]="_setup.label['width.mm']" (change)="updateDimensions($event, 'width.mm', 'label')">mm.
      </td>
      <td></td>
    </tr>
  }
</table>
@if (!init) {
  <ll-ruler (measured)="init = true"></ll-ruler>
}
