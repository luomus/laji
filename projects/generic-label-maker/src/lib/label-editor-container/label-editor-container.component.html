<div class="label-editor">
  <div class="editor-wrap" style="margin-top: 45px">
   <ll-label-editor
      [active]="_selectedLabelItem"
      (activeChange)="setActiveLabelItem($event)"
      (done)="done()"
      [setup]="_setup"
      (setupChange)="setupChanged($event)"
      [magnification]="magnification"
      (showSettings)="showSettings($event)"></ll-label-editor>
    <div *ngIf="_setup.twoSided" style="margin-top: 10px;">
      <ll-label-editor
        [backSide]="true"
        [active]="_selectedLabelItem"
        (activeChange)="setActiveLabelItem($event)"
        (done)="done()"
        [setup]="_setup"
        (setupChange)="setupChanged($event)"
        [magnification]="magnification"
        (showSettings)="showSettings($event)"></ll-label-editor>
    </div>
    <div>
      <div style="margin-top: 15px; border: 1px solid #999; display: inline-block">
        <ll-label-preview [setup]="_setup"></ll-label-preview>
      </div>
    </div>
    <div *ngIf="_setup.twoSided" style="margin-top: 15px; border: 1px solid #999; display: inline-block">
      <ll-label-preview [setup]="_setup" [backSide]="true"></ll-label-preview>
    </div>
  </div>
  <div class="settings-wrap">
    <ul class="nav nav-tabs">
      <li [class.active]="_active === 'file'" (click)="_active = 'file'"><a>File</a></li>
      <li [class.active]="_active === 'edit'" (click)="_active = 'edit'"><a>Edit</a></li>
      <li [class.active]="_active === 'settings'" (click)="_active = 'settings'"><a>Settings</a></li>
      <li [class.active]="_active === 'fields'" (click)="_active = 'fields'"><a>Fields</a></li>
    </ul>
    <div class="tab-content clearfix">
      <div *ngIf="_active === 'file'">
        <ll-label-file [setup]="_setup" (setupChange)="setupChanged($event)" [data]="data" (html)="html.emit($event)"></ll-label-file>
      </div>
      <div [hidden]="_active !== 'edit'">
        <div class="undo-button link" [class.disabled]="!hasUndo()" (click)="undo()">
          <svg width="14" height="14" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>
          Undo
        </div>
      </div>
      <div [hidden]="_active !== 'settings'">
        <ll-label-settings
          [setup]="_setup"
          (setupChange)="setupChanged($event)"
          [selectedLabelItem]="_selectedLabelItem"
          [availableFields]="availableFields"
        ></ll-label-settings>
      </div>
      <div [hidden]="_active !== 'fields'">
        <ll-label-fields-available
          [magnification]="magnification"
          [availableFields]="availableFields"
          (addLabelItem)="addLabelItem($event)"
        ></ll-label-fields-available>
      </div>
    </div>
  </div>
</div>
