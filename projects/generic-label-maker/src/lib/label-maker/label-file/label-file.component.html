<table class="icon">
  <tr class="link" (click)="makeNew()" *ngIf="newSetup">
    <td>
    </td>
    <td>
      {{ 'New' | translate }}
    </td>
  </tr>
  <tr class="link">
    <td>
      <label class="link fill" for="file"><i class="glyphicon glyphicon-folder-open"></i></label>
    </td>
    <td>
      <label class="link fill" for="file">{{ 'Load' | translate }}</label>
      <input class="inputfile" type="file" name="file" id="file" (change)="onFileChange($event)">
    </td>
  </tr>
  <tr class="link" (click)="save()">
    <td>
      <i class="glyphicon glyphicon-save"></i>
    </td>
    <td>
      {{ 'Save' | translate }}...
    </td>
  </tr>
</table>
<ng-container *ngIf="recentFiles.length > 0">
  <h3>{{ 'Recent files' | translate }}</h3>
  <table class="icon">
    <tr class="link" *ngFor="let recent of recentFiles; let i=index">
      <td (click)="loadRecent(recent)"></td>
      <td (click)="loadRecent(recent)">{{ recent.filename | removeSuffix }}</td>
      <td style="width: 24px" class="link" (click)="removeRecent(i)">
        <ll-icon type="close" size="14"></ll-icon>
      </td>
    </tr>
  </table>
</ng-container>
<h3>{{ 'Labels' | translate }}</h3>
<table class="icon">
  <tr class="link" (click)="print()" [class.disabled]="!data">
    <td>
    </td>
    <td>
      <ll-label-print #printBtn [btnClass]="'menu-item'" [setup]="setup" [data]="data" (html)="html.emit($event)">
        {{ 'Download labels (pdf)' | translate }}
      </ll-label-print>
    </td>
  </tr>
</table>
<ng-template #saveTpl>
  <table class="save user-input">
    <tr><td><label for="saveFile">{{ 'Filename' | translate }}:</label></td><td><input id="saveFile" (keyup)="updateSaveData('file', $event.target.value)" [value]="saveData.file || ''" type="text" class="form-control input-sm"></td></tr>
    <tr *ngIf="data && data.length > 0">
      <td></td>
      <td><label>
        <input (change)="updateSaveData('includeData', !saveData.includeData)" [checked]="saveData.includeData" type="checkbox">
        {{ 'Include data' | translate }}
      </label></td>
    </tr>
  </table>
</ng-template>
<ng-template #saveActionsTpl>
  <button (click)="doSave()" [disabled]="!saveData.file" class="btn btn-default btn-sm pull-right">{{ 'Save' | translate }}</button>
</ng-template>
