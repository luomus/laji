<ng-container *ngIf="position === 'right' else sidebar"></ng-container>

<div class="content">
  <ng-content select="main"></ng-content>
</div>

<ng-container *ngIf="position === 'left' else sidebar"></ng-container>

<ng-template #sidebar>
  <div class="open-bar" [ngClass]="{'left': position === 'left', 'right': position === 'right'}">
    <a class="open-button" (click)="onSwitchState()">Open</a>
  </div>
  <div class="sidebar"
       [ngClass]="{'left': position === 'left', 'right': position === 'right'}"
       [@sidebarState]="{value: open ? 'open' : 'closed', params: {transform: position === 'left' ? '-100%' : '100%'}}"
       #sidebarRef>
    <div *ngIf="draggable" class="dragbar" (mousedown)="onDragStart($event)"></div>
    <a class="close-menu" (click)="onSwitchState()">Close</a>
    <ng-content select="nav"></ng-content>
  </div>
</ng-template>
