<div class="container mb-6">
  <h1 translate>ba.grid-index.title</h1>
  <div [innerHtml]="'ba.grid-index.p' | translate"></div>
  @if (grid$ | async; as grid) {
    <div><button class="btn btn-default" (click)="onDownloadCsv(grid)">Lataa .csv tiedosto</button></div>
    <lu-tabs
      (selectedChange)="loadedElementsStore.load($event)"
      >
      <lu-tab [heading]="'ba.grid-index.tabs.map' | translate">
        @if (loadedElementsStore.isLoaded('map')) {
          <ba-grid-index-map
            [atlasGrid]="grid"
            (selectYKJ)="onSelectYKJ($event)"
          ></ba-grid-index-map>
        }
      </lu-tab>
      <lu-tab [heading]="'ba.grid-index.tabs.table' | translate">
        @if (loadedElementsStore.isLoaded('table')) {
          <ba-grid-index-table
            [atlasGrid]="grid.gridSquares"
            (selectYKJ)="onSelectYKJ($event)"
          ></ba-grid-index-table>
        }
      </lu-tab>
    </lu-tabs>
  } @else {
    <laji-spinner class="d-block m-6"></laji-spinner>
  }
</div>

