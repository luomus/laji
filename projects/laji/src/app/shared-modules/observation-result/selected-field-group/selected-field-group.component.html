<h5 *ngIf="header">
  {{ header | translate }}
</h5>
<ul class="list-group">
  <ng-container *ngFor="let field of fields">
    <ng-container *ngTemplateOutlet="isMultiColumnGisField(field) ? multiField : singleField; context: {$implicit: field}">
    </ng-container>
    <ng-template let-field #singleField>
      <li class="list-group-item link"
        (click)="onToggle(field)"
        [ngClass]="{active: (selected | includes:field), disabled: (required | includes:field)}">
        <laji-selected-field-item
          [field]="field"
          [required]="required | includes:field"
          [label]="columnsLookup[field]?.label | translate"
          [idx]="selected.indexOf(field)"
          [len]="selected.length"
          (toggle)="onToggle($event)"
          (moveUp)="onMoveUp($event)"
          (moveDown)="onMoveDown($event)"
        ></laji-selected-field-item>
      </li>
    </ng-template>
    <ng-template let-field #multiField>
      <li class="list-group-item link"
        (click)="onToggle(field)"
        [ngClass]="{active: (selected | includes:fields), disabled: (required | includes:field)}"
        *ngIf="getGisFields(field) as fields">
        <laji-selected-field-item
          [field]="fields"
          [required]="required | includes:field"
          [label]="columnsLookup[field].label |Â translate"
          [idxs]="getIndexArray(fields)"
          [len]="selected.length"
          (toggle)="onToggle($event)"
          (moveUp)="onMoveUp($event)"
          (moveDown)="onMoveDown($event)"
        ></laji-selected-field-item>
      </li>
    </ng-template>
  </ng-container>
</ul>


