<div class="your-datasets">
  <h5>Your Datasets</h5>
  <!-- a simple `loggedIn$ | async` is not sufficient here, because loggedIn$ emits a boolean -->
  @if ({ val: loggedIn$ | async }; as loggedIn) {
    @if (!(loggedIn.val)) {
      <div class="your-datasets-content">
        <p>Please <a href="" (click)="onLogin($event)">sign in</a> to begin sharing your own trait datasets with the community. </p>
      </div>
    } @else {
      @if (datasets$ | async; as datasets) {
        @if (datasets.length > 0) {
          <div>
            @for (dataset of datasets; track dataset) {
              <ul>
                <li><a [routerLink]="['/trait-db/datasets/', dataset.id]">{{ dataset.name }}</a></li>
              </ul>
            }
          </div>
        } @else {
          <p>You have not created any datasets yet. Click below to start sharing trait data.</p>
        }
      } @else {
        <laji-spinner class="d-block m-6"></laji-spinner>
      }
      <a routerLink="/trait-db/datasets/new" class="btn btn-default">Create dataset</a>
    }
  } @else {
    <laji-spinner class="d-block m-6"></laji-spinner>
  }
</div>




