<form [formGroup]="datasetForm" (submit)="onSubmit()">
  <div>
    <label for="name">Name*:</label>
    <input id="name" class="form-control" formControlName="name" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'name' }"></ng-container>
  </div>
  <div>
    <label for="description">Description*:</label>
    <input id="description" class="form-control" formControlName="description" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'description' }"></ng-container>
  </div>
  <div>
    <label for="citation">Citation*:</label>
    <input id="citation" class="form-control" formControlName="citation" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'citation' }"></ng-container>
  </div>
  <div>
    <label for="intellectualOwner">Intellectual Owner*:</label>
    <input id="intellectualOwner" class="form-control" formControlName="intellectualOwner" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'intellectualOwner' }"></ng-container>
  </div>
  <div>
    <label for="personResponsible">Person Responsible*:</label>
    <input id="personResponsible" class="form-control" formControlName="personResponsible" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'personResponsible' }"></ng-container>
  </div>
  <div>
    <label for="contactEmail">Contact Email*:</label>
    <input id="contactEmail" class="form-control" formControlName="contactEmail" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'contactEmail' }"></ng-container>
  </div>
  <div>
    <label for="institutionCode">Institution Code:</label>
    <input id="institutionCode" class="form-control" formControlName="institutionCode" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'institutionCode' }"></ng-container>
  </div>
  <div>
    <label for="methods">Methods*:</label>
    <textarea id="methods" class="form-control" formControlName="methods"></textarea>
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'methods' }"></ng-container>
  </div>
  <div>
    <label for="taxonomicCoverage">Taxonomic Coverage*:</label>
    <input id="taxonomicCoverage" class="form-control" formControlName="taxonomicCoverage" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'taxonomicCoverage' }"></ng-container>
  </div>
  <div>
    <label for="temporalCoverage">Temporal Coverage*:</label>
    <input id="temporalCoverage" class="form-control" formControlName="temporalCoverage" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'temporalCoverage' }"></ng-container>
  </div>
  <div>
    <label for="geographicCoverage">Geographic Coverage*:</label>
    <input id="geographicCoverage" class="form-control" formControlName="geographicCoverage" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'geographicCoverage' }"></ng-container>
  </div>
  <div>
    <label for="coverageBasis">Coverage Basis*:</label>
    <input id="coverageBasis" class="form-control" formControlName="coverageBasis" type="text">
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'coverageBasis' }"></ng-container>
  </div>
  <div>
    <label for="additionalIdentifiers">Additional Identifiers:</label>
    <lu-form-string-list id="additionalIdentifiers" formControlName="additionalIdentifiers"></lu-form-string-list>
    <ng-container *ngTemplateOutlet="errorsTmp; context: { $implicit: 'additionalIdentifiers' }"></ng-container>
  </div>
  <button type="submit" class="btn btn-default" [disabled]="externalValidationInProgress">Submit</button>
  <div *ngIf="externalValidationInProgress">Server is validating...</div>
  <div *ngIf="uploadInProgress">Creating dataset...</div>
</form>

<ng-template #errorsTmp let-prop>
  <!-- <div *ngIf="datasetForm.get(prop)?.errors; let fbErrors">
    <span *ngIf="fbErrors.required">{{ 'trait-db.new-dataset.'+prop+'.required' | translate }}</span>
</div> -->
  <div class="alert alert-danger" role="alert" *ngIf="errors?.[prop]">{{ errors[prop]}}</div>
</ng-template>

