<div [ngStyle]="{height: height}">
  <laji-map [options]="{
				      zoom: 2,
				      tileLayerName: tileLayerName!,
				      overlayNames: overlayNames!,
		          tileLayerOpacity: 0.5,
		          controls: {location: false}, popupOnHover: true
				   }"
    [onPopupClose]="onPopupClose"
    [data]="_data"
    (loaded)="onMapLoad()"
    lajiFormOption="options.namedPlaceOptions.mapOptions options.namedPlaceOptions.zoomToData"
  ></laji-map>
  <laji-legend [visualization]="visualization"></laji-legend>
  <div style="display: none;">
    <div #popup>
      @for (i of listItems; track i) {
        <laji-np-info-row [title]="i.title" [value]="i.value" [pipe]="i.pipe"></laji-np-info-row>
      }
    </div>
  </div>
</div>
