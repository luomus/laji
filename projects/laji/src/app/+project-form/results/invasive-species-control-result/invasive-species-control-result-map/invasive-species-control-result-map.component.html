<div>
  <label>{{ 'invasiveSpeciesControl.stats.statistics.table.taxon.label' | translate }}</label>
  <div class="row">
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-3">
      <laji-taxon-select [searchParams]="{onlyInvasive: true}"
                         [taxonId]="taxon$ | async"
                         (taxonIdChange)="onTaxonChange($event)"
                         [allowInvalid]="false"></laji-taxon-select>
    </div>
  </div>
  <label>{{ 'invasiveSpeciesControl.stats.map.year.label' | translate }}</label>
  <laji-year-slider [year]="(year$ | async) || 'all'"
                    [yearInfo]="years$ | async"
                    (rangeChange)="onYearChange($event)"></laji-year-slider>
</div>
<div [style.position]="'relative'">
<laji-map [ngStyle]="{display: 'block', height: '80vh'}"
          [loading]="loading"
          [options]="{controls: true}"
          [data]="mapData$ | async"></laji-map>
<laji-legend [visualization]="visualization"
             [mode]="'invasiveControlEffectiveness'"></laji-legend>
</div>
