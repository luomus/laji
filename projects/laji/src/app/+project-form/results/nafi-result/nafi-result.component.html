<h3>
  {{ 'nafi.stats.title' | translate }}
  @if (fromYear) {
    <span>
      {{ fromMonth | translate }}
      {{ fromYear }}
    </span>
  }
</h3>
<div class="row">
  <div class="col-sm-12">
    <p>
      {{ 'nafi.stats.times' | translate }}
      <br>
        <a [routerLink]="[]" [queryParams]="{time: 'all'}">{{ 'theme.filterAll' | translate:{from: '1991', to: currentYear} }}</a>
        <br>
          <a [routerLink]="[]" [queryParams]="{time: currentYear}">{{ 'wholeYear'| translate:{year:currentYear} }}</a>
          @if (currentMonth > 2) {
            <a > | </a>
          }
          @if (currentMonth >= 3) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-03'}">{{ 'm-03' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 3) {
            <a > | </a>
          }
          @if (currentMonth >= 4) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-04'}">{{ 'm-04' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 4) {
            <a > | </a>
          }
          @if (currentMonth >= 5) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-05'}">{{ 'm-05' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 5) {
            <a > | </a>
          }
          @if (currentMonth >= 6) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-06'}">{{ 'm-06' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 6) {
            <a > | </a>
          }
          @if (currentMonth >= 7) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-07'}">{{ 'm-07' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 7) {
            <a > | </a>
          }
          @if (currentMonth >= 8) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-08'}">{{ 'm-08' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 8) {
            <a > | </a>
          }
          @if (currentMonth >= 9) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-09'}">{{ 'm-09' | translate }}&nbsp;{{ currentYear }}</a>
          }
          @if (currentMonth > 9) {
            <a > | </a>
          }
          @if (currentMonth >= 10) {
            <a [routerLink]="[]" [queryParams]="{time: currentYear + '-10'}">{{ 'm-10' | translate }}&nbsp;{{ currentYear }}</a>
          }
          <br>
            <a [routerLink]="[]" [queryParams]="{time: year}">{{ 'wholeYear'| translate:{year:year} }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-03'}">{{ 'm-03' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-04'}">{{ 'm-04' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-05'}">{{ 'm-05' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-06'}">{{ 'm-06' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-07'}">{{ 'm-07' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-08'}">{{ 'm-08' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-09'}">{{ 'm-09' | translate }}&nbsp;{{ year }}</a> |
            <a [routerLink]="[]" [queryParams]="{time: year + '-10'}">{{ 'm-10' | translate }}&nbsp;{{ year }}</a>
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-5 col-sm-push-7 map-col">
          <laji-ykj-map
            (gridClick)="showGridObservations($event)"
            [useStatistics]="true"
            [taxon]="(taxon$ | async) ?? undefined"
            [height]="'calc(80vh - 50px)'"
            [individualBreak]="[0, null, 1, 5, 10, 50, 100, 500]"
            [individualLabel]="['0', '1+', '1-4', '5-9', '10-49', '50-99', '100-499', '500-']"
            [countBreak]="[1, 5, 10, 50, 100, 500]"
            [countLabel]="['1-4', '5-9', '10-49', '50-99', '100-499', '500-']"
            [query]="mapQuery">
          </laji-ykj-map>
        </div>
        <div class="col-sm-7 col-sm-pull-5 table-col">
          @if (query && !query.ykj10kmCenter) {
            <laji-theme-result
              (nameClick)="navigate($event)"
              [useStatistics]="true"
              [query]="resultQuery"
              [height]="'calc(80vh - 50px)'"
            ></laji-theme-result>
          }
          @if (query && query.ykj10kmCenter) {
            <laji-theme-observation-list
              (listClose)="closeList()"
              [query]="query"
              [height]="'calc(80vh - 50px)'"
            ></laji-theme-observation-list>
          }
        </div>
      </div>
