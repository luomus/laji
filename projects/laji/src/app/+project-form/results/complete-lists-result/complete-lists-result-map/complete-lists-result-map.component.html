<div class="mb-4">
  <label>{{ 'completeLists.stats.map.collection.label' | translate }}</label>
  <select class="form-control" (change)="onCollectionChange($event.target.value)" [(ngModel)]="defaultCollection">
    <option *ngFor="let option of collectionOptions$ | async" [value]="option.value">{{ option.label }}</option>
  </select>
</div>
<div class="mb-4">
  <label>{{ 'completeLists.stats.map.taxon.label' | translate }}</label>
  <laji-spinner class="d-block" [spinning]="taxonLoading">
    <select class="form-control" (change)="onTaxonChange($event.target.value)" [(ngModel)]="defaultTaxon"
      [disabled]="taxonLoading">
      <option *ngFor="let option of taxonOptions$ | async" [value]="option.value">{{ option.label }}</option>
    </select>
  </laji-spinner>
</div>
<div [style.position]="'relative'">
  <laji-map [ngStyle]="{display: 'block', height: '80vh'}" [loading]="loading" [options]="{controls: true}"
    [data]="mapData$ | async"></laji-map>
  <laji-legend [visualization]="visualization" [mode]="'completeListPrevalence'"></laji-legend>
</div>