<h3>{{ routeId | label }}<span *ngIf="date"> - {{ date }}</span></h3>

<div style="max-width: 400px">
  <laji-nafi-bumblebee-result-filters
    (yearChange)="activeYear = $event; onFilterChange()"
    (dateChange)="activeDate = $event; onFilterChange()"
    [yearRequired]="false"
    [yearDates]="observationStats[0]['yearsDays']"
  ></laji-nafi-bumblebee-result-filters>
</div>

<laji-nafi-bumblebee-route-table
                      (documentClick)="openViewer($event)"
                      [data]="observationStats[0]['dataSets']"
                      [routeId]="routeId"
                      [season]="date"
                      [sorts]="sorts"
                      [year]="activeYear"
                      [filter]="(activeYear !== undefined) ? 'gathering.gatheringSection' : 'gathering.conversions.year'"
></laji-nafi-bumblebee-route-table>
