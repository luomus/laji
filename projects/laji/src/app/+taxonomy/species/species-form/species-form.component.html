<div class="observation-active-container">
  <laji-observation-active
    [skip]="['finnish']"
    [(query)]="search.filters"
    (queryChange)="onSearchChange()"
    queryType="taxonomy"
  ></laji-observation-active>
</div>

<label>{{ 'observation.active.informalTaxonGroupId' | translate }}</label>
<laji-observation-group-select
  [(ngModel)]="search.filters.informalTaxonGroups"
  name="informalTaxonGroupId"
  (select)="onSearchChange()">
  {{ 'observation.active.informalTaxonGroupAll'|translate }}
</laji-observation-group-select>

<label>{{ 'species.form.specimen' | translate }}</label>
<laji-taxon-select
  (taxonIdChange)="onTaxonSelect($event)"
  [taxonId]="search.taxonId"
  [searchParams]="taxonSelectFilters"
  [container]="'laji-taxon-browse'"
  [convertIdToName]="false"
></laji-taxon-select>

<bSwitch
  name="finnish"
  [switch-off-text]="'species.form.all' | translate"
  [switch-on-text]="'species.form.finnish' | translate"
  [switch-on-color]="'primary'"
  [switch-size]="'small'"
  [(ngModel)]="finnishCheckboxValue"
  [switch-base-class]="'bootstrap-switch'"
  (changeState)="onFinnishCheckboxValueChange($event.currentValue)">
</bSwitch>

<laji-select
  [(ngModel)]="search.filters.typeOfOccurrenceInFinland"
  (selectedChange)="onSearchChange()"
  [multiple]="true"
  [useFilter]="false"
  [title]="'observation.commonness' | translate"
  [info]="'observation.info.commonness' | translate"
  [options]="[
    {id: 'MX.typeOfOccurrenceCommon', value: ('MX.typeOfOccurrenceCommon' | label)},
    {id: 'MX.typeOfOccurrenceRare', value: ('MX.typeOfOccurrenceRare' | label)},
    {id: 'MX.typeOfOccurrenceVeryRare', value: ('MX.typeOfOccurrenceVeryRare' | label)}
  ]"
></laji-select>

<laji-metadata-select
  [(ngModel)]="search.filters.taxonRank"
  (ngModelChange)="onSearchChange()"
  [multiple]="true"
  [useFilter]="false"
  name="taxonRanks"
  [placeholder]="'taxonomy.active.taxonRank'"
  [alt]="'MX.taxonRankEnum'"
  [skipBefore]="'MX.species'"
></laji-metadata-select>

<laji-metadata-select
  [(ngModel)]="search.filters['latestRedListStatusFinland.status']"
  (ngModelChange)="onSearchChange()"
  [multiple]="true"
  [useFilter]="false"
  name="redListStatusFilters"
  [placeholder]="'observation.form.redListStatusId'"
  [info]="'species.info.redlist' | translate"
  [alt]="'MX.iucnStatuses'"
></laji-metadata-select>

<laji-habitat-select
  [query]="{ primaryHabitat: search.filters['primaryHabitat.habitat'], anyHabitat: search.filters['anyHabitatSearchStrings'] }"
  [info]="'species.info.habitat' | translate"
  (habitatSelect)="onHabitatChange($event)"
></laji-habitat-select>

<laji-metadata-select
  [(ngModel)]="search.filters['administrativeStatuses']"
  (ngModelChange)="onSearchChange()"
  [multiple]="true"
  [placeholder]="'MX.hasAdminStatus' | label"
  name="adminStatusFilters"
  [info]="'species.info.administrative' | translate"
  [alt]="'MX.adminStatusEnum'"
></laji-metadata-select>

<laji-three-state-multi-switch
  [title]="'observation.form.typeOfOccurrenceId' | translate"
  [trueValue]="typeOfOccurrenceInFinlandInclusions"
  [falseValue]="typeOfOccurrenceInFinlandExclusions"
  [alt]="'MX.typeOfOccurrenceEnum'"
  (update)="updateTypesOfOccurrence($event)"
></laji-three-state-multi-switch>

<laji-select
  [options]="[
    {id: 'onlyInvasive', value: 'observation.form.invasive' | translate},
    {id: 'onlyNonInvasive', value: 'observation.form.nonInvasive' | translate},
    {id: 'MX.euInvasiveSpeciesList', value: 'MX.euInvasiveSpeciesList' | label},
    {id: 'MX.controllingRisksOfInvasiveAlienSpecies', value: 'MX.controllingRisksOfInvasiveAlienSpecies' | label},
    {id: 'MX.quarantinePlantPest', value: 'MX.quarantinePlantPest' | label},
    {id: 'MX.qualityPlantPest', value: 'MX.qualityPlantPest' | label},
    {id: 'MX.otherPlantPest', value: 'MX.otherPlantPest' | label},
    {id: 'MX.nationalInvasiveSpeciesStrategy', value: 'MX.nationalInvasiveSpeciesStrategy' | label},
    {id: 'MX.otherInvasiveSpeciesList', value: 'MX.otherInvasiveSpeciesList' | label},
    {id: 'allInvasiveSpecies', value: 'observation.form.allInvasive' | translate}
  ]"
  [ngModel]="invasiveSelected"
  [title]="'observation.form.invasive' | translate"
  [useFilter]="false"
  (selectedChange)="onInvasiveChange($event)"
></laji-select>

<laji-select
  [(ngModel)]="search.filters.hasBold"
  (ngModelChange)="onSearchChange()"
  [options]="[
    {id: true, value: 'observation.form.onlyBold' | translate},
    {id: false, value: 'observation.form.onlyNonBold' | translate}
  ]"
  [title]="'observation.form.bold' | translate"
  [useFilter]="false"
  [multiple]="false"
></laji-select>
